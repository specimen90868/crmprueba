(function(a,b){function G(a$$0){var b=F[a$$0]={};return p.each(a$$0.split(s$$2),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(I,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){for(var b in a){if(b==="data"&&p.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function ba(){return!1}
function bb(){return!0}function bh(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function bi(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bj(a$$0,b,c){b=b||0;if(p.isFunction(b))return p.grep(a$$0,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return p.grep(a$$0,function(a,d){return a===b===c});if(typeof b=="string"){var d$$0=p.grep(a$$0,function(a){return a.nodeType===1});if(be.test(b))return p.filter(b,d$$0,!c);b=p.filter(b,d$$0)}return p.grep(a$$0,function(a,
d){return p.inArray(a,b)>=0===c})}function bk(a){var b=bl.split("|");var c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(b.nodeType!==1||!p.hasData(a))return;var c;var d;var e;var f=p._data(a);var g=p._data(b,f);var h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)p.event.add(b,c,h[c][d])}g.data&&
(g.data=p.extend({},g.data))}function bE(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?(b.parentNode&&(b.outerHTML=a.outerHTML),p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):c==="input"&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=
a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando)}function bF(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bX(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1);var d=b;for(var e=bV.length;e--;){b=bV[e]+c;if(b in a)return b}return d}function bY(a,b){return a=b||a,p.css(a,
"display")==="none"||!p.contains(a.ownerDocument,a)}function bZ(a,b){var c;var d;var e=[];var f=0;for(var g=a.length;f<g;f++){c=a[f];if(!c.style)continue;e[f]=p._data(c,"olddisplay"),b?(!e[f]&&c.style.display==="none"&&(c.style.display=""),c.style.display===""&&bY(c)&&(e[f]=p._data(c,"olddisplay",cb(c.nodeName)))):(d=bH(c,"display"),!e[f]&&d!=="none"&&p._data(c,"olddisplay",d))}for(f=0;f<g;f++){c=a[f];if(!c.style)continue;if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?e[f]||
"":"none"}return a}function b$(a,b,c){var d=bO.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function b_(a,b,c,d){var e=c===(d?"border":"content")?4:b==="width"?1:0;for(var f=0;e<4;e+=2)c==="margin"&&(f+=p.css(a,c+bU[e],!0)),d?(c==="content"&&(f-=parseFloat(bH(a,"padding"+bU[e]))||0),c!=="margin"&&(f-=parseFloat(bH(a,"border"+bU[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bU[e]))||0,c!=="padding"&&(f+=parseFloat(bH(a,"border"+bU[e]+"Width"))||0));return f}function ca(a,b,c){var d=b===
"width"?a.offsetWidth:a.offsetHeight;var e=!0;var f=p.support.boxSizing&&p.css(a,"boxSizing")==="border-box";if(d<=0){d=bH(a,b);if(d<0||d==null)d=a.style[b];if(bP.test(d))return d;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+b_(a,b,c||(f?"border":"content"),e)+"px"}function cb(a){if(bR[a])return bR[a];var b=p("<"+a+">").appendTo(e$$2.body);var c=b.css("display");b.remove();if(c==="none"||c===""){bI=e$$2.body.appendChild(bI||p.extend(e$$2.createElement("iframe"),{frameBorder:0,
width:0,height:0}));if(!bJ||!bI.createElement)bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close();b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e$$2.body.removeChild(bI)}return bR[a]=c,c}function ch(a,b$$0,c,d){var e$$0;if(p.isArray(b$$0))p.each(b$$0,function(b,e){c||cd.test(a)?d(a,e):ch(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&p.type(b$$0)==="object")for(e$$0 in b$$0)ch(a+"["+e$$0+"]",b$$0[e$$0],c,d);else d(a,b$$0)}
function cy(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d;var e;var f;var g=b.toLowerCase().split(s$$2);var h=0;var i=g.length;if(p.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cz(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h;var i=a[f];var j=0;var k=i?i.length:0;for(var l=a===cu;j<k&&(l||!h);j++)h=i[j](c,d,e),typeof h=="string"&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cz(a,c,d,e,h,g)));return(l||
!h)&&!g["*"]&&(h=cz(a,c,d,e,"*",g)),h}function cA(a,c){var d;var e;var f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cB(a,c,d){var e;var f;var g;var h;var i=a.contents;var j=a.dataTypes;var k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;j[0]==="*";)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+
" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function cC(a,b){var c;var d;var e;var f;var g=a.dataTypes.slice();var h=g[0];var i={};var j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if(e!=="*"){if(h!=="*"&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==
!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cK(){try{return new a.XMLHttpRequest}catch(b){}}function cL(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cT(){return setTimeout(function(){cM=b},0),cM=p.now()}function cU(a,b$$0){p.each(b$$0,function(b,c){var d=(cS[b]||[]).concat(cS["*"]);var e=0;for(var f=d.length;e<f;e++)if(d[e].call(a,b,c))return})}
function cV(a,b$$0,c$$0){var d$$0;var e$$0=0;var f$$0=0;var g=cR.length;var h=p.Deferred().always(function(){delete i.elem});var i=function $i$(){var b=cM||cT();var c=Math.max(0,j.startTime+j.duration-b);var d=1-(c/j.duration||0);var e=0;for(var f=j.tweens.length;e<f;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),d<1&&f?c:(h.resolveWith(a,[j]),!1)};var j=h.promise({elem:a,props:p.extend({},b$$0),opts:p.extend(!0,{specialEasing:{}},c$$0),originalProperties:b$$0,originalOptions:c$$0,startTime:cM||
cT(),duration:c$$0.duration,tweens:[],createTween:function(b,c,d){var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){var c=0;for(var d=b?j.tweens.length:0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}});var k=j.props;for(cW(k,j.opts.specialEasing);e$$0<g;e$$0++){d$$0=cR[e$$0].call(j,a,k,j.opts);if(d$$0)return d$$0}return cU(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,
{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cW(a,b){var c;var d;var e;var f;var g;for(c in a){d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function cX(a,b$$0,c){var d;var e;var f;var g;var h;var i;var j;var k;var l=this;var m=a.style;var n=
{};var o=[];var q=a.nodeType&&bY(a);c.queue||(j=p._queueHooks(a,"fx"),j.unqueued==null&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function $j$empty$fire$(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),a.nodeType===1&&("height"in b$$0||"width"in b$$0)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],p.css(a,"display")==="inline"&&p.css(a,"float")==="none"&&(!p.support.inlineBlockNeedsLayout||cb(a.nodeName)==="inline"?
m.display="inline-block":m.zoom=1)),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b$$0){f=b$$0[d];if(cO.exec(f)){delete b$$0[d];if(f===(q?"hide":"show"))continue;o.push(d)}}g=o.length;if(g){h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])});for(d=0;d<g;d++)e=
o[d],i=l.createTween(e,q?h[e]:0),n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start=e==="width"||e==="height"?1:0))}}function cY(a,b,c,d,e){return new cY.prototype.init(a,b,c,d,e)}function cZ(a,b){var c;var d={height:a};for(var e=0;e<4;e+=2-b)c=bU[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function c_(a){return p.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c;var d;var e$$2=a.document;var f=a.location;var g=a.navigator;var h$$1=a.jQuery;
var i$$2=a.$;var j=Array.prototype.push;var k$$2=Array.prototype.slice;var l=Array.prototype.indexOf;var m=Object.prototype.toString;var n$$2=Object.prototype.hasOwnProperty;var o=String.prototype.trim;var p=function $p$(a,b){return new p.fn.init(a,b,c)};var q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;var r=/\S/;var s$$2=/\s+/;var t=r.test("\u00c2 ")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g;var u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var w$$1=/^[\],:{}\s]*$/;
var x$$0=/(?:^|:|,)(?:\s*\[)+/g;var y$$1=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g;var z$$0=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g;var A=/^-ms-/;var B=/-([\da-z])/gi;var C=function $C$(a,b){return(b+"").toUpperCase()};var D=function $D$(){e$$2.addEventListener?(e$$2.removeEventListener("DOMContentLoaded",D,!1),p.ready()):e$$2.readyState==="complete"&&(e$$2.detachEvent("onreadystatechange",D),p.ready())};var E={};p.fn=p.prototype={constructor:p,init:function $p$$init$(a,c,
d){var f;var g;var h;var i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=u.exec(a);if(f&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e$$2,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);g=e$$2.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=
1,this[0]=g}return this.context=e$$2,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.0",length:0,size:function $p$$size$(){return this.length},toArray:function $p$$toArray$(){return k$$2.call(this)},get:function $p$$get$(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function $p$$pushStack$(a,
b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function $p$$each$(a,b){return p.each(this,a,b)},ready:function $p$$ready$(a){return p.ready.promise().done(a),this},eq:function $p$$eq$(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function $p$$first$(){return this.eq(0)},last:function $p$$last$(){return this.eq(-1)},slice:function $p$$slice$(){return this.pushStack(k$$2.apply(this,
arguments),"slice",k$$2.call(arguments).join(","))},map:function $p$$map$(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function $p$$end$(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function $p$fn$extend$(){var a;var c;var d;var e;var f;var g;var h=arguments[0]||{};var i=1;var j=arguments.length;var k=!1;for(typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&
!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);i<j;i++)if((a=arguments[i])!=null)for(c in a){d=h[c],e=a[c];if(h===e)continue;k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e)}return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i$$2),b&&a.jQuery===p&&(a.jQuery=h$$1),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(a===!0?--p.readyWait:p.isReady)return;
if(!e$$2.body)return setTimeout(p.ready,1);p.isReady=!0;if(a!==!0&&--p.readyWait>0)return;d.resolveWith(e$$2,[p]),p.fn.trigger&&p(e$$2).trigger("ready").off("ready")},isFunction:function(a){return p.type(a)==="function"},isArray:Array.isArray||function(a){return p.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||p.type(a)!==
"object"||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n$$2.call(a,"constructor")&&!n$$2.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var d in a);return d===b||n$$2.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a);},parseHTML:function(a,b,c){var d;return!a||typeof a!="string"?null:(typeof b=="boolean"&&(c=b,b=0),b=b||e$$2,(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),
p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(b){if(!b||typeof b!="string")return null;b=p.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(w$$1.test(b.replace(y$$1,"@").replace(z$$0,"]").replace(x$$0,"")))return(new Function("return "+b))();p.error("Invalid JSON: "+b)},parseXML:function(c){var d;var e;if(!c||typeof c!="string")return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),
d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b$$0){b$$0&&r.test(b$$0)&&(a.execScript||function(b){a.eval.call(a,b)})(b$$0)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e;var f=0;var g=a.length;var h=g===b||p.isFunction(a);if(d)if(h)for(e in a){if(c.apply(a[e],
d)===!1)break}else for(;f<g;){if(c.apply(a[f++],d)===!1)break}else if(h)for(e in a){if(c.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(c.call(a[f],f,a[f++])===!1)break;return a},trim:o?function(a){return a==null?"":o.call(a)}:function(a){return a==null?"":a.toString().replace(t,"")},makeArray:function(a,b){var c;var d=b||[];return a!=null&&(c=p.type(a),a.length==null||c==="string"||c==="function"||c==="regexp"||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,
a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length;var e=a.length;var f=0;if(typeof d=="number")for(;f<d;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d;var e=[];var f=0;var g=a.length;for(c=!!c;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e;var f;var g=[];var h=0;var i=a.length;var j=a instanceof p||i!==b&&typeof i=="number"&&(i>0&&a[0]&&
a[i-1]||i===0||p.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),e!=null&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d;var e;var f;return typeof c=="string"&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k$$2.call(arguments,2),f=function $f$(){return a.apply(c,e.concat(k$$2.call(arguments)))},f.guid=a.guid=a.guid||f.guid||p.guid++,f):b},access:function(a$$0,c$$0,d,e,f,g,h){var i;var j=d==null;var k=0;var l=a$$0.length;if(d&&
typeof d=="object"){for(k in d)p.access(a$$0,c$$0,k,d[k],1,g,e);f=1}else if(e!==b){i=h===b&&p.isFunction(e),j&&(i?(i=c$$0,c$$0=function $c$$0$(a,b,c){return i.call(p(a),c)}):(c$$0.call(a$$0,e),c$$0=null));if(c$$0)for(;k<l;k++)c$$0(a$$0[k],d,i?e.call(a$$0[k],k,c$$0(a$$0[k],d)):e,h);f=1}return f?a$$0:j?c$$0.call(a$$0):l?c$$0(a$$0[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function $p$ready$promise$(b){if(!d){d=p.Deferred();if(e$$2.readyState==="complete"||e$$2.readyState!==
"loading"&&e$$2.addEventListener)setTimeout(p.ready,1);else if(e$$2.addEventListener)e$$2.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e$$2.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=a.frameElement==null&&e$$2.documentElement}catch(f){}c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e$$2);var F={};p.Callbacks=function $p$Callbacks$(a$$0){a$$0=typeof a$$0=="string"?F[a$$0]||G(a$$0):p.extend({},a$$0);var c$$0;var d$$0;var e;var f;var g;var h;var i=[];var j=!a$$0.once&&[];var k=function $k$(b){for(c$$0=a$$0.memory&&b,d$$0=!0,h=f||0,f=0,g=i.length,e=!0;i&&h<g;h++)if(i[h].apply(b[0],b[1])===!1&&a$$0.stopOnFalse){c$$0=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c$$0?i=[]:l.disable())};var l={add:function(){if(i){var b$$1=i.length;
(function d(b$$0){p.each(b$$0,function(b,c){p.isFunction(c)&&(!a$$0.unique||!l.has(c))?i.push(c):c&&c.length&&d(c)})})(arguments),e?g=i.length:c$$0&&(f=b$$1,k(c$$0))}return this},remove:function(){return i&&p.each(arguments,function(a,b){for(var c;(c=p.inArray(b,i,c))>-1;)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c$$0=b,this},disabled:function(){return!i},lock:function(){return j=b,c$$0||
l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d$$0||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d$$0}};return l},p.extend({Deferred:function(a$$1){var b$$0=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]];var c$$0="pending";var d$$0={state:function(){return c$$0},
always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a$$0=arguments;return p.Deferred(function(c){p.each(b$$0,function(b,d){var f=d[0];var g=a$$0[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a$$0=null}).promise()},promise:function(a){return typeof a=="object"?p.extend(a,d$$0):d$$0}};var e={};return d$$0.pipe=d$$0.then,
p.each(b$$0,function(a,f){var g=f[2];var h=f[3];d$$0[f[1]]=g.add,h&&g.add(function(){c$$0=h},b$$0[a^1][2].disable,b$$0[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d$$0.promise(e),a$$1&&a$$1.call(e,e),e},when:function(a$$0){var b$$0=0;var c$$0=k$$2.call(arguments);var d$$0=c$$0.length;var e=d$$0!==1||a$$0&&p.isFunction(a$$0.promise)?d$$0:0;var f=e===1?a$$0:p.Deferred();var g=function $g$(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k$$2.call(arguments):d,c===h?f.notifyWith(b,
c):--e||f.resolveWith(b,c)}};var h;var i;var j;if(d$$0>1)for(h=new Array(d$$0),i=new Array(d$$0),j=new Array(d$$0);b$$0<d$$0;b$$0++)c$$0[b$$0]&&p.isFunction(c$$0[b$$0].promise)?c$$0[b$$0].promise().done(g(b$$0,j,c$$0)).fail(f.reject).progress(g(b$$0,i,h)):--e;return e||f.resolveWith(j,c$$0),f.promise()}}),p.support=function(){var b;var c$$0;var d$$0;var f$$0;var g$$0;var h$$0;var i$$0;var j;var k;var l;var m;var n=e$$2.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
c$$0=n.getElementsByTagName("*"),d$$0=n.getElementsByTagName("a")[0],d$$0.style.cssText="top:1px;float:left;opacity:.5";if(!c$$0||!c$$0.length||!d$$0)return{};f$$0=e$$2.createElement("select"),g$$0=f$$0.appendChild(e$$2.createElement("option")),h$$0=n.getElementsByTagName("input")[0],b={leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d$$0.getAttribute("style")),hrefNormalized:d$$0.getAttribute("href")===
"/a",opacity:/^0.5/.test(d$$0.style.opacity),cssFloat:!!d$$0.style.cssFloat,checkOn:h$$0.value==="on",optSelected:g$$0.selected,getSetAttribute:n.className!=="t",enctype:!!e$$2.createElement("form").enctype,html5Clone:e$$2.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:e$$2.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,
pixelPosition:!1},h$$0.checked=!0,b.noCloneChecked=h$$0.cloneNode(!0).checked,f$$0.disabled=!0,b.optDisabled=!g$$0.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function $m$(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h$$0=e$$2.createElement("input"),h$$0.value="t",h$$0.setAttribute("type","radio"),b.radioValue=h$$0.value==="t",h$$0.setAttribute("checked","checked"),h$$0.setAttribute("name",
"t"),n.appendChild(h$$0),i$$0=e$$2.createDocumentFragment(),i$$0.appendChild(n.lastChild),b.checkClone=i$$0.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h$$0.checked,i$$0.removeChild(h$$0),i$$0.appendChild(n);if(n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l=typeof n[j]=="function"),b[k+"Bubbles"]=l;return p(function(){var c;var d;var f;var g;var h="padding:0;margin:0;border:0;display:block;overflow:hidden;";var i=e$$2.getElementsByTagName("body")[0];
if(!i)return;c=e$$2.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e$$2.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&f[0].offsetHeight===0,d.innerHTML="",
d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=d.offsetWidth===4,b.doesNotIncludeMarginInBodyOffset=i.offsetTop!==1,a.getComputedStyle&&(b.pixelPosition=(a.getComputedStyle(d,null)||{}).top!=="1%",b.boxSizingReliable=(a.getComputedStyle(d,null)||{width:"4px"}).width==="4px",g=e$$2.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=
g.style.width="0",d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),typeof d.style.zoom!="undefined"&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=d.offsetWidth===3,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=d.offsetWidth!==3,c.style.zoom=1),i.removeChild(c),c=d=f=g=null}),i$$0.removeChild(n),
c$$0=d$$0=f$$0=g$$0=h$$0=i$$0=n=null,b}();var H=/^(?:\{.*\}|\[.*\])$/;var I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!K(a)},data:function(a,c,d,e){if(!p.acceptData(a))return;var f;var g;var h=p.expando;var i=typeof c=="string";var j=a.nodeType;var k=j?p.cache:a;var l=
j?a[h]:a[h]&&h;if((!l||!k[l]||!e&&!k[l].data)&&i&&d===b)return;l||(j?a[h]=l=p.deletedIds.pop()||++p.uuid:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop));if(typeof c=="object"||typeof c=="function")e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c);return f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?(g=f[c],g==null&&(g=f[p.camelCase(c)])):g=f,g},removeData:function(a,b,c){if(!p.acceptData(a))return;var d;var e;var f;var g=a.nodeType;var h=g?p.cache:a;var i=g?a[p.expando]:
p.expando;if(!h[i])return;if(b){d=c?h[i]:h[i].data;if(d){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}}if(!c){delete h[i].data;if(!K(h[i]))return}g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===
b}}),p.fn.extend({data:function(a,c$$0){var d;var e;var f;var g;var h;var i=this[0];var j=0;var k=null;if(a===b){if(this.length){k=p.data(i);if(i.nodeType===1&&!p._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")===0&&(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}}return k}return typeof a=="object"?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){if(c===b)return k=
this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c$$0,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||
[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b);var d=c.shift();var e=p._queueHooks(a,b);var f=function $f$(){p.dequeue(a,b)};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),delete e.stop,d.call(a,f,e)),!c.length&&e&&e.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),p.fn.extend({queue:function(a,c){var d=2;return typeof a!=
"string"&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),a==="fx"&&b[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b$$0){return a=p.fx?p.fx.speeds[a]||a:a,b$$0=b$$0||"fx",this.queue(b$$0,function(b,c){var d=setTimeout(b,a);c.stop=function $c$stop$(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,
c){var d;var e=1;var f=p.Deferred();var g=this;var h=this.length;var i=function $i$(){--e||f.resolveWith(g,[g])};for(typeof a!="string"&&(c=a,a=b),a=a||"fx";h--;)(d=p._data(g[h],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L;var M;var N;var O=/[\t\r\n]/g;var P=/\r/g;var Q=/^(?:button|input)$/i;var R=/^(?:button|input|object|select|textarea)$/i;var S=/^a(?:rea|)$/i;var T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;
var U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b$$0;var c;var d;var e;var f;var g;var h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,
b,this.className))});if(a&&typeof a=="string"){b$$0=a.split(s$$2);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b$$0.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b$$0.length;g<h;g++)~f.indexOf(" "+b$$0[g]+" ")||(f+=b$$0[g]+" ");e.className=p.trim(f)}}}return this},removeClass:function(a){var c;var d;var e;var f;var g;var h;var i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||
a===b){c=(a||"").split(s$$2);for(h=0,i=this.length;h<i;h++){e=this[h];if(e.nodeType===1&&e.className){d=(" "+e.className+" ").replace(O," ");for(f=0,g=c.length;f<g;f++)for(;d.indexOf(" "+c[f]+" ")>-1;)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}}}return this},toggleClass:function(a,b){var c$$0=typeof a;var d=typeof b=="boolean";return p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c$$0==="string"){var e;var f=0;var g=
p(this);var h=b;for(var i=a.split(s$$2);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c$$0==="undefined"||c$$0==="boolean")this.className&&p._data(this,"__className__",this.className),this.className=this.className||a===!1?"":p._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ";var c=0;for(var d=this.length;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>-1)return!0;return!1},val:function(a$$0){var c;var d$$0;var e;
var f$$0=this[0];if(!arguments.length){if(f$$0)return c=p.valHooks[f$$0.type]||p.valHooks[f$$0.nodeName.toLowerCase()],c&&"get"in c&&(d$$0=c.get(f$$0,"value"))!==b?d$$0:(d$$0=f$$0.value,typeof d$$0=="string"?d$$0.replace(P,""):d$$0==null?"":d$$0);return}return e=p.isFunction(a$$0),this.each(function(d){var f;var g=p(this);if(this.nodeType!==1)return;e?f=a$$0.call(this,d,g.val()):f=a$$0,f==null?f="":typeof f=="number"?f+="":p.isArray(f)&&(f=p.map(f,function(a){return a==null?"":a+""})),c=p.valHooks[this.type]||
p.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,f,"value")===b)this.value=f})}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b;var c;var d;var e;var f=a.selectedIndex;var g=[];var h=a.options;var i=a.type==="select-one";if(f<0)return null;for(c=i?f:0,d=i?f+1:h.length;c<d;c++){e=h[c];if(e.selected&&(p.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||
!p.nodeName(e.parentNode,"optgroup"))){b=p(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f;var g;var h;var i=a.nodeType;if(!a||i===3||i===8||i===2)return;if(e&&p.isFunction(p.fn[c]))return p(a)[c](d);if(typeof a.getAttribute=="undefined")return p.prop(a,c,d);h=i!==
1||!p.isXMLDoc(a),h&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L));if(d!==b){if(d===null){p.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)},removeAttr:function(a,b){var c;var d;var e;var f;var g=0;if(b&&a.nodeType===1)for(d=b.split(s$$2);g<d.length;g++)e=d[g],e&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))},
attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&b==="radio"&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){if(L&&p.nodeName(a,"button"))return L.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",
maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e;var f;var g;var h=a.nodeType;if(!a||h===3||h===8||h===2)return;return g=h!==1||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");
return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function $M$get$(a,c){var d;var e=p.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function $M$set$(a,b,c){var d;return b===!1?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function $p$valHooks$button$get$(a,c){var d;return d=
a.getAttributeNode(c),d&&(N[c]?d.value!=="":d.specified)?d.value:b},set:function $p$valHooks$button$set$(a,b,c){var d=a.getAttributeNode(c);return d||(d=e$$2.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a$$0,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),p.attrHooks.contenteditable={get:L.get,set:function $p$attrHooks$contenteditable$set$(a,b,c){b===""&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||
p.each(["href","src","width","height"],function(a$$0,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),p.support.style||(p.attrHooks.style={get:function $p$attrHooks$style$get$(a){return a.style.cssText.toLowerCase()||b},set:function $p$attrHooks$style$set$(a,b){return a.style.cssText=""+b}}),p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&
b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function $p$valHooks$this$get$(a){return a.getAttribute("value")===null?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){if(p.isArray(b))return a.checked=p.inArray(p(a).val(),b)>=0}})});var V=/^(?:textarea|input|select)$/i;var W=/^([^\.]*|)(?:\.(.+)|)$/;var X=/(?:^|\s)hover(\.\S+|)\b/;
var Y=/^key/;var Z$$0=/^(?:mouse|contextmenu)|click/;var $$$0=/^(?:focusinfocus|focusoutblur)$/;var _$$0=function $_$$0$(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function $p$event$add$(a$$0,c,d,e,f){var g;var h;var i;var j;var k;var l;var m;var n;var o;var q;var r;if(a$$0.nodeType===3||a$$0.nodeType===8||!c||!d||!(g=p._data(a$$0)))return;d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=
h=function $h$(a){return typeof p!="undefined"&&(!a||p.event.triggered!==a.type)?p.event.dispatch.apply(h.elem,arguments):b},h.elem=a$$0),c=p.trim(_$$0(c)).split(" ");for(j=0;j<c.length;j++){k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a$$0,
e,m,h)===!1)a$$0.addEventListener?a$$0.addEventListener(l,h,!1):a$$0.attachEvent&&a$$0.attachEvent("on"+l,h)}r.add&&(r.add.call(a$$0,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0}a$$0=null},global:{},remove:function $p$event$remove$(a,b,c,d,e){var f;var g;var h;var i;var j;var k;var l;var m;var n;var o;var q;var r=p.hasData(a)&&p._data(a);if(!r||!(m=r.events))return;b=p.trim(_$$0(b||"")).split(" ");for(f=0;f<b.length;f++){g=W.exec(b[f])||
[],h=i=g[1],j=g[2];if(!h){for(h in m)p.event.remove(a,h+b[f],c,d,!0);continue}n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<o.length;l++)q=o[l],(e||i===q.origType)&&(!c||c.guid===q.guid)&&(!j||j.test(q.namespace))&&(!d||d===q.selector||d==="**"&&q.selector)&&(o.splice(l--,1),q.selector&&o.delegateCount--,n.remove&&n.remove.call(a,q));o.length===0&&k!==o.length&&((!n.teardown||
n.teardown.call(a,j,r.handle)===!1)&&p.removeEvent(a,h,r.handle),delete m[h])}p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function $p$event$trigger$(c,d,f,g){if(!f||f.nodeType!==3&&f.nodeType!==8){var h;var i;var j;var k;var l;var m;var n;var o;var q;var r;var s=c.type||c;var t=[];if($$$0.test(s+p.event.triggered))return;s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort());
if((!f||p.event.customEvent[s])&&!p.event.global[s])return;c=typeof c=="object"?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"";if(!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}c.result=b,c.target||(c.target=f),d=d!=null?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||
{};if(n.trigger&&n.trigger.apply(f,d)===!1)return;q=[[f,n.bindType||s]];if(!g&&!n.noBubble&&!p.isWindow(f)){r=n.delegateType||s,k=$$$0.test(r+s)?f:f.parentNode;for(l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e$$2)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),o=m&&k[m],o&&p.acceptData(k)&&o.apply(k,d)===!1&&c.preventDefault();return c.type=
s,!g&&!c.isDefaultPrevented()&&(!n._default||n._default.apply(f.ownerDocument,d)===!1)&&(s!=="click"||!p.nodeName(f,"a"))&&p.acceptData(f)&&m&&f[s]&&(s!=="focus"&&s!=="blur"||c.target.offsetWidth!==0)&&!p.isWindow(f)&&(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,l&&(f[m]=l)),c.result}return},dispatch:function $p$event$dispatch$(c){c=p.event.fix(c||a.event);var d;var e;var f;var g;var h;var i;var j;var k;var l;var m;var n;var o=(p._data(this,"events")||{})[c.type]||[];var q=
o.delegateCount;var r=[].slice.call(arguments);var s=!c.exclusive&&!c.namespace;var t=p.event.special[c.type]||{};var u=[];r[0]=c,c.delegateTarget=this;if(t.preDispatch&&t.preDispatch.call(this,c)===!1)return;if(q&&(!c.button||c.type!=="click")){g=p(this),g.context=this;for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||c.type!=="click"){i={},k=[],g[0]=f;for(d=0;d<q;d++)l=o[d],m=l.selector,i[m]===b&&(i[m]=g.is(m)),i[m]&&k.push(l);k.length&&u.push({elem:f,matches:k})}}o.length>q&&u.push({elem:this,
matches:o.slice(q)});for(d=0;d<u.length&&!c.isPropagationStopped();d++){j=u[d],c.currentTarget=j.elem;for(e=0;e<j.matches.length&&!c.isImmediatePropagationStopped();e++){l=j.matches[e];if(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))c.data=l.data,c.handleObj=l,h=((p.event.special[l.origType]||{}).handle||l.handler).apply(j.elem,r),h!==b&&(c.result=h,h===!1&&(c.preventDefault(),c.stopPropagation()))}}return t.postDispatch&&t.postDispatch.call(this,c),c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function $p$event$keyHooks$filter$(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function $p$event$mouseHooks$filter$(a,c){var d;var f;var g;var h=c.button;var i=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||e$$2,f=d.documentElement,
g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function $p$event$fix$(a){if(a[p.expando])return a;var b;var c;var d=a;var f=p.event.fixHooks[a.type]||{};var g=f.props?this.props.concat(f.props):this.props;a=p.Event(d);for(b=g.length;b;)c=
g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e$$2),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{ready:{setup:p.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function $p$event$special$beforeunload$setup$(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function $p$event$special$beforeunload$teardown$(a,b){this.onbeforeunload===b&&(this.onbeforeunload=
null)}}},simulate:function $p$event$simulate$(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e$$2.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]=="undefined"&&(a[d]=null),a.detachEvent(d,c))},p.Event=function $p$Event$(a,b){if(this instanceof
p.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0;else return new p.Event(a,b)},p.Event.prototype={preventDefault:function $p$Event$$preventDefault$(){this.isDefaultPrevented=bb;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function $p$Event$$stopPropagation$(){this.isPropagationStopped=
bb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function $p$Event$$stopImmediatePropagation$(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a$$0,b){p.event.special[a$$0]={delegateType:b,bindType:b,handle:function $p$event$special$a$$0$handle$(a){var c;var d=this;var e=
a.relatedTarget;var f=a.handleObj;var g=f.selector;if(!e||e!==d&&!p.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function $p$event$special$submit$setup$(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a$$0){var c=a$$0.target;var d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",
function(a){a._submit_bubble=!0}),p._data(d,"_submit_attached",!0))})},postDispatch:function $p$event$special$submit$postDispatch$(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function $p$event$special$submit$teardown$(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function $p$event$special$change$setup$(){if(V.test(this.nodeName)){if(this.type===
"checkbox"||this.type==="radio")p.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),p.event.simulate("change",this,a,!0)});return!1}p.event.add(this,"beforeactivate._change",function(a$$0){var b=a$$0.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&
!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function $p$event$special$change$handle$(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function $p$event$special$change$teardown$(){return p.event.remove(this,"._change"),V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a$$0,b){var c=
0;var d=function $d$(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function $p$event$special$b$setup$(){c++===0&&e$$2.addEventListener(a$$0,d,!0)},teardown:function $p$event$special$b$teardown$(){--c===0&&e$$2.removeEventListener(a$$0,d,!0)}}}),p.fn.extend({on:function(a$$0,c,d,e,f){var g;var h;if(typeof a$$0=="object"){typeof c!="string"&&(d=d||c,c=b);for(h in a$$0)this.on(h,c,d,a$$0[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=
b):(e=d,d=c,c=b));if(e===!1)e=ba;else if(!e)return this;return f===1&&(g=e,e=function $e$(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a$$0,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e;var f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if(typeof a=="object"){for(f in a)this.off(f,
c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):
this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return p.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments;var c$$0=a.guid||p.guid++;var d=0;var e$$0=function $e$$0$(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e$$0.guid=c$$0;d<b.length;)b[d++].guid=c$$0;return this.click(e$$0)},hover:function(a,
b){return this.mouseenter(a).mouseleave(b||a)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a$$0,b){p.fn[b]=function $p$fn$b$(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z$$0.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),
function(a$$1,b$$1){function bd(a,b,c,d){var e=0;for(var f=b.length;e<f;e++)Z(a,b[e],c,d)}function be(a,b,c,d,e,f){var g;var h=$.setFilters[b.toLowerCase()];return h||Z.error(b),(a||!(g=e))&&bd(a||"*",d,g=[],e),g.length>0?h(g,c,f):[]}function bf(a$$0,c$$0,d,e,f){var g;var h;var i;var j;var k;var l;var m;var n;var p=0;var q=f.length;var s=L.POS;var t=new RegExp("^"+s.source+"(?!"+r$$0+")","i");for(var u=function $u$(){var a=1;for(var c=arguments.length-2;a<c;a++)arguments[a]===b$$1&&(g[a]=b$$1)};p<
q;p++){for(s.exec(""),a$$0=f[p],j=[],i=0,k=e;g=s.exec(a$$0);){n=s.lastIndex=g.index+g[0].length;if(n>i){m=a$$0.slice(i,g.index),i=n,l=[c$$0],B.test(m)&&(k&&(l=k),k=e);if(h=H.test(m))m=m.slice(0,-5).replace(B,"$&*");g.length>1&&g[0].replace(t,u),k=be(m,g[1],g[2],l,k,h)}}k?(j=j.concat(k),(m=a$$0.slice(i))&&m!==")"?B.test(m)?bd(m,j,d,e):Z(m,c$$0,d,e?e.concat(k):k):o$$0.apply(d,j)):Z(a$$0,c$$0,d,e)}return q===1?d:Z.uniqueSort(d)}function bg(a,b,c){var d;var e;var f;var g=[];var i=0;var j=D.exec(a);var k=
!j.pop()&&!j.pop();var l=k&&a.match(C)||[""];var m=$.preFilter;var n=$.filter;for(var o=!c&&b!==h$$0;(e=l[i])!=null&&k;i++)for(g.push(d=[]),o&&(e=" "+e);e;){k=!1;if(j=B.exec(e))e=e.slice(j[0].length),k=d.push({part:j.pop().replace(A," "),captures:j});for(f in n)(j=L[f].exec(e))&&(!m[f]||(j=m[f](j,b,c)))&&(e=e.slice(j.shift().length),k=d.push({part:f,captures:j}));if(!k)break}return k||Z.error(a),g}function bh(a$$0,b$$0,e$$0){var f=b$$0.dir;var g=m$$0++;return a$$0||(a$$0=function $a$$0$(a){return a===
e$$0}),b$$0.first?function(b,c){for(;b=b[f];)if(b.nodeType===1)return a$$0(b,c)&&b}:function(b,e){var h;var i=g+"."+d$$1;for(var j=i+"."+c$$1;b=b[f];)if(b.nodeType===1){if((h=b[q$$0])===j)return b.sizset;if(typeof h=="string"&&h.indexOf(i)===0){if(b.sizset)return b}else{b[q$$0]=j;if(a$$0(b,e))return b.sizset=!0,b;b.sizset=!1}}}}function bi(a,b){return a?function(c,d){var e=b(c,d);return e&&a(e===!0?c:e,d)}:b}function bj(a,b,c){var d;var e;for(var f=0;d=a[f];f++)$.relative[d.part]?e=bh(e,$.relative[d.part],
b):(d.captures.push(b,c),e=bi(e,$.filter[d.part].apply(null,d.captures)));return e}function bk(a){return function(b,c){var d;for(var e=0;d=a[e];e++)if(d(b,c))return!0;return!1}}var c$$1;var d$$1;var e$$1;var f$$1;var g$$1;var h$$0=a$$1.document;var i$$1=h$$0.documentElement;var j$$0="undefined";var k$$0=!1;var l$$0=!0;var m$$0=0;var n$$0=[].slice;var o$$0=[].push;var q$$0=("sizcache"+Math.random()).replace(".","");var r$$0="[\\x20\\t\\r\\n\\f]";var s$$0="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+";var t$$0=
s$$0.replace("w","w#");var u$$0="([*^$|!~]?=)";var v="\\["+r$$0+"*("+s$$0+")"+r$$0+"*(?:"+u$$0+r$$0+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+t$$0+")|)|)"+r$$0+"*\\]";var w=":("+s$$0+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)";var x=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)";var y=r$$0+"*([\\x20\\t\\r\\n\\f>+~])"+r$$0+"*";var z="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+v+"|"+w.replace(2,7)+"|[^\\\\(),])+";var A=new RegExp("^"+
r$$0+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r$$0+"+$","g");var B=new RegExp("^"+y);var C=new RegExp(z+"?(?="+r$$0+"*,|$)","g");var D=new RegExp("^(?:(?!,)(?:(?:^|,)"+r$$0+"*"+z+")*?|"+r$$0+"*(.*?))(\\)|$)");var E=new RegExp(z.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+y,"g");var F=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/;var G=/[\x20\t\r\n\f]*[+~]/;var H=/:not\($/;var I=/h\d/i;var J=/input|select|textarea|button/i;var K=/\\(?!\\)/g;var L={ID:new RegExp("^#("+s$$0+")"),CLASS:new RegExp("^\\.("+s$$0+")"),NAME:new RegExp("^\\[name=['\"]?("+
s$$0+")['\"]?\\]"),TAG:new RegExp("^("+s$$0.replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+v),PSEUDO:new RegExp("^"+w),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+r$$0+"*(even|odd|(([+-]|)(\\d*)n|)"+r$$0+"*(?:([+-]|)"+r$$0+"*(\\d+)|))"+r$$0+"*\\)|)","i"),POS:new RegExp(x,"ig"),needsContext:new RegExp("^"+r$$0+"*[>+~]|"+x,"i")};var M={};var N=[];var O={};var P=[];var Q=function $Q$(a){return a.sizzleFilter=!0,a};var R=function $R$(a){return function(b){return b.nodeName.toLowerCase()===
"input"&&b.type===a}};var S=function $S$(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}};var T=function $T$(a){var b=!1;var c=h$$0.createElement("div");try{b=a(c)}catch(d){}return c=null,b};var U=T(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return b!=="boolean"&&b!=="string"});var V=T(function(a){a.id=q$$0+0,a.innerHTML="<a name='"+q$$0+"'></a><div name='"+q$$0+"'></div>",i$$1.insertBefore(a,i$$1.firstChild);
var b=h$$0.getElementsByName&&h$$0.getElementsByName(q$$0).length===2+h$$0.getElementsByName(q$$0+0).length;return g$$1=!h$$0.getElementById(q$$0),i$$1.removeChild(a),b});var W=T(function(a){return a.appendChild(h$$0.createComment("")),a.getElementsByTagName("*").length===0});var X=T(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==j$$0&&a.firstChild.getAttribute("href")==="#"});var Y=T(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",
!a.getElementsByClassName||a.getElementsByClassName("e").length===0?!1:(a.lastChild.className="e",a.getElementsByClassName("e").length!==1)});var Z=function $Z$(a,b,c,d){c=c||[],b=b||h$$0;var e;var f;var g;var i;var j=b.nodeType;if(j!==1&&j!==9)return[];if(!a||typeof a!="string")return c;g=ba(b);if(!g&&!d)if(e=F.exec(a))if(i=e[1])if(j===9){f=b.getElementById(i);if(!f||!f.parentNode)return c;if(f.id===i)return c.push(f),c}else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(i))&&bb(b,f)&&f.id===
i)return c.push(f),c}else{if(e[2])return o$$0.apply(c,n$$0.call(b.getElementsByTagName(a),0)),c;if((i=e[3])&&Y&&b.getElementsByClassName)return o$$0.apply(c,n$$0.call(b.getElementsByClassName(i),0)),c}return bm(a,b,c,d,g)};var $=Z.selectors={cacheLength:50,match:L,order:["ID","TAG"],attrHandle:{},createPseudo:Q,find:{ID:g$$1?function(a,b,c){if(typeof b.getElementById!==j$$0&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==j$$0&&!d){var e=
c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==j$$0&&e.getAttributeNode("id").value===a?[e]:b$$1:[]}},TAG:W?function(a,b){if(typeof b.getElementsByTagName!==j$$0)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){var d;var e=[];for(var f=0;d=c[f];f++)d.nodeType===1&&e.push(d);return e}return c}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function $Z$selectors$preFilter$ATTR$(a){return a[1]=
a[1].replace(K,""),a[3]=(a[4]||a[5]||"").replace(K,""),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function $Z$selectors$preFilter$CHILD$(a){return a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||Z.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&Z.error(a[0]),a},PSEUDO:function $Z$selectors$preFilter$PSEUDO$(a){var b;var c=a[4];return L.CHILD.test(a[0])?null:(c&&(b=D.exec(c))&&b.pop()&&(a[0]=a[0].slice(0,b[0].length-c.length-1),c=
b[0].slice(0,-1)),a.splice(2,3,c||a[3]),a)}},filter:{ID:g$$1?function(a){return a=a.replace(K,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(K,""),function(b){var c=typeof b.getAttributeNode!==j$$0&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function $Z$selectors$filter$TAG$(a){return a==="*"?function(){return!0}:(a=a.replace(K,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function $Z$selectors$filter$CLASS$(a$$0){var b=
M[a$$0];return b||(b=M[a$$0]=new RegExp("(^|"+r$$0+")"+a$$0+"("+r$$0+"|$)"),N.push(a$$0),N.length>$.cacheLength&&delete M[N.shift()]),function(a){return b.test(a.className||typeof a.getAttribute!==j$$0&&a.getAttribute("class")||"")}},ATTR:function $Z$selectors$filter$ATTR$(a,b$$0,c){return b$$0?function(d){var e=Z.attr(d,a);var f=e+"";if(e==null)return b$$0==="!=";switch(b$$0){case "=":return f===c;case "!=":return f!==c;case "^=":return c&&f.indexOf(c)===0;case "*=":return c&&f.indexOf(c)>-1;case "$=":return c&&
f.substr(f.length-c.length)===c;case "~=":return(" "+f+" ").indexOf(c)>-1;case "|=":return f===c||f.substr(0,c.length+1)===c+"-"}}:function(b){return Z.attr(b,a)!=null}},CHILD:function $Z$selectors$filter$CHILD$(a$$0,b$$0,c$$0,d){if(a$$0==="nth"){var e=m$$0++;return function(a){var b;var f;var g=0;var h=a;if(c$$0===1&&d===0)return!0;b=a.parentNode;if(b&&(b[q$$0]!==e||!a.sizset)){for(h=b.firstChild;h;h=h.nextSibling)if(h.nodeType===1){h.sizset=++g;if(h===a)break}b[q$$0]=e}return f=a.sizset-d,c$$0===
0?f===0:f%c$$0===0&&f/c$$0>=0}}return function(b){var c=b;switch(a$$0){case "only":case "first":for(;c=c.previousSibling;)if(c.nodeType===1)return!1;if(a$$0==="first")return!0;c=b;case "last":for(;c=c.nextSibling;)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function $Z$selectors$filter$PSEUDO$(a,b,c,d){var e=$.pseudos[a]||$.pseudos[a.toLowerCase()];return e||Z.error("unsupported pseudo: "+a),e.sizzleFilter?e(b,c,d):e}},pseudos:{not:Q(function(a$$0,b,c){var d=bl(a$$0.replace(A,"$1"),b,c);return function(a){return!d(a)}}),
enabled:function $Z$selectors$pseudos$enabled$(a){return a.disabled===!1},disabled:function $Z$selectors$pseudos$disabled$(a){return a.disabled===!0},checked:function $Z$selectors$pseudos$checked$(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function $Z$selectors$pseudos$selected$(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function $Z$selectors$pseudos$parent$(a){return!$.pseudos.empty(a)},empty:function $Z$selectors$pseudos$empty$(a){var b;
for(a=a.firstChild;a;){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},contains:Q(function(a){return function(b){return(b.textContent||b.innerText||bc(b)).indexOf(a)>-1}}),has:Q(function(a){return function(b){return Z(a,b).length>0}}),header:function $Z$selectors$pseudos$header$(a){return I.test(a.nodeName)},text:function $Z$selectors$pseudos$text$(a){var b;var c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===
b)},radio:R("radio"),checkbox:R("checkbox"),file:R("file"),password:R("password"),image:R("image"),submit:S("submit"),reset:S("reset"),button:function $Z$selectors$pseudos$button$(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function $Z$selectors$pseudos$input$(a){return J.test(a.nodeName)},focus:function $Z$selectors$pseudos$focus$(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function $Z$selectors$pseudos$active$(a){return a===
a.ownerDocument.activeElement}},setFilters:{first:function $Z$selectors$setFilters$first$(a,b,c){return c?a.slice(1):[a[0]]},last:function $Z$selectors$setFilters$last$(a,b,c){var d=a.pop();return c?a:[d]},even:function $Z$selectors$setFilters$even$(a,b,c){var d=[];var e=c?1:0;for(var f=a.length;e<f;e=e+2)d.push(a[e]);return d},odd:function $Z$selectors$setFilters$odd$(a,b,c){var d=[];var e=c?0:1;for(var f=a.length;e<f;e=e+2)d.push(a[e]);return d},lt:function $Z$selectors$setFilters$lt$(a,b,c){return c?
a.slice(+b):a.slice(0,+b)},gt:function $Z$selectors$setFilters$gt$(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function $Z$selectors$setFilters$eq$(a,b,c){var d=a.splice(+b,1);return c?a:d}}};$.setFilters.nth=$.setFilters.eq,$.filters=$.pseudos,X||($.attrHandle={href:function $$$attrHandle$href$(a){return a.getAttribute("href",2)},type:function $$$attrHandle$type$(a){return a.getAttribute("type")}}),V&&($.order.push("NAME"),$.find.NAME=function $$$find$NAME$(a,b){if(typeof b.getElementsByName!==
j$$0)return b.getElementsByName(a)}),Y&&($.order.splice(1,0,"CLASS"),$.find.CLASS=function $$$find$CLASS$(a,b,c){if(typeof b.getElementsByClassName!==j$$0&&!c)return b.getElementsByClassName(a)});try{n$$0.call(i$$1.childNodes,0)[0].nodeType}catch(_){n$$0=function $n$$0$(a){var b;for(var c=[];b=this[a];a++)c.push(b);return c}}var ba=Z.isXML=function $Z$isXML$(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1};var bb=Z.contains=i$$1.compareDocumentPosition?function(a,
b){return!!(a.compareDocumentPosition(b)&16)}:i$$1.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a;var d=b.parentNode;return a===d||!!(d&&d.nodeType===1&&c.contains&&c.contains(d))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};var bc=Z.getText=function $Z$getText$(a){var b;var c="";var d=0;var e=a.nodeType;if(e)if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=bc(a)}else{if(e===3||e===4)return a.nodeValue}else for(;b=
a[d];d++)c+=bc(b);return c};Z.attr=function $Z$attr$(a,b){var c;var d=ba(a);return d||(b=b.toLowerCase()),$.attrHandle[b]?$.attrHandle[b](a):U||d?a.getAttribute(b):(c=a.getAttributeNode(b),c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null)},Z.error=function $Z$error$(a){throw new Error("Syntax error, unrecognized expression: "+a);},[0,0].sort(function(){return l$$0=0}),i$$1.compareDocumentPosition?e$$1=function $e$$1$(a,b){return a===b?(k$$0=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?
a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:(e$$1=function $e$$1$(a,b){if(a===b)return k$$0=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c;var d;var e=[];var g=[];var h=a.parentNode;var i=b.parentNode;var j=h;if(h===i)return f$$1(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)g.unshift(j),j=j.parentNode;c=e.length,d=g.length;for(var l=0;l<c&&l<d;l++)if(e[l]!==g[l])return f$$1(e[l],g[l]);return l===c?f$$1(a,g[l],
-1):f$$1(e[l],b,1)},f$$1=function $f$$1$(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),Z.uniqueSort=function $Z$uniqueSort$(a){var b;var c=1;if(e$$1){k$$0=l$$0,a.sort(e$$1);if(k$$0)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1)}return a};var bl=Z.compile=function $Z$compile$(a,b,c){var d;var e;var f;var g=O[a];if(g&&g.context===b)return g;e=bg(a,b,c);for(f=0;d=e[f];f++)e[f]=bj(d,b,c);return g=O[a]=bk(e),g.context=b,g.runs=g.dirruns=0,P.push(a),P.length>
$.cacheLength&&delete O[P.shift()],g};Z.matches=function $Z$matches$(a,b){return Z(a,null,null,b)},Z.matchesSelector=function $Z$matchesSelector$(a,b){return Z(b,null,null,[a]).length>0};var bm=function $bm$(a,b,e,f,g){a=a.replace(A,"$1");var h;var i;var j;var k;var l;var m;var p;var q;var r;var s=a.match(C);var t=a.match(E);var u=b.nodeType;if(L.POS.test(a))return bf(a,b,e,f,s);if(f)h=n$$0.call(f,0);else if(s&&s.length===1){if(t.length>1&&u===9&&!g&&(s=L.ID.exec(t[0]))){b=$.find.ID(s[1],b,g)[0];
if(!b)return e;a=a.slice(t.shift().length)}q=(s=G.exec(t[0]))&&!s.index&&b.parentNode||b,r=t.pop(),m=r.split(":not")[0];for(j=0,k=$.order.length;j<k;j++){p=$.order[j];if(s=L[p].exec(m)){h=$.find[p]((s[1]||"").replace(K,""),q,g);if(h==null)continue;m===r&&(a=a.slice(0,a.length-r.length)+m.replace(L[p],""),a||o$$0.apply(e,n$$0.call(h,0)));break}}}if(a){i=bl(a,b,g),d$$1=i.dirruns++,h==null&&(h=$.find.TAG("*",G.test(a)&&b.parentNode||b));for(j=0;l=h[j];j++)c$$1=i.runs++,i(l,b)&&e.push(l)}return e};h$$0.querySelectorAll&&
function(){var a$$0;var b$$0=bm;var c$$0=/'|\\/g;var d$$0=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g;var e=[];var f$$0=[":active"];var g$$0=i$$1.matchesSelector||i$$1.mozMatchesSelector||i$$1.webkitMatchesSelector||i$$1.oMatchesSelector||i$$1.msMatchesSelector;T(function(a){a.innerHTML="<select><option selected></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+r$$0+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),
T(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+r$$0+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=e.length&&new RegExp(e.join("|")),bm=function $bm$(a,d,f,g,h){if(!g&&!h&&(!e||!e.test(a)))if(d.nodeType===9)try{return o$$0.apply(f,n$$0.call(d.querySelectorAll(a),0)),f}catch(i){}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var j=d.getAttribute("id");var k=
j||q$$0;var l=G.test(a)&&d.parentNode||d;j?k=k.replace(c$$0,"\\$&"):d.setAttribute("id",k);try{return o$$0.apply(f,n$$0.call(l.querySelectorAll(a.replace(C,"[id='"+k+"'] $&")),0)),f}catch(i$$0){}finally{j||d.removeAttribute("id")}}return b$$0(a,d,f,g,h)},g$$0&&(T(function(b){a$$0=g$$0.call(b,"div");try{g$$0.call(b,"[test!='']:sizzle"),f$$0.push($.match.PSEUDO)}catch(c){}}),f$$0=new RegExp(f$$0.join("|")),Z.matchesSelector=function $Z$matchesSelector$(b,c){c=c.replace(d$$0,"='$1']");if(!ba(b)&&!f$$0.test(c)&&
(!e||!e.test(c)))try{var h=g$$0.call(b,c);if(h||a$$0||b.document&&b.document.nodeType!==11)return h}catch(i){}return Z(c,null,null,[b]).length>0})}(),Z.attr=p.attr,p.find=Z,p.expr=Z.selectors,p.expr[":"]=p.expr.pseudos,p.unique=Z.uniqueSort,p.text=Z.getText,p.isXMLDoc=Z.isXML,p.contains=Z.contains}(a);var bc=/Until$/;var bd=/^(?:parents|prev(?:Until|All))/;var be=/^.[^:#\[\.,]*$/;var bf=p.expr.match.needsContext;var bg={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(a){var b;
var c;var d;var e;var f;var g;var h=this;if(typeof a!="string")return p(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(p.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;b<c;b++){d=g.length,p.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b;var c=p(a,this);var d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,
a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c;var d=0;var e=this.length;var f=[];for(var g=bf.test(a)||typeof a!="string"?p(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&c.nodeType!==11;){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=
f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?typeof a=="string"?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?p(a,b):p.makeArray(a&&a.nodeType?[a]:a);var d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=
a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function $p$fn$a$(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&typeof d=="string"&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k$$2.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){return c&&
(a=":not("+a+")"),b.length===1?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){var e=[];for(var f=a[c];f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!p(f).is(d));)f.nodeType===1&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video";var bm=
/ jQuery\d+="(?:null|\d+)"/g;var bn=/^\s+/;var bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;var bp=/<([\w:]+)/;var bq=/<tbody/i;var br=/<|&#?\w+;/;var bs=/<(?:script|style|link)/i;var bt=/<(?:script|object|embed|option|style)/i;var bu=new RegExp("<(?:"+bl+")[\\s/>]","i");var bv=/^(?:checkbox|radio)$/;var bw=/checked\s*(?:[^=]|=\s*.checked.)/i;var bx=/\/(java|ecma)script/i;var by=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g;var bz={option:[1,"<select multiple='multiple'>",
"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};var bA=bk(e$$2);var bB=bA.appendChild(e$$2.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a$$0){return p.access(this,
function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e$$2).createTextNode(a))},null,a$$0,arguments.length)},wrapAll:function(a$$0){if(p.isFunction(a$$0))return this.each(function(b){p(this).wrapAll(a$$0.call(this,b))});if(this[0]){var b$$0=p(a$$0,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b$$0.insertBefore(this[0]),b$$0.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?
this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this);var c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},
prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a$$0=p.clean(arguments);return this.pushStack(p.merge(a$$0,this),"before",this.selector)}},after:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});
if(arguments.length){var a$$0=p.clean(arguments);return this.pushStack(p.merge(this,a$$0),"after",this.selector)}},remove:function(a,b){var c;for(var d=0;(c=this[d])!=null;d++)if(!a||p.filter(a,[c]).length)!b&&c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){var a;for(var b=0;(a=this[b])!=null;b++)for(a.nodeType===1&&p.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);
return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a$$0){return p.access(this,function(a){var c=this[0]||{};var d=0;var e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(bm,""):b;if(typeof a=="string"&&!bs.test(a)&&(p.support.htmlSerialize||!bu.test(a))&&(p.support.leadingWhitespace||!bn.test(a))&&!bz[(bp.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bo,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===
1&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a$$0,arguments.length)},replaceWith:function(a){return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this);var d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling;var c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},
detach:function(a){return this.remove(a,!0)},domManip:function(a$$0,c,d){a$$0=[].concat.apply([],a$$0);var e$$0;var f$$0;var g;var h;var i=0;var j=a$$0[0];var k=[];var l=this.length;if(!p.support.checkClone&&l>1&&typeof j=="string"&&bw.test(j))return this.each(function(){p(this).domManip(a$$0,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this);a$$0[0]=j.call(this,e,c?f.html():b),f.domManip(a$$0,c,d)});if(this[0]){e$$0=p.buildFragment(a$$0,this,k),g=e$$0.fragment,f$$0=g.firstChild,
g.childNodes.length===1&&(g=f$$0);if(f$$0){c=c&&p.nodeName(f$$0,"tr");for(h=e$$0.cacheable||l-1;i<l;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0))}g=f$$0=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function $p$buildFragment$(a,
c,d){var f;var g;var h;var i=a[0];return c=c||e$$2,c=(c[0]||c).ownerDocument||c[0]||c,typeof c.createDocumentFragment=="undefined"&&(c=e$$2),a.length===1&&typeof i=="string"&&i.length<512&&c===e$$2&&i.charAt(0)==="<"&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function $p$fn$a$(c){var d;var e=0;var f=[];var g=p(c);var h=g.length;var i=this.length===1&&this[0].parentNode;if((i==null||i&&i.nodeType===11&&i.childNodes.length===1)&&h===1)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d;var e;var f;var g;p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+
">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild));if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a)){bE(a,g),d=bF(a),e=bF(g);for(f=0;d[f];++f)e[f]&&bE(d[f],e[f])}if(b){bD(a,g);if(c){d=bF(a),e=bF(g);for(f=0;d[f];++f)bD(d[f],e[f])}}return d=e=null,g},clean:function(a$$0,b,c,d){var f;var g;var h;var i;var j;var k;var l;var m;var n;var o;var q;var r;var s=0;var t=[];if(!b||typeof b.createDocumentFragment=="undefined")b=
e$$2;for(g=b===e$$2&&bA;(h=a$$0[s])!=null;s++){typeof h=="number"&&(h+="");if(!h)continue;if(typeof h=="string")if(!br.test(h))h=b.createTextNode(h);else{for(g=g||bk(b),l=l||g.appendChild(b.createElement("div")),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];k--;)l=l.lastChild;if(!p.support.tbody){m=bq.test(h),n=i==="table"&&!m?l.firstChild&&l.firstChild.childNodes:j[1]==="<table>"&&!m?l.childNodes:[];for(f=n.length-1;f>=0;--f)p.nodeName(n[f],
"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f])}!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l=g.lastChild}h.nodeType?t.push(h):t=p.merge(t,h)}l&&(g.removeChild(l),h=l=g=null);if(!p.support.appendChecked)for(s=0;(h=t[s])!=null;s++)p.nodeName(h,"input")?bG(h):typeof h.getElementsByTagName!="undefined"&&p.grep(h.getElementsByTagName("input"),bG);if(c){q=function $q$(a){if(!a.type||bx.test(a.type))return d?
d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(s=0;(h=t[s])!=null;s++)if(!p.nodeName(h,"script")||!q(h))c.appendChild(h),typeof h.getElementsByTagName!="undefined"&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[s+1,0].concat(r)),s+=r.length)}return t},cleanData:function(a,b){var c;var d;var e;var f;var g=0;var h=p.expando;var i=p.cache;var j=p.support.deleteExpando;for(var k=p.event.special;(e=a[g])!=null;g++)if(b||p.acceptData(e)){d=e[h],c=
d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}}),function(){var a$$0;var b$$1;p.uaMatch=function $p$uaMatch$(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];
return{browser:b[1]||"",version:b[2]||"0"}},a$$0=p.uaMatch(g.userAgent),b$$1={},a$$0.browser&&(b$$1[a$$0.browser]=!0,b$$1.version=a$$0.version),b$$1.webkit&&(b$$1.safari=!0),p.browser=b$$1,p.sub=function $p$sub$(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b$$0)},a.fn.init.prototype=a.fn;var b$$0=a(e$$2);
return a}}();var bH;var bI;var bJ;var bK=/alpha\([^)]*\)/i;var bL=/opacity=([^)]*)/;var bM=/^(top|right|bottom|left)$/;var bN=/^margin/;var bO=new RegExp("^("+q+")(.*)$","i");var bP=new RegExp("^("+q+")(?!px)[a-z%]+$","i");var bQ=new RegExp("^([-+])=("+q+")","i");var bR={};var bS={position:"absolute",visibility:"hidden",display:"block"};var bT={letterSpacing:0,fontWeight:400,lineHeight:1};var bU=["Top","Right","Bottom","Left"];var bV=["Webkit","O","Moz","ms"];var bW=p.fn.toggle;p.fn.extend({css:function(a$$0,
c$$0){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a$$0,c$$0,arguments.length>1)},show:function(){return bZ(this,!0)},hide:function(){return bZ(this)},toggle:function(a,b){var c=typeof a=="boolean";return p.isFunction(a)&&p.isFunction(b)?bW.apply(this,arguments):this.each(function(){(c?a:bY(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,
lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var f;var g;var h;var i=p.camelCase(c);var j=a.style;c=p.cssProps[i]||(p.cssProps[i]=bX(j,i)),h=p.cssHooks[c]||p.cssHooks[i];if(d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];g=typeof d,g==="string"&&(f=bQ.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number");if(d==null||g==="number"&&
isNaN(d))return;g==="number"&&!p.cssNumber[i]&&(d+="px");if(!h||!("set"in h)||(d=h.set(a,d,e))!==b)try{j[c]=d}catch(k){}},css:function(a,c,d,e){var f;var g;var h;var i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bX(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),f==="normal"&&c in bT&&(f=bT[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d;var e;var f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);
for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?bH=function $bH$(a,b){var c;var d;var e;var f;var g=getComputedStyle(a,null);var h=a.style;return g&&(c=g[b],c===""&&!p.contains(a.ownerDocument.documentElement,a)&&(c=p.style(a,b)),bP.test(c)&&bN.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=g.width,h.width=d,h.minWidth=e,h.maxWidth=f)),c}:e$$2.documentElement.currentStyle&&(bH=function $bH$(a,b){var c;var d;var e=a.currentStyle&&a.currentStyle[b];var f=a.style;
return e==null&&f&&f[b]&&(e=f[b]),bP.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),e===""?"auto":e}),p.each(["height","width"],function(a$$0,b){p.cssHooks[b]={get:function $p$cssHooks$b$get$(a,c,d){if(c)return a.offsetWidth!==0||bH(a,"display")!=="none"?ca(a,b,d):p.swap(a,bS,function(){return ca(a,b,d)})},set:function $p$cssHooks$b$set$(a,c,d){return b$(a,
c,d?b_(a,b,d,p.support.boxSizing&&p.css(a,"boxSizing")==="border-box"):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function $p$cssHooks$opacity$get$(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function $p$cssHooks$opacity$set$(a,b){var c=a.style;var d=a.currentStyle;var e=p.isNumeric(b)?"alpha(opacity="+b*100+")":"";var f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&p.trim(f.replace(bK,""))===""&&c.removeAttribute){c.removeAttribute("filter");
if(d&&!d.filter)return}c.filter=bK.test(f)?f.replace(bK,e):f+" "+e}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function $p$cssHooks$marginRight$get$(a,b){return p.swap(a,{display:"inline-block"},function(){if(b)return bH(a,"marginRight")})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a$$0,b){p.cssHooks[b]={get:function $p$cssHooks$b$get$(a,c){if(c){var d=bH(a,b);return bP.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&
(p.expr.filters.hidden=function $p$expr$filters$hidden$(a){return a.offsetWidth===0&&a.offsetHeight===0||!p.support.reliableHiddenOffsets&&(a.style&&a.style.display||bH(a,"display"))==="none"},p.expr.filters.visible=function $p$expr$filters$visible$(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function $p$cssHooks$a$b$expand$(c){var d;var e=typeof c=="string"?c.split(" "):[c];var f={};for(d=0;d<4;d++)f[a+bU[d]+b]=e[d]||e[d-
2]||e[0];return f}},bN.test(a)||(p.cssHooks[a+b].set=b$)});var cc=/%20/g;var cd=/\[\]$/;var ce=/\r?\n/g;var cf=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;var cg=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||
cg.test(this.nodeName)||cf.test(this.type))}).map(function(a$$0,b){var c$$0=p(this).val();return c$$0==null?null:p.isArray(c$$0)?p.map(c$$0,function(a,c){return{name:b.name,value:a.replace(ce,"\r\n")}}):{name:b.name,value:c$$0.replace(ce,"\r\n")}}).get()}}),p.param=function $p$param$(a$$0,c){var d;var e=[];var f=function $f$(a,b){b=p.isFunction(b)?b():b==null?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a$$0)||
a$$0.jquery&&!p.isPlainObject(a$$0))p.each(a$$0,function(){f(this.name,this.value)});else for(d in a$$0)ch(d,a$$0[d],c,f);return e.join("&").replace(cc,"+")};var ci;var cj;var ck=/#.*$/;var cl=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;var cm=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/;var cn=/^(?:GET|HEAD)$/;var co=/^\/\//;var cp=/\?/;var cq=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;var cr=/([?&])_=[^&]*/;var cs=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/;var ct=p.fn.load;
var cu={};var cv={};var cw=["*/"]+["*"];try{ci=f.href}catch(cx){ci=e$$2.createElement("a"),ci.href="",ci=ci.href}cj=cs.exec(ci.toLowerCase())||[],p.fn.load=function $p$fn$load$(a$$0,c,d){if(typeof a$$0!="string"&&ct)return ct.apply(this,arguments);if(!this.length)return this;var e;var f;var g;var h=this;var i=a$$0.indexOf(" ");return i>=0&&(e=a$$0.slice(i,a$$0.length),a$$0=a$$0.slice(0,i)),p.isFunction(c)?(d=c,c=b):typeof c=="object"&&(f="POST"),p.ajax({url:a$$0,type:f,dataType:"html",data:c,complete:function(a,
b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cq,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a$$0,b){p.fn[b]=function $p$fn$b$(a){return this.on(b,a)}}),p.each(["get","post"],function(a$$0,c){p[c]=function $p$c$(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,
c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cA(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cA(a,b),a},ajaxSettings:{url:ci,isLocal:cm.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cw},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cy(cu),ajaxTransport:cy(cv),ajax:function(a$$0,c$$0){function y$$0(a,c,f,i){var k;var s;var t;var u;var w;var y=c;if(v===2)return;v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cB(l,x,f));if(a>=200&&a<300||a===304)l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),w=x.getResponseHeader("Etag"),w&&
(p.etag[d]=w)),a===304?(y="notmodified",k=!0):(k=cC(l,u),y=k.state,s=k.data,t=k.error,k=!t);else{t=y;if(!y||a)y="error",a<0&&(a=0)}x.status=a,x.statusText=""+(c||y),k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop"))}typeof a$$0=="object"&&(c$$0=a$$0,a$$0=b),c$$0=c$$0||{};var d;var e;var f$$0;var g;var h;var i$$0;var j;var k$$0;
var l=p.ajaxSetup({},c$$0);var m=l.context||l;var n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event;var o=p.Deferred();var q=p.Callbacks("once memory");var r=l.statusCode||{};var t$$0={};var u$$0={};var v=0;var w$$0="canceled";var x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u$$0[c]=u$$0[c]||a,t$$0[a]=b}return this},getAllResponseHeaders:function(){return v===2?e:null},getResponseHeader:function(a){var c;if(v===2){if(!f$$0)for(f$$0={};c=cl.exec(e);)f$$0[c[1].toLowerCase()]=
c[2];c=f$$0[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w$$0,g&&g.abort(a),y$$0(0,a),this}};o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function $x$statusCode$(a){if(a){var b;if(v<2)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a$$0||l.url)+"").replace(ck,"").replace(co,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s$$2),l.crossDomain==
null&&(i$$0=cs.exec(l.url.toLowerCase()),l.crossDomain=!(!i$$0||i$$0[1]==cj[1]&&i$$0[2]==cj[2]&&(i$$0[3]||(i$$0[1]==="http:"?80:443))==(cj[3]||(cj[1]==="http:"?80:443)))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=p.param(l.data,l.traditional)),cz(cu,l,c$$0,x);if(v===2)return x;j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!cn.test(l.type),j&&p.active++===0&&p.event.trigger("ajaxStart");if(!l.hasContent){l.data&&(l.url+=(cp.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url;if(l.cache===
!1){var z=p.now();var A=l.url.replace(cr,"$1_="+z);l.url=A+(A===l.url?(cp.test(l.url)?"&":"?")+"_="+z:"")}}(l.data&&l.hasContent&&l.contentType!==!1||c$$0.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+
cw+"; q=0.01":""):l.accepts["*"]);for(k$$0 in l.headers)x.setRequestHeader(k$$0,l.headers[k$$0]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&v!==2){w$$0="abort";for(k$$0 in{success:1,error:1,complete:1})x[k$$0](l[k$$0]);g=cz(cv,l,c$$0,x);if(!g)y$$0(-1,"No Transport");else{x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t$$0,y$$0)}catch(B){if(v<2)y$$0(-1,B);else throw B;}}return x}return x.abort()},active:0,
lastModified:{},etag:{}});var cD=[];var cE=/\?/;var cF=/(=)\?(?=&|$)|\?\?/;var cG=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cD.pop()||p.expando+"_"+cG++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f;var g;var h;var i=c.data;var j=c.url;var k=c.jsonp!==!1;var l=k&&cF.test(j);var m=k&&!l&&typeof i=="string"&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cF.test(i);if(c.dataTypes[0]==="jsonp"||l||m)return f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?
c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cF,"$1"+f):m?c.data=i.replace(cF,"$1"+f):k&&(c.url+=(cE.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function $c$converters$__4$(){return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function $a$f$(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cD.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a$$0){if(a$$0.crossDomain){var c;var d=e$$2.head||e$$2.getElementsByTagName("head")[0]||e$$2.documentElement;return{send:function(f,g){c=e$$2.createElement("script"),c.async="async",a$$0.scriptCharset&&(c.charset=a$$0.scriptCharset),c.src=a$$0.url,c.onload=
c.onreadystatechange=function $c$onreadystatechange$(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cH;var cI=a.ActiveXObject?function(){for(var a in cH)cH[a](0,1)}:!1;var cJ=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cK()||cL()}:cK,function(a){p.extend(p.support,{ajax:!!a,cors:!!a&&"withCredentials"in
a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e$$0,f){var g;var h$$0;var i=c.xhr();c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(h$$0 in c.xhrFields)i[h$$0]=c.xhrFields[h$$0];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e$$0["X-Requested-With"]&&(e$$0["X-Requested-With"]="XMLHttpRequest");try{for(h$$0 in e$$0)i.setRequestHeader(h$$0,
e$$0[h$$0])}catch(j$$0){}i.send(c.hasContent&&c.data||null),d=function $d$(a,e){var h;var j;var k;var l;var m;try{if(d&&(e||i.readyState===4)){d=b,g&&(i.onreadystatechange=p.noop,cI&&delete cH[g]);if(e)i.readyState!==4&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a$$0){}try{j=i.statusText}catch(n){j=""}!h&&c.isLocal&&!c.crossDomain?h=l.text?200:404:h===1223&&(h=204)}}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},
c.async?i.readyState===4?setTimeout(d,0):(g=++cJ,cI&&(cH||(cH={},p(a).unload(cI)),cH[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cM;var cN;var cO=/^(?:toggle|show|hide)$/;var cP=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i");var cQ=/queueHooks$/;var cR=[cX];var cS={"*":[function(a,b){var c;var d;var e;var f=this.createTween(a,b);var g=cP.exec(b);var h=f.cur();var i=+h||0;var j=1;if(g){c=+g[2],d=g[3]||(p.cssNumber[a]?"":"px");if(d!=="px"&&i){i=p.css(f.elem,a,!0)||c||1;
do e=j=j||".5",i=i/j,p.style(f.elem,a,i+d),j=f.cur()/h;while(j!==1&&j!==e)}f.unit=d,f.start=i,f.end=g[1]?i+(g[1]+1)*c:c}return f}]};p.Animation=p.extend(cV,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c;var d=0;for(var e=a.length;d<e;d++)c=a[d],cS[c]=cS[c]||[],cS[c].unshift(b)},prefilter:function(a,b){b?cR.unshift(a):cR.push(a)}}),p.Tween=cY,cY.prototype={constructor:cY,init:function $cY$$init$(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=
this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function $cY$$cur$(){var a=cY.propHooks[this.prop];return a&&a.get?a.get(this):cY.propHooks._default.get(this)},run:function $cY$$run$(a){var b;var c=cY.propHooks[this.prop];return this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration),this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cY.propHooks._default.set(this),
this}},cY.prototype.init.prototype=cY.prototype,cY.propHooks={_default:{get:function $cY$propHooks$_default$get$(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=p.css(a.elem,a.prop,!1,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function $cY$propHooks$_default$set$(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(a.elem.style[p.cssProps[a.prop]]!=null||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cY.propHooks.scrollTop=
cY.propHooks.scrollLeft={set:function $cY$propHooks$scrollLeft$set$(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function $p$fn$b$(d,e,f){return d==null||typeof d=="boolean"||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(cZ(b,!0),d,e,f)}}),p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bY).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b$$0,c,d){var e=
p.isEmptyObject(a);var f=p.speed(b$$0,c,d);var g=function $g$(){var b=cV(this,p.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a$$0,c$$0,d){var e=function $e$(a){var b=a.stop;delete a.stop,b(d)};return typeof a$$0!="string"&&(d=c$$0,c$$0=a$$0,a$$0=b),c$$0&&a$$0!==!1&&this.queue(a$$0||"fx",[]),this.each(function(){var b=!0;var c=a$$0!=null&&a$$0+"queueHooks";var f=p.timers;var g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&
g[c].stop&&cQ.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(a$$0==null||f[c].queue===a$$0)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a$$0)})}}),p.each({slideDown:cZ("show"),slideUp:cZ("hide"),slideToggle:cZ("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a$$0,b){p.fn[a$$0]=function $p$fn$a$$0$(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function $p$speed$(a,b,c){var d=a&&typeof a=="object"?p.extend({},a):{complete:c||
!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};d.duration=p.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function $d$complete$(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function $p$easing$linear$(a){return a},swing:function $p$easing$swing$(a){return 0.5-Math.cos(a*Math.PI)/
2}},p.timers=[],p.fx=cY.prototype.init,p.fx.tick=function $p$fx$tick$(){var a;var b=p.timers;for(var c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function $p$fx$timer$(a){a()&&p.timers.push(a)&&!cN&&(cN=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function $p$fx$stop$(){clearInterval(cN),cN=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},p.expr&&p.expr.filters&&(p.expr.filters.animated=function $p$expr$filters$animated$(a){return p.grep(p.timers,
function(b){return a===b.elem}).length});var c$=/^(?:body|html)$/i;p.fn.offset=function $p$fn$offset$(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c;var d;var e;var f;var g;var h;var i;var j;var k;var l;var m=this[0];var n=m&&m.ownerDocument;if(!n)return;return(e=n.body)===m?p.offset.bodyOffset(m):(d=n.documentElement,p.contains(d,m)?(c=m.getBoundingClientRect(),f=c_(n),g=d.clientTop||e.clientTop||0,h=d.clientLeft||e.clientLeft||0,i=f.pageYOffset||
d.scrollTop,j=f.pageXOffset||d.scrollLeft,k=c.top+i-g,l=c.left+j-h,{top:k,left:l}):{top:0,left:0})},p.offset={bodyOffset:function $p$offset$bodyOffset$(a){var b=a.offsetTop;var c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function $p$offset$setOffset$(a,b,c){var d=p.css(a,"position");d==="static"&&(a.style.position="relative");var e=p(a);var f=e.offset();var g=p.css(a,"top");
var h=p.css(a,"left");var i=(d==="absolute"||d==="fixed")&&p.inArray("auto",[g,h])>-1;var j={};var k={};var l;var m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({position:function(){if(!this[0])return;var a=this[0];var b=this.offsetParent();var c=this.offset();var d=c$.test(b[0].nodeName)?{top:0,left:0}:b.offset();
return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||e$$2.body;a&&!c$.test(a.nodeName)&&p.css(a,"position")==="static";)a=a.offsetParent;return a||e$$2.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a$$0,c){var d=
/Y/.test(c);p.fn[a$$0]=function $p$fn$a$$0$(e$$0){return p.access(this,function(a,e,f){var g=c_(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f},a$$0,e$$0,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c$$0){p.each({padding:"inner"+a,content:c$$0,"":"outer"+a},function(d$$0,e$$1){p.fn[e$$1]=function $p$fn$e$$1$(e$$0,f$$0){var g=arguments.length&&(d$$0||typeof e$$0!="boolean");var h=d$$0||
(e$$0===!0||f$$0===!0?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:c.nodeType===9?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c$$0,g?e$$0:b,g)}})}),a.jQuery=a.$=p,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})})(window);(function(a$$0,b$$0){function c$$1(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode;var g=f.name;var h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a$$0("img[usemap=#"+g+"]")[0],!!h&&d$$1(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d$$1(b)}function d$$1(b){return!a$$0(b).parents().andSelf().filter(function(){return a$$0.curCSS(this,"visibility")==="hidden"||a$$0.expr.filters.hidden(this)}).length}a$$0.ui=a$$0.ui||{};if(a$$0.ui.version)return;
a$$0.extend(a$$0.ui,{version:"1.8.22",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a$$0.fn.extend({propAttr:a$$0.fn.prop||a$$0.fn.attr,_focus:a$$0.fn.focus,focus:function(b,
c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a$$0(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a$$0.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a$$0.curCSS(this,"position",1))&&/(auto|scroll)/.test(a$$0.curCSS(this,"overflow",1)+a$$0.curCSS(this,"overflow-y",1)+a$$0.curCSS(this,
"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a$$0.curCSS(this,"overflow",1)+a$$0.curCSS(this,"overflow-y",1)+a$$0.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a$$0(document):b},zIndex:function(c){if(c!==b$$0)return this.css("zIndex",c);if(this.length){var d=a$$0(this[0]);var e;for(var f;d.length&&d[0]!==document;){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&
f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a$$0.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a$$0("<a>").outerWidth(1).jquery||a$$0.each(["Width","Height"],function(c$$0,d$$0){function h(b,c,d,f){return a$$0.each(e,function(){c-=parseFloat(a$$0.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a$$0.curCSS(b,"border"+this+"Width",
!0))||0),f&&(c-=parseFloat(a$$0.curCSS(b,"margin"+this,!0))||0)}),c}var e=d$$0==="Width"?["Left","Right"]:["Top","Bottom"];var f$$0=d$$0.toLowerCase();var g={innerWidth:a$$0.fn.innerWidth,innerHeight:a$$0.fn.innerHeight,outerWidth:a$$0.fn.outerWidth,outerHeight:a$$0.fn.outerHeight};a$$0.fn["inner"+d$$0]=function $a$$0$fn$inner$d$$0$(c){return c===b$$0?g["inner"+d$$0].call(this):this.each(function(){a$$0(this).css(f$$0,h(this,c)+"px")})},a$$0.fn["outer"+d$$0]=function $a$$0$fn$outer$d$$0$(b,c){return typeof b!=
"number"?g["outer"+d$$0].call(this,b):this.each(function(){a$$0(this).css(f$$0,h(this,b,!0,c)+"px")})}}),a$$0.extend(a$$0.expr[":"],{data:a$$0.expr.createPseudo?a$$0.expr.createPseudo(function(b){return function(c){return!!a$$0.data(c,b)}}):function(b,c,d){return!!a$$0.data(b,d[3])},focusable:function(b){return c$$1(b,!isNaN(a$$0.attr(b,"tabindex")))},tabbable:function(b){var d=a$$0.attr(b,"tabindex");var e=isNaN(d);return(e||d>=0)&&c$$1(b,!e)}}),a$$0(function(){var b=document.body;var c=b.appendChild(c=
document.createElement("div"));c.offsetHeight,a$$0.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a$$0.support.minHeight=c.offsetHeight===100,a$$0.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a$$0.curCSS||(a$$0.curCSS=a$$0.css),a$$0.extend(a$$0.ui,{plugin:{add:function(b,c,d){var e=a$$0.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;
for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a$$0(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop";var e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a$$0.ui.isOverAxis(b,d,f)&&a$$0.ui.isOverAxis(c,e,g)}})})(jQuery);
(function(a$$0,b$$1){if(a$$0.cleanData){var c$$1=a$$0.cleanData;a$$0.cleanData=function $a$$0$cleanData$(b){var d=0;for(var e;(e=b[d])!=null;d++)try{a$$0(e).triggerHandler("remove")}catch(f){}c$$1(b)}}else{var d$$1=a$$0.fn.remove;a$$0.fn.remove=function $a$$0$fn$remove$(b$$0,c){return this.each(function(){return c||(!b$$0||a$$0.filter(b$$0,[this]).length)&&a$$0("*",this).add([this]).each(function(){try{a$$0(this).triggerHandler("remove")}catch(b){}}),d$$1.call(a$$0(this),b$$0,c)})}}a$$0.widget=function $a$$0$widget$(b$$0,
c$$0,d){var e=b$$0.split(".")[0];var f;b$$0=b$$0.split(".")[1],f=e+"-"+b$$0,d||(d=c$$0,c$$0=a$$0.Widget),a$$0.expr[":"][f]=function $a$$0$expr$__5$f$(c){return!!a$$0.data(c,b$$0)},a$$0[e]=a$$0[e]||{},a$$0[e][b$$0]=function $a$$0$e$b$$0$(a,b){arguments.length&&this._createWidget(a,b)};var g=new c$$0;g.options=a$$0.extend(!0,{},g.options),a$$0[e][b$$0].prototype=a$$0.extend(!0,g,{namespace:e,widgetName:b$$0,widgetEventPrefix:a$$0[e][b$$0].prototype.widgetEventPrefix||b$$0,widgetBaseClass:f},d),a$$0.widget.bridge(b$$0,
a$$0[e][b$$0])},a$$0.widget.bridge=function $a$$0$widget$bridge$(c,d$$0){a$$0.fn[c]=function $a$$0$fn$c$(e){var f$$0=typeof e=="string";var g=Array.prototype.slice.call(arguments,1);var h=this;return e=!f$$0&&g.length?a$$0.extend.apply(null,[!0,e].concat(g)):e,f$$0&&e.charAt(0)==="_"?h:(f$$0?this.each(function(){var d=a$$0.data(this,c);var f=d&&a$$0.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b$$1)return h=f,!1}):this.each(function(){var b=a$$0.data(this,c);b?b.option(e||{})._init():a$$0.data(this,
c,new d$$0(e,this))}),h)}},a$$0.Widget=function $a$$0$Widget$(a,b){arguments.length&&this._createWidget(a,b)},a$$0.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function $a$$0$Widget$$_createWidget$(b,c){a$$0.data(c,this.widgetName,this),this.element=a$$0(c),this.options=a$$0.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},
_getCreateOptions:function $a$$0$Widget$$_getCreateOptions$(){return a$$0.metadata&&a$$0.metadata.get(this.element[0])[this.widgetName]},_create:function $a$$0$Widget$$_create$(){},_init:function $a$$0$Widget$$_init$(){},destroy:function $a$$0$Widget$$destroy$(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function $a$$0$Widget$$widget$(){return this.element},
option:function $a$$0$Widget$$option$(c,d){var e=c;if(arguments.length===0)return a$$0.extend({},this.options);if(typeof c=="string"){if(d===b$$1)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function $a$$0$Widget$$_setOptions$(b$$0){var c=this;return a$$0.each(b$$0,function(a,b){c._setOption(a,b)}),this},_setOption:function $a$$0$Widget$$_setOption$(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+
" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function $a$$0$Widget$$enable$(){return this._setOption("disabled",!1)},disable:function $a$$0$Widget$$disable$(){return this._setOption("disabled",!0)},_trigger:function $a$$0$Widget$$_trigger$(b,c,d){var e;var f;var g=this.options[b];d=d||{},c=a$$0.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,
d),!(a$$0.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);
(function(a$$0,b$$0){var c$$0=!1;a$$0(document).mouseup(function(a){c$$0=!1}),a$$0.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a$$0.data(c.target,b.widgetName+".preventClickEvent"))return a$$0.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName),a$$0(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(c$$0)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this;var e=b.which==1;var f=typeof this.options.cancel=="string"&&b.target.nodeName?a$$0(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=
setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a$$0.data(b.target,this.widgetName+".preventClickEvent")&&a$$0.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function $this$_mouseMoveDelegate$(a){return d._mouseMove(a)},this._mouseUpDelegate=function $this$_mouseUpDelegate$(a){return d._mouseUp(a)},
a$$0(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c$$0=!0,!0},_mouseMove:function(b){return!a$$0.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},
_mouseUp:function(b){return a$$0(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a$$0.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},
_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);
(function(a$$0,b$$1){a$$0.ui=a$$0.ui||{};var c$$1=/left|center|right/;var d$$0=/top|center|bottom/;var e$$0="center";var f$$0={};var g$$0=a$$0.fn.position;var h$$1=a$$0.fn.offset;a$$0.fn.position=function $a$$0$fn$position$(b){if(!b||!b.of)return g$$0.apply(this,arguments);b=a$$0.extend({},b);var h$$0=a$$0(b.of);var i$$0=h$$0[0];var j=(b.collision||"flip").split(" ");var k=b.offset?b.offset.split(" "):[0,0];var l;var m;var n;return i$$0.nodeType===9?(l=h$$0.width(),m=h$$0.height(),n={top:0,left:0}):
i$$0.setTimeout?(l=h$$0.width(),m=h$$0.height(),n={top:h$$0.scrollTop(),left:h$$0.scrollLeft()}):i$$0.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h$$0.outerWidth(),m=h$$0.outerHeight(),n=h$$0.offset()),a$$0.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c$$1.test(a[0])?a.concat([e$$0]):d$$0.test(a[0])?[e$$0].concat(a):[e$$0,e$$0]),a[0]=c$$1.test(a[0])?a[0]:e$$0,a[1]=d$$0.test(a[1])?a[1]:e$$0,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],
10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e$$0&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e$$0&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c$$0=a$$0(this);var d=c$$0.outerWidth();var g=c$$0.outerHeight();var h=parseInt(a$$0.curCSS(this,"marginLeft",!0))||0;var i=parseInt(a$$0.curCSS(this,"marginTop",!0))||0;var o=d+h+(parseInt(a$$0.curCSS(this,"marginRight",!0))||0);var p=g+i+(parseInt(a$$0.curCSS(this,"marginBottom",
!0))||0);var q=a$$0.extend({},n);var r;b.my[0]==="right"?q.left-=d:b.my[0]===e$$0&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e$$0&&(q.top-=g/2),f$$0.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a$$0.each(["left","top"],function(c,e){a$$0.ui.position[j[c]]&&a$$0.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a$$0.fn.bgiframe&&c$$0.bgiframe(),
c$$0.offset(a$$0.extend(q,{using:b.using}))})},a$$0.ui.position={fit:{left:function $a$$0$ui$position$fit$left$(b,c){var d=a$$0(window);var e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function $a$$0$ui$position$fit$top$(b,c){var d=a$$0(window);var e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function $a$$0$ui$position$flip$left$(b,
c){if(c.at[0]===e$$0)return;var d=a$$0(window);var f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();var g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0;var h=c.at[0]==="left"?c.targetWidth:-c.targetWidth;var i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function $a$$0$ui$position$flip$top$(b,c){if(c.at[1]===e$$0)return;var d=a$$0(window);var f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();var g=c.my[1]==="top"?-c.elemHeight:
c.my[1]==="bottom"?c.elemHeight:0;var h=c.at[1]==="top"?c.targetHeight:-c.targetHeight;var i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a$$0.offset.setOffset||(a$$0.offset.setOffset=function $a$$0$offset$setOffset$(b,c){/static/.test(a$$0.curCSS(b,"position"))&&(b.style.position="relative");var d=a$$0(b);var e=d.offset();var f=parseInt(a$$0.curCSS(b,"top",!0),10)||0;var g=parseInt(a$$0.curCSS(b,"left",!0),10)||0;var h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?
c.using.call(b,h):d.css(h)},a$$0.fn.offset=function $a$$0$fn$offset$(b){var c$$0=this[0];return!c$$0||!c$$0.ownerDocument?null:b?a$$0.isFunction(b)?this.each(function(c){a$$0(this).offset(b.call(this,c,a$$0(this).offset()))}):this.each(function(){a$$0.offset.setOffset(this,b)}):h$$1.call(this)}),function(){var b$$0=document.getElementsByTagName("body")[0];var c=document.createElement("div");var d;var e;var g;var h;var i;d=document.createElement(b$$0?"div":"body"),g={visibility:"hidden",width:0,height:0,
border:0,margin:0,background:"none"},b$$0&&a$$0.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b$$0||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a$$0(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b$$0?2E3:0),f$$0.fractions=i>21&&i<22}()})(jQuery);
(function(a$$0,b$$1){a$$0.widget("ui.draggable",a$$0.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!this.element.data("draggable"))return;return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a$$0(b.target).is(".ui-resizable-handle")?
!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a$$0(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a$$0('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a$$0(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a$$0.ui.ddmanager&&(a$$0.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a$$0.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),
this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a$$0.ui.ddmanager&&!c.dropBehaviour&&a$$0.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a$$0.ui.ddmanager&&a$$0.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");
if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a$$0.ui.ddmanager&&a$$0.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a$$0.ui.ddmanager&&!this.options.dropBehaviour&&(c=a$$0.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,
this.dropped=!1);var d=this.element[0];for(var e=!1;d&&(d=d.parentNode);)d==document&&(e=!0);if(!e&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a$$0.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a$$0(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else this._trigger("stop",b)!==
!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a$$0("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a$$0.ui.ddmanager&&a$$0.ui.ddmanager.dragStop(this,b),a$$0.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a$$0(this.options.handle,this.element).length?!0:!1;return a$$0(this.options.handle,
this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options;var d=a$$0.isFunction(c.helper)?a$$0(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b==
"string"&&(b=b.split(" ")),a$$0.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition==
"absolute"&&this.scrollParent[0]!=document&&a$$0.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a$$0.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==
"relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a$$0(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a$$0(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a$$0(window).scrollLeft())+
a$$0(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a$$0(window).scrollTop())+(a$$0(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a$$0(b.containment);var d=c[0];if(!d)return;var e=c.offset();var f=a$$0(d).css("overflow")!="hidden";this.containment=
[(parseInt(a$$0(d).css("borderLeftWidth"),10)||0)+(parseInt(a$$0(d).css("paddingLeft"),10)||0),(parseInt(a$$0(d).css("borderTopWidth"),10)||0)+(parseInt(a$$0(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a$$0(d).css("borderLeftWidth"),10)||0)-(parseInt(a$$0(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a$$0(d).css("borderTopWidth"),
10)||0)-(parseInt(a$$0(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1;var e=this.options;var f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a$$0.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;var g=/(html|body)/i.test(f[0].tagName);
return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a$$0.browser.safari&&a$$0.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a$$0.browser.safari&&a$$0.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options;var d=
this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a$$0.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;var e=/(html|body)/i.test(d[0].tagName);var f=b.pageX;var g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<
h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+
Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a$$0.browser.safari&&a$$0.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+
(a$$0.browser.safari&&a$$0.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a$$0.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),
a$$0.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a$$0.extend(a$$0.ui.draggable,{version:"1.8.22"}),a$$0.ui.plugin.add("draggable","connectToSortable",{start:function(b,c$$0){var d=a$$0(this).data("draggable");var e=d.options;var f=a$$0.extend({},c$$0,{item:d.element});d.sortables=[],a$$0(e.connectToSortable).each(function(){var c=a$$0.data(this,"sortable");
c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a$$0(this).data("draggable");var e=a$$0.extend({},c,{item:d.element});a$$0.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,
d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b$$0,c$$0){var d$$0=a$$0(this).data("draggable");var e$$0=this;var f$$0=function $f$$0$(b){var c=this.offset.click.top;var d=this.offset.click.left;var e=this.positionAbs.top;var f=this.positionAbs.left;var g=b.height;var h=b.width;var i=b.top;var j=b.left;return a$$0.ui.isOver(e+c,f+d,i,j,g,h)};a$$0.each(d$$0.sortables,
function(f){this.instance.positionAbs=d$$0.positionAbs,this.instance.helperProportions=d$$0.helperProportions,this.instance.offset.click=d$$0.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a$$0(e$$0).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function $this$instance$options$helper$(){return c$$0.helper[0]},
b$$0.target=this.instance.currentItem[0],this.instance._mouseCapture(b$$0,!0),this.instance._mouseStart(b$$0,!0,!0),this.instance.offset.click.top=d$$0.offset.click.top,this.instance.offset.click.left=d$$0.offset.click.left,this.instance.offset.parent.left-=d$$0.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d$$0.offset.parent.top-this.instance.offset.parent.top,d$$0._trigger("toSortable",b$$0),d$$0.dropped=this.instance.element,d$$0.currentItem=d$$0.element,
this.instance.fromOutside=d$$0),this.instance.currentItem&&this.instance._mouseDrag(b$$0)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b$$0,this.instance._uiHash(this.instance)),this.instance._mouseStop(b$$0,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d$$0._trigger("fromSortable",b$$0),
d$$0.dropped=!1)})}}),a$$0.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a$$0("body");var e=a$$0(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a$$0(this).data("draggable").options;d._cursor&&a$$0("body").css("cursor",d._cursor)}}),a$$0.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a$$0(c.helper);var e=a$$0(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),
d.css("opacity",e.opacity)},stop:function(b,c){var d=a$$0(this).data("draggable").options;d._opacity&&a$$0(c.helper).css("opacity",d._opacity)}}),a$$0.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a$$0(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a$$0(this).data("draggable");var e=d.options;var f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||
e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&
(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a$$0(document).scrollTop()<e.scrollSensitivity?f=a$$0(document).scrollTop(a$$0(document).scrollTop()-e.scrollSpeed):a$$0(window).height()-(b.pageY-a$$0(document).scrollTop())<e.scrollSensitivity&&(f=a$$0(document).scrollTop(a$$0(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a$$0(document).scrollLeft()<e.scrollSensitivity?f=a$$0(document).scrollLeft(a$$0(document).scrollLeft()-
e.scrollSpeed):a$$0(window).width()-(b.pageX-a$$0(document).scrollLeft())<e.scrollSensitivity&&(f=a$$0(document).scrollLeft(a$$0(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a$$0.ui.ddmanager&&!e.dropBehaviour&&a$$0.ui.ddmanager.prepareOffsets(d,b)}}),a$$0.ui.plugin.add("draggable","snap",{start:function(b$$0,c$$0){var d=a$$0(this).data("draggable");var e=d.options;d.snapElements=[],a$$0(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a$$0(this);var c=b.offset();
this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a$$0(this).data("draggable");var e=d.options;var f=e.snapTolerance;var g=c.offset.left;var h=g+d.helperProportions.width;var i=c.offset.top;var j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left;var m=l+d.snapElements[k].width;var n=d.snapElements[k].top;var o=n+d.snapElements[k].height;if(!(l-f<g&&g<
m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a$$0.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f;var q=Math.abs(o-i)<=f;var r=Math.abs(l-h)<=f;var s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-
d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){p=Math.abs(n-i)<=f;q=Math.abs(o-j)<=f;r=Math.abs(l-g)<=f;s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),
q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a$$0.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=
p||q||r||s||t}}}),a$$0.ui.plugin.add("draggable","stack",{start:function(b$$0,c$$0){var d=a$$0(this).data("draggable").options;var e=a$$0.makeArray(a$$0(d.stack)).sort(function(b,c){return(parseInt(a$$0(b).css("zIndex"),10)||0)-(parseInt(a$$0(c).css("zIndex"),10)||0)});if(!e.length)return;var f=parseInt(e[0].style.zIndex)||0;a$$0(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a$$0.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a$$0(c.helper);var e=a$$0(this).data("draggable").options;
d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a$$0(this).data("draggable").options;d._zIndex&&a$$0(c.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(a$$0,b$$1){a$$0.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options;var c=b.accept;this.isover=0,this.isout=1,this.accept=a$$0.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a$$0.ui.ddmanager.droppables[b.scope]=a$$0.ui.ddmanager.droppables[b.scope]||[],a$$0.ui.ddmanager.droppables[b.scope].push(this),
b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var b=a$$0.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){b=="accept"&&(this.accept=a$$0.isFunction(c)?c:function(a){return a.is(c)}),a$$0.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a$$0.ui.ddmanager.current;
this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a$$0.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a$$0.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a$$0.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b$$0,c){var d=c||a$$0.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=
a$$0.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a$$0.ui.intersect(d,a$$0.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b$$0,
this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a$$0.extend(a$$0.ui.droppable,{version:"1.8.22"}),a$$0.ui.intersect=function $a$$0$ui$intersect$(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left;var f=e+b.helperProportions.width;var g=(b.positionAbs||b.position.absolute).top;var h=g+b.helperProportions.height;var i=c.offset.left;var j=i+c.proportions.width;var k=c.offset.top;
var l=k+c.proportions.height;switch(d){case "fit":return i<=e&&f<=j&&k<=g&&h<=l;case "intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case "pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left;var n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top;var o=a$$0.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case "touch":return(g>=
k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a$$0.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function $a$$0$ui$ddmanager$prepareOffsets$(b,c){var d=a$$0.ui.ddmanager.droppables[b.options.scope]||[];var e=c?c.type:null;var f=(b.currentItem||b.element).find(":data(droppable)").andSelf();var h=0;g:for(;h<d.length;h++){if(d[h].options.disabled||b&&!d[h].accept.call(d[h].element[0],b.currentItem||b.element))continue;for(var i=0;i<f.length;i++)if(f[i]==
d[h].element[0]){d[h].proportions.height=0;continue g}d[h].visible=d[h].element.css("display")!="none";if(!d[h].visible)continue;e=="mousedown"&&d[h]._activate.call(d[h],c),d[h].offset=d[h].element.offset(),d[h].proportions={width:d[h].element[0].offsetWidth,height:d[h].element[0].offsetHeight}}},drop:function $a$$0$ui$ddmanager$drop$(b,c){var d=!1;return a$$0.each(a$$0.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&a$$0.ui.intersect(b,
this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c))}),d},dragStart:function $a$$0$ui$ddmanager$dragStart$(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a$$0.ui.ddmanager.prepareOffsets(b,c)})},drag:function $a$$0$ui$ddmanager$drag$(b,c){b.options.refreshPositions&&a$$0.ui.ddmanager.prepareOffsets(b,
c),a$$0.each(a$$0.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var d=a$$0.ui.intersect(b,this,this.options.tolerance);var e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a$$0.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e==
"isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))})},dragStop:function $a$$0$ui$ddmanager$dragStop$(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a$$0.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);
(function(a$$0,b$$1){var c$$2=0;a$$0.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this;var c$$1=this.element[0].ownerDocument;var d$$0;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",
function(c){if(b.options.disabled||b.element.propAttr("readOnly"))return;d$$0=!1;var e=a$$0.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._keyEvent("previous",c);break;case e.DOWN:b._keyEvent("next",c);break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d$$0=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),
b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d$$0&&(d$$0=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled)return;b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled)return;clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.menu=a$$0("<ul></ul>").addClass("ui-autocomplete").appendTo(a$$0(this.options.appendTo||
"body",c$$1)[0]).mousedown(function(c$$0){var d=b.menu.element[0];a$$0(c$$0.target).closest(".ui-menu-item").length||setTimeout(function(){a$$0(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a$$0.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,
d){var e=d.item.data("item.autocomplete");var f=b.previous;b.element[0]!==c$$1.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a$$0.fn.bgiframe&&this.menu.element.bgiframe(),
b.beforeunloadHandler=function $b$beforeunloadHandler$(){b.element.removeAttr("autocomplete")},a$$0(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a$$0(window).unbind("beforeunload",this.beforeunloadHandler),a$$0.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a$$0.Widget.prototype._setOption.apply(this,
arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a$$0(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b$$0=this;var c$$0;var d$$0;a$$0.isArray(this.options.source)?(c$$0=this.options.source,this.source=function $this$source$(b,d){d(a$$0.ui.autocomplete.filter(c$$0,b.term))}):typeof this.options.source=="string"?(d$$0=this.options.source,this.source=function $this$source$(c,e){b$$0.xhr&&b$$0.xhr.abort(),
b$$0.xhr=a$$0.ajax({url:d$$0,data:c,dataType:"json",success:function(a,b){e(a)},error:function(){e([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)===!1)return;return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this._response())},_response:function(){var a=
this;var b=++c$$2;return function(d){b===c$$2&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",
a,{item:this.selectedItem})},_normalize:function(b$$0){return b$$0.length&&b$$0[0].label&&b$$0[0].value?b$$0:a$$0.map(b$$0,function(b){return typeof b=="string"?{label:b,value:b}:a$$0.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a$$0.extend({of:this.element},this.options.position)),this.options.autoFocus&&
this.menu.next(new a$$0.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c$$0){var d=this;a$$0.each(c$$0,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a$$0("<li></li>").data("item.autocomplete",c).append(a$$0("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||
this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}}),a$$0.extend(a$$0.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a$$0.ui.autocomplete.escapeRegex(c),"i");return a$$0.grep(b,function(a){return d.test(a.label||
a.value||a)})}})})(jQuery),function(a$$0){a$$0.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a$$0(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this;var c$$0=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");
c$$0.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a$$0(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top;var d=this.element.scrollTop();var e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),
this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,
this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b$$0){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b$$0,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top;var d=this.element.height();var e=this.element.children(".ui-menu-item").filter(function(){var b=a$$0(this).offset().top-c-d+a$$0(this).height();return b<10&&b>-10});e.length||
(e=this.element.children(".ui-menu-item:last")),this.activate(b$$0,e)}else this.activate(b$$0,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b$$0){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b$$0,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top;var d=this.element.height();var e=this.element.children(".ui-menu-item").filter(function(){var b=a$$0(this).offset().top-c+d-a$$0(this).height();
return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:first")),this.activate(b$$0,e)}else this.activate(b$$0,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a$$0.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);
(function(a$$0,b$$1){var c$$0;var d$$0;var e$$0;var f$$0;var g="ui-button ui-widget ui-state-default ui-corner-all";var h$$0="ui-state-hover ui-state-active ";var i$$0="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only";var j=function $j$(){var b=a$$0(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)};var k=function $k$(b){var c=b.name;var d=b.form;var e=a$$0([]);return c&&(d?e=a$$0(d).find("[name='"+
c+"']"):e=a$$0("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a$$0.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");
var b$$0=this;var h=this.options;var i=this.type==="checkbox"||this.type==="radio";var l="ui-state-hover"+(i?"":" ui-state-active");var m="ui-state-focus";h.label===null&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){if(h.disabled)return;a$$0(this).addClass("ui-state-hover"),this===c$$0&&a$$0(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(h.disabled)return;a$$0(this).removeClass(l)}).bind("click.button",
function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b$$0.buttonElement.addClass(m)}).bind("blur.button",function(){b$$0.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){if(f$$0)return;b$$0.refresh()}),this.buttonElement.bind("mousedown.button",function(a){if(h.disabled)return;f$$0=!1,d$$0=a.pageX,e$$0=a.pageY}).bind("mouseup.button",function(a){if(h.disabled)return;if(d$$0!==a.pageX||e$$0!==a.pageY)f$$0=
!0})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f$$0)return!1;a$$0(this).toggleClass("ui-state-active"),b$$0.buttonElement.attr("aria-pressed",b$$0.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f$$0)return!1;a$$0(this).addClass("ui-state-active"),b$$0.buttonElement.attr("aria-pressed","true");var c=b$$0.element[0];k(c).not(c).map(function(){return a$$0(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled)return!1;a$$0(this).addClass("ui-state-active"),c$$0=this,a$$0(document).one("mouseup",function(){c$$0=null})}).bind("mouseup.button",function(){if(h.disabled)return!1;a$$0(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled)return!1;(b.keyCode==a$$0.ui.keyCode.SPACE||b.keyCode==a$$0.ui.keyCode.ENTER)&&a$$0(this).addClass("ui-state-active")}).bind("keyup.button",function(){a$$0(this).removeClass("ui-state-active")}),
this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a$$0.ui.keyCode.SPACE&&a$$0(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last");var b="label[for='"+this.element.attr("id")+
"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),
this.buttonElement.removeClass(g+" "+h$$0+" "+i$$0).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a$$0.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a$$0.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled"){c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1);return}this._resetButton()},refresh:function(){var b=this.element.is(":disabled");
b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a$$0(this).is(":checked")?a$$0(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a$$0(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",
"false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var b=this.buttonElement.removeClass(i$$0);var c=a$$0("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text();var d=this.options.icons;var e=d.primary&&d.secondary;var f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+
d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a$$0.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,
c){b==="disabled"&&this.buttons.button("option",b,c),a$$0.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a$$0(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?
"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a$$0(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a$$0.Widget.prototype.destroy.call(this)}})})(jQuery);
(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",
this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri",
"Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",
minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a$$0){var b=
"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a$$0.bind("mouseout",function(a){var c=$(a.target).closest(b);if(!c.length)return;c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);if($.datepicker._isDisabledDatepicker(instActive.inline?a$$0.parent()[0]:instActive.input[0])||!d.length)return;d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.22"}});var PROP_NAME="datepicker";var dpuuid=
(new Date).getTime();var instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=
eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,
selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a$$0,b){var c$$0=$(a$$0);b.append=$([]),b.trigger=$([]);if(c$$0.hasClass(this.markerClassName))return;this._attachments(c$$0,b),c$$0.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",
function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a$$0,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a$$0)},_attachments:function(a,b){var c=this._get(b,"appendText");var d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");
(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText");var g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==
a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a$$0){if(this._get(a$$0,"autoSize")&&!a$$0.inline){var b$$0=new Date(2009,11,20);var c$$0=this._get(a$$0,"dateFormat");if(c$$0.match(/[DM]/)){var d$$0=function $d$$0$(a){var b=0;var c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b$$0.setMonth(d$$0(this._get(a$$0,
c$$0.match(/MM/)?"monthNames":"monthNamesShort"))),b$$0.setDate(d$$0(this._get(a$$0,c$$0.match(/DD/)?"dayNames":"dayNamesShort"))+20-b$$0.getDay())}a$$0.input.attr("size",this._formatDate(a$$0,b$$0).length)}},_inlineDatepicker:function(a$$0,b){var c$$0=$(a$$0);if(c$$0.hasClass(this.markerClassName))return;c$$0.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a$$0,PROP_NAME,
b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a$$0),b.dpDiv.css("display","block")},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,
!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth;var i=document.documentElement.clientHeight;var j=document.documentElement.scrollLeft||document.body.scrollLeft;var k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",
this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a);var c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",
this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b$$0=$(a);var c=$.data(a,PROP_NAME);if(!b$$0.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d==
"span"){var e=b$$0.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b$$0=$(a);var c=$.data(a,PROP_NAME);if(!b$$0.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",
cursor:"default"});else if(d=="div"||d=="span"){var e=b$$0.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},
_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0);var g=this._getMinMaxDate(d,"min");var h=this._getMinMaxDate(d,
"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},
_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target);var c=!0;var d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=
$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;
case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,
"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||
a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat"));var d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);
if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a$$0){a$$0=a$$0.target||a$$0,a$$0.nodeName.toLowerCase()!="input"&&(a$$0=$("input",a$$0.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a$$0)||$.datepicker._lastInput==a$$0)return;
var b=$.datepicker._getInst(a$$0);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c$$0=$.datepicker._get(b,"beforeShow");var d=c$$0?c$$0.apply(a$$0,[a$$0,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a$$0,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a$$0.value=""),$.datepicker._pos||($.datepicker._pos=
$.datepicker._findPos(a$$0),$.datepicker._pos[1]+=a$$0.offsetHeight);var e=!1;$(a$$0).parents().each(function(){return e|=$(this).css("position")=="fixed",!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,
f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim");var h=$.datepicker._get(b,"duration");var i=function $i$(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a$$0).zIndex()+1),$.datepicker._datepickerShowing=
!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),
height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a);var f=e[1];var g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&
a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a$$0){var b=function $b$(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a$$0.css("border-left-width"))),parseFloat(b(a$$0.css("border-top-width")))]},_checkOffset:function(a,
b,c){var d=a.dpDiv.outerWidth();var e=a.dpDiv.outerHeight();var f=a.input?a.input.outerWidth():0;var g=a.input?a.input.outerHeight():0;var h=document.documentElement.clientWidth+(c?0:$(document).scrollLeft());var i=document.documentElement.clientHeight+(c?0:$(document).scrollTop());return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+
d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a);for(var c=this._get(b,"isRTL");a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a));)a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME))return;if(this._datepickerShowing){var c=this._get(b,"showAnim");var d=this._get(b,"duration");var e=function $e$(){$.datepicker._tidyDialog(b)};
$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(!$.datepicker._curInst)return;var b=$(a.target);var c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=
$(a);var e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0]))return;this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a);var c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),
this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a);var e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0]))return;var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=
c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a);var c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a);var d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],
typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat");var d=this._getDate(a);var e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),
Math.floor(Math.round((c-b)/864E5)/7)+1},parseDate:function(a$$1,b$$0,c$$1){if(a$$1==null||b$$0==null)throw"Invalid arguments";b$$0=typeof b$$0=="object"?b$$0.toString():b$$0+"";if(b$$0=="")return null;var d$$1=(c$$1?c$$1.shortYearCutoff:null)||this._defaults.shortYearCutoff;d$$1=typeof d$$1!="string"?d$$1:(new Date).getFullYear()%100+parseInt(d$$1,10);var e$$0=(c$$1?c$$1.dayNamesShort:null)||this._defaults.dayNamesShort;var f$$0=(c$$1?c$$1.dayNames:null)||this._defaults.dayNames;var g=(c$$1?c$$1.monthNamesShort:
null)||this._defaults.monthNamesShort;var h=(c$$1?c$$1.monthNames:null)||this._defaults.monthNames;var i=-1;var j=-1;var k=-1;var l=-1;var m=!1;var n=function $n$(b){var c=s+1<a$$1.length&&a$$1.charAt(s+1)==b;return c&&s++,c};var o=function $o$(a){var c=n(a);var d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2;var e=new RegExp("^\\d{1,"+d+"}");var f=b$$0.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)};var p=function $p$(a$$0,c$$0,d$$0){var e=$.map(n(a$$0)?
d$$0:c$$0,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});var f=-1;$.each(e,function(a,c){var d=c[1];if(b$$0.substr(r,d.length).toLowerCase()==d.toLowerCase())return f=c[0],r+=d.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r;};var q=function $q$(){if(b$$0.charAt(r)!=a$$1.charAt(s))throw"Unexpected literal at position "+r;r++};var r=0;for(var s=0;s<a$$1.length;s++)if(m)a$$1.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a$$1.charAt(s)){case "d":k=
o("d");break;case "D":p("D",e$$0,f$$0);break;case "o":l=o("o");break;case "m":j=o("m");break;case "M":j=p("M",g,h);break;case "y":i=o("y");break;case "@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case "!":t=new Date((o("!")-this._ticksTo1970)/1E4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case "'":n("'")?q():m=!0;break;default:q()}if(r<b$$0.length)throw"Extra/unparsed characters found in date: "+b$$0.substring(r);i==-1?i=(new Date).getFullYear():i<
100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d$$1?0:-100));if(l>-1){j=1,k=l;do{var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}while(!0)}t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",
_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1E7,formatDate:function(a$$0,b$$0,c$$0){if(!b$$0)return"";var d$$0=(c$$0?c$$0.dayNamesShort:null)||this._defaults.dayNamesShort;var e=(c$$0?c$$0.dayNames:null)||this._defaults.dayNames;var f=(c$$0?c$$0.monthNamesShort:null)||this._defaults.monthNamesShort;var g=(c$$0?c$$0.monthNames:null)||this._defaults.monthNames;var h=function $h$(b){var c=m+1<a$$0.length&&a$$0.charAt(m+1)==b;return c&&m++,c};var i=function $i$(a,
b,c){var d=""+b;if(h(a))for(;d.length<c;)d="0"+d;return d};var j=function $j$(a,b,c,d){return h(a)?d[b]:c[b]};var k="";var l=!1;if(b$$0)for(var m=0;m<a$$0.length;m++)if(l)a$$0.charAt(m)=="'"&&!h("'")?l=!1:k+=a$$0.charAt(m);else switch(a$$0.charAt(m)){case "d":k+=i("d",b$$0.getDate(),2);break;case "D":k+=j("D",b$$0.getDay(),d$$0,e);break;case "o":k+=i("o",Math.round(((new Date(b$$0.getFullYear(),b$$0.getMonth(),b$$0.getDate())).getTime()-(new Date(b$$0.getFullYear(),0,0)).getTime())/864E5),3);break;
case "m":k+=i("m",b$$0.getMonth()+1,2);break;case "M":k+=j("M",b$$0.getMonth(),f,g);break;case "y":k+=h("y")?b$$0.getFullYear():(b$$0.getYear()%100<10?"0":"")+b$$0.getYear()%100;break;case "@":k+=b$$0.getTime();break;case "!":k+=b$$0.getTime()*1E4+this._ticksTo1970;break;case "'":h("'")?k+="'":l=!0;break;default:k+=a$$0.charAt(m)}return k},_possibleChars:function(a){var b$$0="";var c$$0=!1;var d=function $d$(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++)if(c$$0)a.charAt(e)==
"'"&&!d("'")?c$$0=!1:b$$0+=a.charAt(e);else switch(a.charAt(e)){case "d":case "m":case "y":case "@":b$$0+="0123456789";break;case "D":case "M":return null;case "'":d("'")?b$$0+="'":c$$0=!0;break;default:b$$0+=a.charAt(e)}return b$$0},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal)return;var c=this._get(a,"dateFormat");var d=a.lastVal=a.input?a.input.val():null;var e;var f;e=f=this._getDefaultDate(a);
var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a$$0,b$$0,c$$0){var d$$0=function $d$$0$(a){var b=
new Date;return b.setDate(b.getDate()+a),b};var e$$0=function $e$$0$(b){try{return $.datepicker.parseDate($.datepicker._get(a$$0,"dateFormat"),b,$.datepicker._getFormatConfig(a$$0))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a$$0):null)||new Date;var e=d.getFullYear();var f=d.getMonth();var g=d.getDate();var h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;for(var i=h.exec(b);i;){switch(i[2]||"d"){case "d":case "D":g+=parseInt(i[1],10);break;case "w":case "W":g+=parseInt(i[1],10)*7;
break;case "m":case "M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case "y":case "Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)};var f$$0=b$$0==null||b$$0===""?c$$0:typeof b$$0=="string"?e$$0(b$$0):typeof b$$0=="number"?isNaN(b$$0)?c$$0:d$$0(b$$0):new Date(b$$0.getTime());return f$$0=f$$0&&f$$0.toString()=="Invalid Date"?c$$0:f$$0,f$$0&&(f$$0.setHours(0),f$$0.setMinutes(0),f$$0.setSeconds(0),f$$0.setMilliseconds(0)),
this._daylightSavingAdjust(f$$0)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b;var e=a.selectedMonth;var f=a.selectedYear;var g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),
a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(a$$0){var b=this._get(a$$0,"stepMonths");var c="#"+a$$0.id;a$$0.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,-b,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,+b,
"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(c)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"Y"),
!1}};$(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL");var d=this._get(a,"showButtonPanel");var e=this._get(a,"hideIfNoPrevNext");var f=this._get(a,"navigationAsDateFormat");var g=this._getNumberOfMonths(a);var h=this._get(a,"showCurrentAtPos");var i=this._get(a,"stepMonths");var j=g[0]!=1||g[1]!=1;var k=this._daylightSavingAdjust(a.currentDay?
new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9));var l=this._getMinMaxDate(a,"min");var m=this._getMinMaxDate(a,"max");var n=a.drawMonth-h;var o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));for(p=l&&p<l?l:p;this._daylightSavingAdjust(new Date(o,n,1))>p;)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-
i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>";var s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,
n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>";var u=this._get(a,"currentText");var v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,
v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>";var x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+u+"</button>":"")+(c?"":w)+
"</div>":"";var y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek");var A=this._get(a,"dayNames");var B=this._get(a,"dayNamesShort");var C=this._get(a,"dayNamesMin");var D=this._get(a,"monthNames");var E=this._get(a,"monthNamesShort");var F=this._get(a,"beforeShowDay");var G=this._get(a,"showOtherMonths");var H=this._get(a,"selectOtherMonths");var I=this._get(a,"calculateWeek")||this.iso8601Week;var J=this._getDefaultDate(a);var K="";for(var L=0;L<g[0];L++){var M="";
this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay));var P=" ui-corner-all";var Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&
L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=
Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7;var W=Math.ceil((V+U)/7);var X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""];var bb=Y.getMonth()!=n;var bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":
"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' data-handler="selectDay" data-event="click" data-month="'+Y.getMonth()+'" data-year="'+
Y.getFullYear()+'"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),
M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a$$0,b$$0,c,d,e,f,g,h){var i=this._get(a$$0,"changeMonth");var j=this._get(a$$0,"changeYear");var k=this._get(a$$0,"showMonthAfterYear");var l='<div class="ui-datepicker-title">';var m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b$$0]+"</span>";else{var n=d&&d.getFullYear()==
c;var o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b$$0?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a$$0.yearshtml){a$$0.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a$$0,"yearRange").split(":");var r=(new Date).getFullYear();var s=
function $s$(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b};var t=s(q[0]);var u=Math.max(t,s(q[1]||""));for(t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a$$0.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';t<=u;t++)a$$0.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a$$0.yearshtml+="</select>",l+=a$$0.yearshtml,
a$$0.yearshtml=null}}return l+=this._get(a$$0,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0);var e=a.drawMonth+(c=="M"?b:0);var f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0);var g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,
b){var c=this._getMinMaxDate(a,"min");var d=this._getMinMaxDate(a,"max");var e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,
b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a);var f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");var d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=
this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function $$$fn$datepicker$(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]==
"string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.22",window["DP_jQuery_"+dpuuid]=$})(jQuery);if(!window.A4J)window.A4J={};function Sarissa(){}Sarissa.VERSION="0.9.9.3";Sarissa.PARSED_OK="Document contains no parsing errors";Sarissa.PARSED_EMPTY="Document is empty";Sarissa.PARSED_UNKNOWN_ERROR="Not well-formed or other error";Sarissa.IS_ENABLED_TRANSFORM_NODE=false;Sarissa.REMOTE_CALL_FLAG="gr.abiss.sarissa.REMOTE_CALL_FLAG";Sarissa._sarissa_iNsCounter=0;Sarissa._SARISSA_IEPREFIX4XSLPARAM="";Sarissa._SARISSA_HAS_DOM_IMPLEMENTATION=document.implementation&&true;
Sarissa._SARISSA_HAS_DOM_CREATE_DOCUMENT=Sarissa._SARISSA_HAS_DOM_IMPLEMENTATION&&document.implementation.createDocument;Sarissa._SARISSA_HAS_DOM_FEATURE=Sarissa._SARISSA_HAS_DOM_IMPLEMENTATION&&document.implementation.hasFeature;Sarissa._SARISSA_IS_MOZ=Sarissa._SARISSA_HAS_DOM_CREATE_DOCUMENT&&Sarissa._SARISSA_HAS_DOM_FEATURE;Sarissa._SARISSA_IS_SAFARI=navigator.userAgent.toLowerCase().indexOf("safari")!=-1||navigator.userAgent.toLowerCase().indexOf("konqueror")!=-1;
Sarissa._SARISSA_IS_SAFARI_OLD=Sarissa._SARISSA_IS_SAFARI&&parseInt((navigator.userAgent.match(/AppleWebKit\/(\d+)/)||{})[1],10)<420;Sarissa._SARISSA_IS_IE=document.all&&window.ActiveXObject&&navigator.userAgent.toLowerCase().indexOf("msie")>-1&&navigator.userAgent.toLowerCase().indexOf("opera")==-1;Sarissa._SARISSA_IS_OPERA=navigator.userAgent.toLowerCase().indexOf("opera")!=-1;
if(!window.Node||!Node.ELEMENT_NODE)Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};
if(Sarissa._SARISSA_IS_SAFARI_OLD){HTMLHtmlElement=document.createElement("html").constructor;Node=HTMLElement={};HTMLElement.prototype=HTMLHtmlElement.__proto__.__proto__;HTMLDocument=Document=document.constructor;var x=new DOMParser;XMLDocument=x.constructor;Element=x.parseFromString("<Single />","text/xml").documentElement.constructor;x=null}if(typeof XMLDocument=="undefined"&&typeof Document!="undefined")XMLDocument=Document;
if(Sarissa._SARISSA_IS_IE){Sarissa._SARISSA_IEPREFIX4XSLPARAM="xsl:";var _SARISSA_DOM_PROGID="";var _SARISSA_XMLHTTP_PROGID="";var _SARISSA_DOM_XMLWRITER="";Sarissa.pickRecentProgID=function $Sarissa$pickRecentProgID$(idList){var bFound=false;var e;var o2Store;for(var i=0;i<idList.length&&!bFound;i++)try{var oDoc=new ActiveXObject(idList[i]);o2Store=idList[i];bFound=true}catch(objException){e=objException}if(!bFound)throw"Could not retrieve a valid progID of Class: "+idList[idList.length-1]+". (original exception: "+
e+")";idList=null;return o2Store};_SARISSA_DOM_PROGID=null;_SARISSA_THREADEDDOM_PROGID=null;_SARISSA_XSLTEMPLATE_PROGID=null;_SARISSA_XMLHTTP_PROGID=null;Sarissa.originalXMLHttpRequest=window.XMLHttpRequest;XMLHttpRequest=function $XMLHttpRequest$(){if(!_SARISSA_XMLHTTP_PROGID)_SARISSA_XMLHTTP_PROGID=Sarissa.pickRecentProgID(["MSXML2.XMLHTTP","Microsoft.XMLHTTP"]);return new ActiveXObject(_SARISSA_XMLHTTP_PROGID)};Sarissa.getDomDocument=function $Sarissa$getDomDocument$(sUri,sName){if(!_SARISSA_DOM_PROGID)_SARISSA_DOM_PROGID=
Sarissa.pickRecentProgID(["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"]);var oDoc=new ActiveXObject(_SARISSA_DOM_PROGID);if(sName){var prefix="";if(sUri)if(sName.indexOf(":")>1){prefix=sName.substring(0,sName.indexOf(":"));sName=sName.substring(sName.indexOf(":")+1)}else prefix="a"+Sarissa._sarissa_iNsCounter++;if(sUri)oDoc.loadXML("<"+prefix+":"+sName+" xmlns:"+prefix+'="'+sUri+'"'+" />");else oDoc.loadXML("<"+sName+" />")}return oDoc};
Sarissa.getParseErrorText=function $Sarissa$getParseErrorText$(oDoc){var parseErrorText=Sarissa.PARSED_OK;if(oDoc&&oDoc.parseError&&oDoc.parseError.errorCode&&oDoc.parseError.errorCode!=0){parseErrorText="XML Parsing Error: "+oDoc.parseError.reason+"\nLocation: "+oDoc.parseError.url+"\nLine Number "+oDoc.parseError.line+", Column "+oDoc.parseError.linepos+":\n"+oDoc.parseError.srcText+"\n";for(var i=0;i<oDoc.parseError.linepos;i++)parseErrorText+="-";parseErrorText+="^\n"}else if(oDoc.documentElement===
null)parseErrorText=Sarissa.PARSED_EMPTY;return parseErrorText};Sarissa.setXpathNamespaces=function $Sarissa$setXpathNamespaces$(oDoc,sNsSet){oDoc.setProperty("SelectionLanguage","XPath");oDoc.setProperty("SelectionNamespaces",sNsSet)};XSLTProcessor=function $XSLTProcessor$(){if(!_SARISSA_XSLTEMPLATE_PROGID)_SARISSA_XSLTEMPLATE_PROGID=Sarissa.pickRecentProgID(["Msxml2.XSLTemplate.6.0","MSXML2.XSLTemplate.3.0"]);this.template=new ActiveXObject(_SARISSA_XSLTEMPLATE_PROGID);this.processor=null};XSLTProcessor.prototype.importStylesheet=
function $XSLTProcessor$$importStylesheet$(xslDoc){if(!_SARISSA_THREADEDDOM_PROGID)_SARISSA_THREADEDDOM_PROGID=Sarissa.pickRecentProgID(["MSXML2.FreeThreadedDOMDocument.6.0","MSXML2.FreeThreadedDOMDocument.3.0"]);xslDoc.setProperty("SelectionLanguage","XPath");xslDoc.setProperty("SelectionNamespaces","xmlns:xsl='http://www.w3.org/1999/XSL/Transform'");var converted=new ActiveXObject(_SARISSA_THREADEDDOM_PROGID);try{converted.resolveExternals=true;converted.setProperty("AllowDocumentFunction",true)}catch(e){}if(xslDoc.url&&
xslDoc.selectSingleNode("//xsl:*[local-name() = 'import' or local-name() = 'include']")!=null){converted.async=false;converted.load(xslDoc.url)}else converted.loadXML(xslDoc.xml);converted.setProperty("SelectionNamespaces","xmlns:xsl='http://www.w3.org/1999/XSL/Transform'");var output=converted.selectSingleNode("//xsl:output");if(output)this.outputMethod=output.getAttribute("method");else delete this.outputMethod;this.template.stylesheet=converted;this.processor=this.template.createProcessor();this.paramsSet=
[]};XSLTProcessor.prototype.transformToDocument=function $XSLTProcessor$$transformToDocument$(sourceDoc){var outDoc;if(_SARISSA_THREADEDDOM_PROGID){this.processor.input=sourceDoc;outDoc=new ActiveXObject(_SARISSA_DOM_PROGID);this.processor.output=outDoc;this.processor.transform();return outDoc}else{if(!_SARISSA_DOM_XMLWRITER)_SARISSA_DOM_XMLWRITER=Sarissa.pickRecentProgID(["Msxml2.MXXMLWriter.6.0","Msxml2.MXXMLWriter.3.0","MSXML2.MXXMLWriter","MSXML.MXXMLWriter","Microsoft.XMLDOM"]);this.processor.input=
sourceDoc;outDoc=new ActiveXObject(_SARISSA_DOM_XMLWRITER);this.processor.output=outDoc;this.processor.transform();var oDoc=new ActiveXObject(_SARISSA_DOM_PROGID);oDoc.loadXML(outDoc.output+"");return oDoc}};XSLTProcessor.prototype.transformToFragment=function $XSLTProcessor$$transformToFragment$(sourceDoc,ownerDoc){this.processor.input=sourceDoc;this.processor.transform();var s=this.processor.output;var f=ownerDoc.createDocumentFragment();var container;if(this.outputMethod=="text")f.appendChild(ownerDoc.createTextNode(s));
else if(ownerDoc.body&&ownerDoc.body.innerHTML){container=ownerDoc.createElement("div");for(container.innerHTML=s;container.hasChildNodes();)f.appendChild(container.firstChild)}else{var oDoc=new ActiveXObject(_SARISSA_DOM_PROGID);if(s.substring(0,5)=="<?xml")s=s.substring(s.indexOf("?>")+2);var xml="".concat("<my>",s,"</my>");oDoc.loadXML(xml);for(container=oDoc.documentElement;container.hasChildNodes();)f.appendChild(container.firstChild)}return f};XSLTProcessor.prototype.setParameter=function $XSLTProcessor$$setParameter$(nsURI,
name,value){value=value?value:"";if(nsURI)this.processor.addParameter(name,value,nsURI);else this.processor.addParameter(name,value);nsURI=""+(nsURI||"");if(!this.paramsSet[nsURI])this.paramsSet[nsURI]=[];this.paramsSet[nsURI][name]=value};XSLTProcessor.prototype.getParameter=function $XSLTProcessor$$getParameter$(nsURI,name){nsURI=""+(nsURI||"");if(this.paramsSet[nsURI]&&this.paramsSet[nsURI][name])return this.paramsSet[nsURI][name];else return null};XSLTProcessor.prototype.clearParameters=function $XSLTProcessor$$clearParameters$(){for(var nsURI in this.paramsSet)for(var name in this.paramsSet[nsURI])if(nsURI!=
"")this.processor.addParameter(name,"",nsURI);else this.processor.addParameter(name,"");this.paramsSet=[]}}else if(Sarissa._SARISSA_HAS_DOM_CREATE_DOCUMENT){Sarissa.__handleLoad__=function $Sarissa$__handleLoad__$(oDoc){Sarissa.__setReadyState__(oDoc,4)};_sarissa_XMLDocument_onload=function $_sarissa_XMLDocument_onload$(){Sarissa.__handleLoad__(this)};Sarissa.__setReadyState__=function $Sarissa$__setReadyState__$(oDoc,iReadyState){oDoc.readyState=iReadyState;oDoc.readystate=iReadyState;if(oDoc.onreadystatechange!=
null&&typeof oDoc.onreadystatechange=="function")oDoc.onreadystatechange()};Sarissa.getDomDocument=function $Sarissa$getDomDocument$(sUri,sName){var oDoc=document.implementation.createDocument(sUri?sUri:null,sName?sName:null,null);if(!oDoc.onreadystatechange)oDoc.onreadystatechange=null;if(!oDoc.readyState)oDoc.readyState=0;oDoc.addEventListener("load",_sarissa_XMLDocument_onload,false);return oDoc};if(window.XMLDocument);else if(Sarissa._SARISSA_HAS_DOM_FEATURE&&window.Document&&!Document.prototype.load&&
document.implementation.hasFeature("LS","3.0"))Sarissa.getDomDocument=function $Sarissa$getDomDocument$(sUri,sName){var oDoc=document.implementation.createDocument(sUri?sUri:null,sName?sName:null,null);return oDoc};else Sarissa.getDomDocument=function $Sarissa$getDomDocument$(sUri,sName){var oDoc=document.implementation.createDocument(sUri?sUri:null,sName?sName:null,null);if(oDoc&&(sUri||sName)&&!oDoc.documentElement)oDoc.appendChild(oDoc.createElementNS(sUri,sName));return oDoc}}
if(!window.DOMParser)if(Sarissa._SARISSA_IS_SAFARI){DOMParser=function $DOMParser$(){};DOMParser.prototype.parseFromString=function $DOMParser$$parseFromString$(sXml,contentType){var xmlhttp=new XMLHttpRequest;xmlhttp.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(sXml),false);xmlhttp.send(null);return xmlhttp.responseXML}}else if(Sarissa.getDomDocument&&Sarissa.getDomDocument()&&Sarissa.getDomDocument(null,"bar").xml){DOMParser=function $DOMParser$(){};DOMParser.prototype.parseFromString=
function $DOMParser$$parseFromString$(sXml,contentType){var doc=Sarissa.getDomDocument();doc.loadXML(sXml);return doc}}
if(typeof document.importNode=="undefined"&&Sarissa._SARISSA_IS_IE)try{var importTable={TBODY:["<table>","</table>"],THEAD:["<table>","</table>"],TFOOT:["<table>","</table>"],TR:["<table><tbody>","</tbody></table>"],TH:["<table><thead><tr>","</tr></thead></table>"],TD:["<table><tbody><tr>","</tr></tbody></table>"],OPTION:["<select>","</select>"]};document.importNode=function $document$importNode$(oNode,bChildren){var tmp;if(oNode.nodeName=="#text")return document.createTextNode(oNode.data);else{var tagName=
oNode.nodeName.toUpperCase();var wrapper=importTable[tagName];var nodeHtml;if(bChildren)nodeHtml=oNode.xml?oNode.xml:oNode.outerHTML;else nodeHtml=oNode.xml?oNode.cloneNode(false).xml:oNode.cloneNode(false).outerHTML;var wrapperElt=document.createElement("div");if(wrapper)nodeHtml=wrapper[0]+nodeHtml+wrapper[1];wrapperElt.innerHTML=nodeHtml;var stack=new Array(wrapperElt.firstChild);for(var result;!result;){var newStack=new Array;for(var i=0;i<stack.length&&!result;i++)for(var elt=stack[i];elt;)if(elt.tagName&&
elt.tagName.toUpperCase()==tagName){result=elt;break}else{if(elt.firstChild)newStack.push(elt.firstChild);elt=elt.nextSibling}stack=newStack}return result}}}catch(e$$203){}
if(!Sarissa.getParseErrorText)Sarissa.getParseErrorText=function $Sarissa$getParseErrorText$(oDoc){var parseErrorText=Sarissa.PARSED_OK;if(!oDoc.documentElement)parseErrorText=Sarissa.PARSED_EMPTY;else if(oDoc.documentElement.tagName=="parsererror"){parseErrorText=oDoc.documentElement.firstChild.data;parseErrorText+="\n"+oDoc.documentElement.firstChild.nextSibling.firstChild.data}else if(oDoc.getElementsByTagName("parsererror").length>0){var parsererror=oDoc.getElementsByTagName("parsererror")[0];
parseErrorText=Sarissa.getText(parsererror,true)+"\n"}else if(oDoc.parseError&&oDoc.parseError.errorCode!=0)parseErrorText=Sarissa.PARSED_UNKNOWN_ERROR;return parseErrorText};
Sarissa.getText=function $Sarissa$getText$(oNode,deep){var s="";var nodes=oNode.childNodes;for(var i=0;i<nodes.length;i++){var node=nodes[i];var nodeType=node.nodeType;if(nodeType==Node.TEXT_NODE||nodeType==Node.CDATA_SECTION_NODE)s+=node.data;else if(deep===true&&(nodeType==Node.ELEMENT_NODE||nodeType==Node.DOCUMENT_NODE||nodeType==Node.DOCUMENT_FRAGMENT_NODE))s+=Sarissa.getText(node,true)}return s};
if(!window.XMLSerializer&&Sarissa.getDomDocument&&Sarissa.getDomDocument("","foo",null).xml){XMLSerializer=function $XMLSerializer$(){};XMLSerializer.prototype.serializeToString=function $XMLSerializer$$serializeToString$(oNode){return oNode.xml}}Sarissa.stripTags=function $Sarissa$stripTags$(s){return s?s.replace(/<[^>]+>/g,""):s};Sarissa.clearChildNodes=function $Sarissa$clearChildNodes$(oNode){for(;oNode.firstChild;)oNode.removeChild(oNode.firstChild)};
Sarissa.copyChildNodes=function $Sarissa$copyChildNodes$(nodeFrom,nodeTo,bPreserveExisting){if(Sarissa._SARISSA_IS_SAFARI&&nodeTo.nodeType==Node.DOCUMENT_NODE)nodeTo=nodeTo.documentElement;if(!nodeFrom||!nodeTo)throw"Both source and destination nodes must be provided";if(!bPreserveExisting)Sarissa.clearChildNodes(nodeTo);var ownerDoc=nodeTo.nodeType==Node.DOCUMENT_NODE?nodeTo:nodeTo.ownerDocument;var nodes=nodeFrom.childNodes;var i;if(typeof ownerDoc.importNode!="undefined")for(i=0;i<nodes.length;i++)nodeTo.appendChild(ownerDoc.importNode(nodes[i],
true));else for(i=0;i<nodes.length;i++)nodeTo.appendChild(nodes[i].cloneNode(true))};
Sarissa.moveChildNodes=function $Sarissa$moveChildNodes$(nodeFrom,nodeTo,bPreserveExisting){if(!nodeFrom||!nodeTo)throw"Both source and destination nodes must be provided";if(!bPreserveExisting)Sarissa.clearChildNodes(nodeTo);var nodes=nodeFrom.childNodes;if(nodeFrom.ownerDocument==nodeTo.ownerDocument)for(;nodeFrom.firstChild;)nodeTo.appendChild(nodeFrom.firstChild);else{var ownerDoc=nodeTo.nodeType==Node.DOCUMENT_NODE?nodeTo:nodeTo.ownerDocument;var i;if(typeof ownerDoc.importNode!="undefined")for(i=
0;i<nodes.length;i++)nodeTo.appendChild(ownerDoc.importNode(nodes[i],true));else for(i=0;i<nodes.length;i++)nodeTo.appendChild(nodes[i].cloneNode(true));Sarissa.clearChildNodes(nodeFrom)}};
Sarissa.xmlize=function $Sarissa$xmlize$(anyObject,objectName,indentSpace){indentSpace=indentSpace?indentSpace:"";var s=indentSpace+"<"+objectName+">";var isLeaf=false;if(!(anyObject instanceof Object)||anyObject instanceof Number||anyObject instanceof String||anyObject instanceof Boolean||anyObject instanceof Date){s+=Sarissa.escape(""+anyObject);isLeaf=true}else{s+="\n";var isArrayItem=anyObject instanceof Array;for(var name in anyObject)s+=Sarissa.xmlize(anyObject[name],isArrayItem?'array-item key="'+
name+'"':name,indentSpace+"   ");s+=indentSpace}return s+=objectName.indexOf(" ")!=-1?"</array-item>\n":"</"+objectName+">\n"};Sarissa.escape=function $Sarissa$escape$(sXml){return sXml.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};Sarissa.unescape=function $Sarissa$unescape$(sXml){return sXml.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")};
Sarissa.updateCursor=function $Sarissa$updateCursor$(oTargetElement,sValue){if(oTargetElement&&oTargetElement.style&&oTargetElement.style.cursor!=undefined)oTargetElement.style.cursor=sValue};
Sarissa.updateContentFromURI=function $Sarissa$updateContentFromURI$(sFromUrl,oTargetElement,xsltproc,callback,skipCache){try{Sarissa.updateCursor(oTargetElement,"wait");var xmlhttp=new XMLHttpRequest;xmlhttp.open("GET",sFromUrl,true);xmlhttp.onreadystatechange=function $xmlhttp$onreadystatechange$(){if(xmlhttp.readyState==4)try{var oDomDoc=xmlhttp.responseXML;if(oDomDoc&&Sarissa.getParseErrorText(oDomDoc)==Sarissa.PARSED_OK){Sarissa.updateContentFromNode(xmlhttp.responseXML,oTargetElement,xsltproc);
callback(sFromUrl,oTargetElement)}else throw Sarissa.getParseErrorText(oDomDoc);}catch(e){if(callback)callback(sFromUrl,oTargetElement,e);else throw e;}};if(skipCache){var oldage="Sat, 1 Jan 2000 00:00:00 GMT";xmlhttp.setRequestHeader("If-Modified-Since",oldage)}xmlhttp.send("")}catch(e$$0){Sarissa.updateCursor(oTargetElement,"auto");if(callback)callback(sFromUrl,oTargetElement,e$$0);else throw e$$0;}};
Sarissa.updateContentFromNode=function $Sarissa$updateContentFromNode$(oNode,oTargetElement,xsltproc){try{Sarissa.updateCursor(oTargetElement,"wait");Sarissa.clearChildNodes(oTargetElement);var ownerDoc=oNode.nodeType==Node.DOCUMENT_NODE?oNode:oNode.ownerDocument;if(ownerDoc.parseError&&ownerDoc.parseError.errorCode!=0){var pre=document.createElement("pre");pre.appendChild(document.createTextNode(Sarissa.getParseErrorText(ownerDoc)));oTargetElement.appendChild(pre)}else{if(xsltproc)oNode=xsltproc.transformToDocument(oNode);
if(oTargetElement.tagName.toLowerCase()=="textarea"||oTargetElement.tagName.toLowerCase()=="input")oTargetElement.value=(new XMLSerializer).serializeToString(oNode);else if(oNode.nodeType==Node.DOCUMENT_NODE||oNode.ownerDocument.documentElement==oNode)oTargetElement.innerHTML=(new XMLSerializer).serializeToString(oNode);else oTargetElement.appendChild(oTargetElement.ownerDocument.importNode(oNode,true))}}catch(e){throw e;}finally{Sarissa.updateCursor(oTargetElement,"auto")}};
Sarissa.formToQueryString=function $Sarissa$formToQueryString$(oForm){var qs="";for(var i=0;i<oForm.elements.length;i++){var oField=oForm.elements[i];var sFieldName=oField.getAttribute("name")?oField.getAttribute("name"):oField.getAttribute("id");if(sFieldName&&(!oField.disabled||oField.type=="hidden"))switch(oField.type){case "hidden":case "text":case "textarea":case "password":qs+=sFieldName+"="+encodeURIComponent(oField.value)+"&";break;case "select-one":qs+=sFieldName+"="+encodeURIComponent(oField.options[oField.selectedIndex].value)+
"&";break;case "select-multiple":for(var j=0;j<oField.length;j++){var optElem=oField.options[j];if(optElem.selected===true)qs+=sFieldName+"[]"+"="+encodeURIComponent(optElem.value)+"&"}break;case "checkbox":case "radio":if(oField.checked)qs+=sFieldName+"="+encodeURIComponent(oField.value)+"&";break}}return qs.substr(0,qs.length-1)};
Sarissa.updateContentFromForm=function $Sarissa$updateContentFromForm$(oForm,oTargetElement,xsltproc,callback){try{Sarissa.updateCursor(oTargetElement,"wait");var params=Sarissa.formToQueryString(oForm)+"&"+Sarissa.REMOTE_CALL_FLAG+"=true";var xmlhttp=new XMLHttpRequest;var bUseGet=oForm.getAttribute("method")&&oForm.getAttribute("method").toLowerCase()=="get";if(bUseGet)xmlhttp.open("GET",oForm.getAttribute("action")+"?"+params,true);else{xmlhttp.open("POST",oForm.getAttribute("action"),true);xmlhttp.setRequestHeader("Content-type",
"application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",params.length);xmlhttp.setRequestHeader("Connection","close")}xmlhttp.onreadystatechange=function $xmlhttp$onreadystatechange$(){try{if(xmlhttp.readyState==4){var oDomDoc=xmlhttp.responseXML;if(oDomDoc&&Sarissa.getParseErrorText(oDomDoc)==Sarissa.PARSED_OK){Sarissa.updateContentFromNode(xmlhttp.responseXML,oTargetElement,xsltproc);callback(oForm,oTargetElement)}else throw Sarissa.getParseErrorText(oDomDoc);}}catch(e){if(callback)callback(oForm,
oTargetElement,e);else throw e;}};xmlhttp.send(bUseGet?"":params)}catch(e$$0){Sarissa.updateCursor(oTargetElement,"auto");if(callback)callback(oForm,oTargetElement,e$$0);else throw e$$0;}return false};if(jQuery.browser.msie&&jQuery.browser.version>=9){window.XMLSerializer=function $window$XMLSerializer$(){};window.XMLSerializer.prototype.serializeToString=function $window$XMLSerializer$$serializeToString$(oNode){return oNode.xml}}A4J.AJAX={};A4J.AJAX.Stub=function $A4J$AJAX$Stub$(){};
A4J.AJAX.XMLHttpRequest=function $A4J$AJAX$XMLHttpRequest$(query){this._query=query;this._documentElement=window.document.documentElement};
A4J.AJAX.XMLHttpRequest.prototype={_query:null,_timeout:0,_timeoutID:null,onready:null,_parsingStatus:Sarissa.PARSED_EMPTY,_errorMessage:"XML Response object not set",_contentType:null,_onerror:function $A4J$AJAX$XMLHttpRequest$$_onerror$(req,status,message){if(status!=599&&req.getResponseText())A4J.AJAX.replacePage(req)},onfinish:null,options:{},domEvt:null,form:null,_request:null,_aborted:false,_documentElement:null,setRequestTimeout:function $A4J$AJAX$XMLHttpRequest$$setRequestTimeout$(timeout){this._timeout=
timeout},send:function $A4J$AJAX$XMLHttpRequest$$send$(){this._request=new XMLHttpRequest;var _this=this;this._request.onreadystatechange=function $this$_request$onreadystatechange$(){if(window.document.documentElement!=_this._documentElement){LOG.warn("Page for current request have been unloaded - abort processing");if(!_this._status_stopped){A4J.AJAX.status(_this.containerId,_this.options.status,false);_this._status_stopped=true}_this.abort();return}LOG.debug("Reqest state : "+_this._request.readyState);
if(_this._request.readyState==4){if(_this._aborted){A4J.AJAX.status(_this.containerId,_this.options.status,false);A4J.AJAX.popQueue(_this);return}LOG.debug("Reqest end with state 4");if(_this._timeoutID)window.clearTimeout(_this._timeoutID);var requestStatus;var requestStatusText;try{requestStatus=_this._request.status;requestStatusText=_this._request.statusText}catch(e){LOG.error("request don't have status code - network problem, "+e.message);requestStatus=599;requestStatusText="Network error"}if(requestStatus==
200){try{LOG.debug("Response  with content-type: "+_this.getResponseHeader("Content-Type"));LOG.debug("Full response content: ",_this.getResponseText())}catch(e$$0){}if(_this._request.responseXML){_this._parsingStatus=Sarissa.getParseErrorText(_this._request.responseXML);if(_this._parsingStatus==Sarissa.PARSED_OK&&Sarissa.setXpathNamespaces)Sarissa.setXpathNamespaces(_this._request.responseXML,"xmlns='http://www.w3.org/1999/xhtml'")}if(_this.onready)_this.onready(_this)}else{_this._errorMessage="Reqest error, status : "+
requestStatus+" "+requestStatusText;LOG.error(_this._errorMessage);if(typeof _this._onerror=="function")_this._onerror(_this,requestStatus,_this._errorMessage);if(_this.onfinish)_this.onfinish(_this)}_this=undefined}};try{LOG.debug("Start XmlHttpRequest");this._request.open("POST",this._query.getActionUrl(""),true);var contentType="application/x-www-form-urlencoded; charset=UTF-8";this._request.setRequestHeader("Content-Type",contentType)}catch(e$$1){LOG.debug("XmlHttpRequest not support setRequestHeader - use GET instead of POST");
this._request.open("GET",this._query.getActionUrl("")+"?"+this._query.getQueryString(),true)}this._request.send(this._query.getQueryString());if(this._timeout>0)this._timeoutID=window.setTimeout(function(){LOG.warn("request stopped due to timeout");if(!_this._aborted)if(typeof A4J.AJAX.onAbort=="function")A4J.AJAX.onAbort(_this);_this._aborted=true;_this._request.onreadystatechange=A4J.AJAX.Stub;_this._request.abort();if(_this._onerror){_this._errorMessage="Request timeout";_this._onerror(_this,500,
_this._errorMessage)}if(_this.onfinish)_this.onfinish(_this);_this._request=undefined;_this=undefined},this._timeout)},abort:function $A4J$AJAX$XMLHttpRequest$$abort$(){this._oncomplete_aborted=true;if(!this._aborted)if(typeof A4J.AJAX.onAbort=="function")A4J.AJAX.onAbort(this);this._aborted=true},getResponseText:function $A4J$AJAX$XMLHttpRequest$$getResponseText$(){try{return this._request.responseText}catch(e){return null}},getError:function $A4J$AJAX$XMLHttpRequest$$getError$(){return this._errorMessage},
getParserStatus:function $A4J$AJAX$XMLHttpRequest$$getParserStatus$(){return this._parsingStatus},getContentType:function $A4J$AJAX$XMLHttpRequest$$getContentType$(){if(!this._contentType){var contentType=this.getResponseHeader("Content-Type");if(contentType){var i=contentType.indexOf(";");if(i>=0)this._contentType=contentType.substring(0,i);else this._contentType=contentType}else this._contentType="text/html"}return this._contentType},getResponseHeader:function $A4J$AJAX$XMLHttpRequest$$getResponseHeader$(name){var result;
try{result=this._request.getResponseHeader(name);if(result==="")result=undefined}catch(e){}if(!result){LOG.debug("Header "+name+" not found, search in <meta>");if(this._parsingStatus==Sarissa.PARSED_OK){var metas=this.getElementsByTagName("meta");for(var i=0;i<metas.length;i++){var meta=metas[i];LOG.debug("Find <meta name='"+meta.getAttribute("name")+"' content='"+meta.getAttribute("content")+"'>");if(meta.getAttribute("name")==name){result=meta.getAttribute("content");break}}}}return result},getElementsByTagName:function $A4J$AJAX$XMLHttpRequest$$getElementsByTagName$(elementname,
element){if(!element)element=this._request.responseXML;LOG.debug("search for elements by name '"+elementname+"' "+" in element "+element.nodeName);var elements;try{elements=element.selectNodes('.//*[local-name()="'+elementname+'"]')}catch(ex){try{elements=element.getElementsByTagName(elementname)}catch(nf){LOG.debug("getElementsByTagName found no elements, "+nf.Message)}}return elements},getElementById:function $A4J$AJAX$XMLHttpRequest$$getElementById$(id){var oDoc=this._request.responseXML;if(oDoc){if(typeof oDoc.getElementById!=
"undefined"){LOG.debug("call getElementById for id= "+id);return oDoc.getElementById(id)}else if(typeof oDoc.selectSingleNode!="undefined"){LOG.debug("call selectSingleNode for id= "+id);return oDoc.selectSingleNode("//*[@id='"+id+"']")}else if(typeof oDoc.nodeFromID!="undefined"){LOG.debug("call nodeFromID for id= "+id);return oDoc.nodeFromID(id)}LOG.error("No functions for getElementById found ")}else LOG.debug("No parsed XML document in response");return null},getJSON:function $A4J$AJAX$XMLHttpRequest$$getJSON$(id){var data;
var dataElement=this.getElementById(id);if(dataElement)try{data=Sarissa.getText(dataElement,true);data=window.eval("("+data+")")}catch(e){LOG.error("Error on parsing JSON data "+e.message,data)}return data},_evaluateScript:function $A4J$AJAX$XMLHttpRequest$$_evaluateScript$(node){var includeComments=!A4J.AJAX.isXhtmlScriptMode();var newscript=A4J.AJAX.getText(node,includeComments);try{LOG.debug("Evaluate script replaced area in document: ",newscript);if(window.execScript)window.execScript(newscript);
else window.eval(newscript);LOG.debug("Script evaluation succeeded")}catch(e){LOG.error("ERROR Evaluate script:  Error name: "+e.name+e.message?". Error message: "+e.message:"")}},evaluateQueueScript:function $A4J$AJAX$XMLHttpRequest$$evaluateQueueScript$(){var queueScript=this.getElementById("org.ajax4jsf.queue_script");if(queueScript)this._evaluateScript(queueScript)},evalScripts:function $A4J$AJAX$XMLHttpRequest$$evalScripts$(node,isLast){var newscripts=this.getElementsByTagName("script",node);
LOG.debug("Scripts in updated part count : "+newscripts.length);if(newscripts.length>0){var _this=this;window.setTimeout(function(){for(var i=0;i<newscripts.length;i++)_this._evaluateScript(newscripts[i]);newscripts=null;if(isLast)_this.doFinish();_this=undefined},0)}else if(isLast)this.doFinish()},updatePagePart:function $A4J$AJAX$XMLHttpRequest$$updatePagePart$(id$$0,isLast){var newnode=this.getElementById(id$$0);if(!newnode){LOG.error("New node for ID "+id$$0+" is not present in response");if(isLast)this.doFinish();
return}var oldnode=window.document.getElementById(id$$0);if(oldnode){if(window.RichFaces&&window.RichFaces.Memory)window.RichFaces.Memory.clean(oldnode,true);var anchor=oldnode.parentNode;if(!window.opera&&!A4J.AJAX.isWebkitBreakingAmps()&&oldnode.outerHTML&&!oldnode.tagName.match(/(tbody|thead|tfoot|tr|th|td)/i)){LOG.debug("Replace content of node by outerHTML()");if(!Sarissa._SARISSA_IS_IE||oldnode.tagName.toLowerCase()!="table")try{oldnode.innerHTML=""}catch(e$$0){LOG.error("Error to clear node content by innerHTML "+
e$$0.message);Sarissa.clearChildNodes(oldnode)}oldnode.outerHTML=(new XMLSerializer).serializeToString(newnode)}else{Sarissa.clearChildNodes(oldnode);var importednode=window.document.importNode(newnode,true);LOG.debug("Replace content of node by replaceChild()");var oldGetElementById=null;A4J.AJAX.TestReplacedGetElementByIdVisibility();if(!A4J.AJAX._testReplacedGetElementByIdVisibility){LOG.debug("Temporarily substituting document.getElementById() to work around WebKit issue");oldGetElementById=document.getElementById;
document.getElementById=function $document$getElementById$(id){var elt=oldGetElementById.apply(document,arguments);if(!elt){id=arguments[0];LOG.debug("Element [@id='"+id+"'] was not found in document, trying to locate XPath match");try{var result=importednode.ownerDocument.evaluate("//*[@id='"+id+"']",importednode,null,XPathResult.ANY_UNORDERED_NODE_TYPE);if(result)elt=result.singleNodeValue;LOG.debug("XPath located: "+elt)}catch(e){LOG.error("Error locating [@id='"+id+"'] element: "+e.message)}}return elt}}try{anchor.replaceChild(importednode,
oldnode)}finally{if(oldGetElementById){LOG.debug("Restoring document.getElementById()");document.getElementById=oldGetElementById}}}if(!A4J.AJAX._scriptEvaluated)this.evalScripts(newnode,isLast);LOG.debug("Update part of page for Id: "+id$$0+" successful")}else{LOG.warn("Node for replace by response with id "+id$$0+" not found in document");if(!A4J.AJAX._scriptEvaluated&&isLast)this.doFinish()}if(A4J.AJAX._scriptEvaluated&&isLast)this.doFinish()},doFinish:function $A4J$AJAX$XMLHttpRequest$$doFinish$(){if(this.onfinish)this.onfinish(this)},
appendNewHeadElements:function $A4J$AJAX$XMLHttpRequest$$appendNewHeadElements$(callback){var includes=this._appendNewElements("script","src",null,null,["type","language","charset"]);var _this=this;includes.concat(this._appendNewElements("link","href","class",["component","user"],["type","rev","media"],{"class":"className"},function(element,script){_this._copyAttribute(element,script,"rel")}));if(includes.length==0){callback();return}A4J.AJAX.headElementsCounter=includes.length;var onReadyStateChange=
function $onReadyStateChange$(){if(this.readyState=="loaded"||this.readyState=="complete"){this.onreadystatechange=null;this.onload=null;callback()}};var onLoad=function $onLoad$(){this.onreadystatechange=null;this.onload=null;callback()};for(var i=0;i<includes.length;i++){includes[i].onreadystatechange=onReadyStateChange;includes[i].onload=onLoad}},_appendNewElements:function $A4J$AJAX$XMLHttpRequest$$_appendNewElements$(tag,href,role,roles,attributes,mappings,callback){var head=document.getElementsByTagName("head")[0]||
document.documentElement;var newscripts=this.getElementsByTagName(tag);var oldscripts=document.getElementsByTagName(tag);var mappedRole=mappings&&mappings[role]||role;var elements=[];var roleAnchors={};if(roles){var i=0;for(var j=0;j<oldscripts.length;j++){var oldscript=oldscripts[j];for(var scriptRole=oldscript[mappedRole];i<roles.length&&roles[i]!=scriptRole;i++)roleAnchors[roles[i]]=oldscript;if(i==roles.length)break}}for(i=0;i<newscripts.length;i++){var element=newscripts[i];var src=element.getAttribute(href);
var elementRole;if(roles)elementRole=element.getAttribute(role);if(src){var exist=false;LOG.debug("<"+tag+"> in response with src="+src);for(j=0;j<oldscripts.length;j++)if(this._noSessionHref(src)==this._noSessionHref(oldscripts[j].getAttribute(href))){LOG.debug("Such element exist in document");if(role){var oldRole=oldscripts[j][mappedRole];if(!elementRole^!oldRole||elementRole&&oldRole&&elementRole!=oldRole)LOG.warn("Roles are different")}exist=true;break}if(!exist){var script=document.createElement(tag);
script.setAttribute(href,src);for(j=0;j<attributes.length;j++)this._copyAttribute(element,script,attributes[j]);if(elementRole)script[mappedRole]=elementRole;LOG.debug("append element to document");for(j=0;j<A4J.AJAX._headTransformers.length;j++)A4J.AJAX._headTransformers[j](script);var anchor=roleAnchors[elementRole];if(anchor&&anchor.parentNode)anchor.parentNode.insertBefore(script,anchor);else head.appendChild(script);if(callback)callback(element,script);if(tag!="link"||script.type.toLowerCase()==
"text/javascript")elements.push(script)}}}return elements},_noSessionHref:function $A4J$AJAX$XMLHttpRequest$$_noSessionHref$(href){var cref=href;if(href){var sessionid=href.lastIndexOf(";jsessionid=");if(sessionid>0){cref=href.substring(0,sessionid);var params=href.lastIndexOf("?");if(params>sessionid)cref=cref+href.substring(params)}}return cref},_copyAttribute:function $A4J$AJAX$XMLHttpRequest$$_copyAttribute$(src,dst,attr){var value=src.getAttribute(attr);if(value)dst.setAttribute(attr,value)}};
A4J.AJAX.Listener=function $A4J$AJAX$Listener$(onafterajax){this.onafterajax=onafterajax};A4J.AJAX.AjaxListener=function $A4J$AJAX$AjaxListener$(type,callback){this[type]=callback};A4J.AJAX._listeners=[];A4J.AJAX.AddListener=function $A4J$AJAX$AddListener$(listener){A4J.AJAX._listeners.push(listener)};A4J.AJAX.removeListeners=function $A4J$AJAX$removeListeners$(listener){A4J.AJAX._listeners=[]};
A4J.AJAX.removeListener=function $A4J$AJAX$removeListener$(listener){for(var i=A4J.AJAX._listeners.length-1;i>=0;i--)if(A4J.AJAX._listeners[i]==listener)A4J.AJAX._listeners.splice(i,1)};A4J.AJAX.HeadElementTransformer=function $A4J$AJAX$HeadElementTransformer$(elt){this.elt=elt};A4J.AJAX._headTransformers=[];A4J.AJAX.AddHeadElementTransformer=function $A4J$AJAX$AddHeadElementTransformer$(listener){A4J.AJAX._headTransformers.push(listener)};
A4J.AJAX.SetZeroRequestDelay=function $A4J$AJAX$SetZeroRequestDelay$(options){if(typeof options.requestDelay=="undefined")options.requestDelay=0};A4J.AJAX._pollers={};
A4J.AJAX.Poll=function $A4J$AJAX$Poll$(containerId,form,options){A4J.AJAX.StopPoll(options.pollId);if(!options.onerror)options.onerror=function $options$onerror$(req,status,message){if(typeof A4J.AJAX.onError=="function")A4J.AJAX.onError(req,status,message);A4J.AJAX.Poll(containerId,form,options)};if(!options.onqueuerequestdrop)options.onqueuerequestdrop=function $options$onqueuerequestdrop$(){A4J.AJAX.Poll(containerId,form,options)};A4J.AJAX.SetZeroRequestDelay(options);A4J.AJAX._pollers[options.pollId]=
window.setTimeout(function(){A4J.AJAX._pollers[options.pollId]=undefined;if(typeof options.onsubmit=="function"&&options.onsubmit()==false)A4J.AJAX.Poll(containerId,form,options);else A4J.AJAX.Submit(containerId,form,null,options)},options.pollinterval)};A4J.AJAX.StopPoll=function $A4J$AJAX$StopPoll$(Id){if(A4J.AJAX._pollers[Id]){window.clearTimeout(A4J.AJAX._pollers[Id]);A4J.AJAX._pollers[Id]=undefined}};
A4J.AJAX.Push=function $A4J$AJAX$Push$(containerId,form,options){A4J.AJAX.StopPush(options.pushId);options.onerror=function $options$onerror$(){A4J.AJAX.Push(containerId,form,options)};options.onqueuerequestdrop=function $options$onqueuerequestdrop$(){LOG.debug("Push main request dropped from queue")};A4J.AJAX._pollers[options.pushId]=window.setTimeout(function(){var request=new XMLHttpRequest;request.onreadystatechange=function $request$onreadystatechange$(){if(request.readyState==4){try{if(request.status==
200)if(request.getResponseHeader("Ajax-Push-Status")=="READY"){A4J.AJAX.SetZeroRequestDelay(options);A4J.AJAX.Submit(containerId,form||options.dummyForm,null,options)}}catch(e){}request=null;A4J.AJAX._pollers[options.pushId]=null;A4J.AJAX.Push(containerId,form,options)}};A4J.AJAX.SendPush(request,options)},options.pushinterval)};
A4J.AJAX.SendPush=function $A4J$AJAX$SendPush$(request,options){var url=options.pushUrl||options.actionUrl;request.open("HEAD",url,true);request.setRequestHeader("Ajax-Push-Key",options.pushId);if(options.timeout)request.setRequestHeader("Timeout",options.timeout);request.send(null)};A4J.AJAX.StopPush=function $A4J$AJAX$StopPush$(Id){if(A4J.AJAX._pollers[Id]){window.clearTimeout(A4J.AJAX._pollers[Id]);A4J.AJAX._pollers[Id]=null}};
A4J.AJAX.CloneObject=function $A4J$AJAX$CloneObject$(obj,noFunctions){var cloned={};for(var n in obj){if(noFunctions&&typeof evt[prop]=="function")continue;cloned[n]=obj[n]}return cloned};A4J.AJAX.SubmitForm=function $A4J$AJAX$SubmitForm$(containerId,form,options){var opt=A4J.AJAX.CloneObject(options);if(A4J._formInput){LOG.debug("Form submitted by button "+A4J._formInput.id);opt.control=A4J._formInput;A4J._formInput=null;opt.submitByForm=true}A4J.AJAX.Submit(containerId,form,null,opt)};
A4J.AJAX.SubmiteventsQueue=function $A4J$AJAX$SubmiteventsQueue$(eventsQueue){eventsQueue.submit()};A4J.AJAX.CloneEvent=function $A4J$AJAX$CloneEvent$(evt){var domEvt;evt=evt||window.event||null;if(evt){try{domEvt=A4J.AJAX.CloneObject(evt,false)}catch(e){LOG.warn("Exception on clone event "+e.name+":"+e.message)}LOG.debug("Have Event "+domEvt+" with properties: target: "+domEvt.target+", srcElement: "+domEvt.srcElement+", type: "+domEvt.type)}return domEvt};
A4J.AJAX.PrepareQuery=function $A4J$AJAX$PrepareQuery$(containerId,formId,domEvt,options){for(var li=0;li<A4J.AJAX._listeners.length;li++){var listener=A4J.AJAX._listeners[li];if(listener.onbeforeajax)listener.onbeforeajax(formId,domEvt,options)}LOG.debug("Query preparation for form '"+formId+"' requested");var form=window.document.getElementById(formId);if((!form||form.nodeName.toUpperCase()!="FORM")&&domEvt){var srcElement=domEvt.target||domEvt.srcElement||null;if(srcElement)form=A4J.AJAX.locateForm(srcElement)}if(!options.submitByForm&&
form&&form.onsubmit){LOG.debug("Form have onsubmit function, call it");if(form.onsubmit()==false)return false}var tosend=new A4J.Query(containerId,form);tosend.appendFormControls(options.single,options.control);if(options.parameters)tosend.appendParameters(options.parameters);if(options.actionUrl)tosend.setActionUrl(options.actionUrl);return tosend};
A4J.AJAX.SubmitQuery=function $A4J$AJAX$SubmitQuery$(query,options,domEvt){var req=new A4J.AJAX.XMLHttpRequest(query);var form=query._form;var containerId=query._containerId;req.options=options;req.containerId=containerId;req.domEvt=domEvt;req.form=form;if(options.timeout)req.setRequestTimeout(options.timeout);req.onready=A4J.AJAX.processResponse;if(options.onerror)req._onerror=options.onerror;else if(typeof A4J.AJAX.onError=="function")req._onerror=A4J.AJAX.onError;var _queueonerror=options.queueonerror;
if(_queueonerror){var _onerror=req._onerror;if(_onerror)req._onerror=function $req$_onerror$(){_queueonerror.apply(this,arguments);_onerror.apply(this,arguments)};else req._onerror=_queueonerror}req.onfinish=A4J.AJAX.finishRequest;LOG.debug("NEW AJAX REQUEST !!! with form: "+(form.id||form.name||form));A4J.AJAX.status(containerId,options.status,true);req.send();return req};
A4J.AJAX.Submit=function $A4J$AJAX$Submit$(containerId,formId,event,options){var domEvt=A4J.AJAX.CloneEvent(event);var query=A4J.AJAX.PrepareQuery(containerId,formId,domEvt,options);if(query){var queue=A4J.AJAX.EventQueue.getOrCreateQueue(options,formId);if(queue)queue.push(query,options,domEvt);else A4J.AJAX.SubmitQuery(query,options,domEvt)}return false};
A4J.AJAX.SubmitRequest=function $A4J$AJAX$SubmitRequest$(containerId,formId,event,options){var domEvt=A4J.AJAX.CloneEvent(event);var query=A4J.AJAX.PrepareQuery(containerId,formId,domEvt,options);if(query)A4J.AJAX.SubmitQuery(query,options,domEvt);return false};
A4J.AJAX.processResponseAfterUpdateHeadElements=function $A4J$AJAX$processResponseAfterUpdateHeadElements$(req,ids){req.evaluateQueueScript();for(var k=0;k<ids.length;k++){var id=ids[k];LOG.debug("Update page part from call parameter for ID "+id);req.updatePagePart(id,k==ids.length-1)}};A4J.AJAX.headElementsCounter=0;
A4J.AJAX.processResponse=function $A4J$AJAX$processResponse$(req){A4J.AJAX.TestScriptEvaluation();var options=req.options;var ajaxResponse=req.getResponseHeader("Ajax-Response");var expiredMsg=req.getResponseHeader("Ajax-Expired");if(expiredMsg&&typeof A4J.AJAX.onExpired=="function"){var loc=A4J.AJAX.onExpired(window.location,expiredMsg);if(loc){window.location=loc;return}}if(ajaxResponse!="true"){LOG.warn("No ajax response header ");loc=req.getResponseHeader("Location");try{if(ajaxResponse=="redirect"&&
loc)window.location=loc;else if(ajaxResponse=="reload")window.location.reload(true);else A4J.AJAX.replacePage(req)}catch(e){LOG.error("Error redirect to new location ")}}else if(req.getParserStatus()==Sarissa.PARSED_OK){if(options.onbeforedomupdate||options.queueonbeforedomupdate){var event=req.domEvt;var data=req.getJSON("_ajax:data");LOG.debug("Call local onbeforedomupdate function before replacing elemements");if(options.onbeforedomupdate)options.onbeforedomupdate(req,event,data);if(options.queueonbeforedomupdate)options.queueonbeforedomupdate(req,
event,data)}var idsFromResponse=req.getResponseHeader("Ajax-Update-Ids");var ids;var callback=function $callback$(){if(A4J.AJAX.headElementsCounter!=0){LOG.debug("Script "+A4J.AJAX.headElementsCounter+" was loaded");--A4J.AJAX.headElementsCounter}if(A4J.AJAX.headElementsCounter==0)A4J.AJAX.processResponseAfterUpdateHeadElements(req,ids)};if(options.affected){ids=options.affected;req.appendNewHeadElements(callback)}else if(idsFromResponse&&idsFromResponse!=""){LOG.debug("Update page by list of rendered areas from response "+
idsFromResponse);ids=idsFromResponse.split(",");req.appendNewHeadElements(callback)}else{LOG.warn("No information in response about elements to replace");req.doFinish()}var idsSpan=req.getElementById("ajax-view-state");if(idsSpan!=null){var namespace=options.parameters["org.ajax4jsf.portlet.NAMESPACE"];LOG.debug("Namespace for hidden view-state input fields is "+namespace);var anchor=namespace?window.document.getElementById(namespace):window.document;var inputs=anchor.getElementsByTagName("input");
try{var newinputs=req.getElementsByTagName("input",idsSpan);A4J.AJAX.replaceViewState(inputs,newinputs)}catch(e$$0){LOG.warn("No elements 'input' in response")}try{newinputs=req.getElementsByTagName("INPUT",idsSpan);A4J.AJAX.replaceViewState(inputs,newinputs)}catch(e$$1){LOG.warn("No elements 'INPUT' in response")}}for(var li=0;li<A4J.AJAX._listeners.length;li++){var listener=A4J.AJAX._listeners[li];if(listener.onafterajax){data=req.getJSON("_ajax:data");listener.onafterajax(req,req.domEvt,data)}}var focusId=
req.getJSON("_A4J.AJAX.focus");if(focusId){LOG.debug("focus must be set to control "+focusId);var focusElement=false;if(req.form)focusElement=req.form.elements[focusId];if(!focusElement){LOG.debug("No control element "+focusId+" in submitted form");focusElement=document.getElementById(focusId)}if(focusElement){LOG.debug("Set focus to control ");focusElement.focus();if(focusElement.select)focusElement.select()}else LOG.warn("Element for set focus not found")}else LOG.debug("No focus information in response")}else{LOG.error("Error parsing XML");
LOG.error("Parse Error: "+req.getParserStatus())}};
A4J.AJAX.replacePage=function $A4J$AJAX$replacePage$(req){if(!req.getResponseText()){LOG.warn("No content in response for replace current page");return}LOG.debug("replace all page content with response");var isIE=Sarissa._SARISSA_IS_IE;var oldDocOpen=window.document.open;if(isIE){LOG.debug("setup custom document.open method");window.document.open=function $window$document$open$(sUrl,sName,sFeatures,bReplace){oldDocOpen(sUrl,sName,sFeatures,bReplace)}}window.setTimeout(function(){var isDocOpen=false;
try{var contentType=req.getContentType();var responseText=isIE?req.getResponseText().replace(/(<script(?!\s+src=))/igm,"$1 defer "):req.getResponseText();window.document.open(contentType,"replace");if(window.LOG)LOG.debug("window.document has opened for writing");isDocOpen=true;window.document.write(responseText);if(window.LOG)LOG.debug("window.document has been writed");window.document.close();if(window.LOG)LOG.debug("window.document has been closed for writing");if(isIE)window.location.reload(false)}catch(e){if(window.LOG)LOG.debug("exception during write page content "+
e.Message);if(isDocOpen)window.document.close();var oDomDoc=(new DOMParser).parseFromString(req.getResponseText(),"text/xml");if(Sarissa.getParseErrorText(oDomDoc)==Sarissa.PARSED_OK){if(window.LOG)LOG.debug("response has parsed as DOM documnet.");Sarissa.clearChildNodes(window.document.documentElement);var docNodes=oDomDoc.documentElement.childNodes;for(var i=0;i<docNodes.length;i++)if(docNodes[i].nodeType==1){if(window.LOG)LOG.debug("append new node in document");var node=window.document.importNode(docNodes[i],
true);window.document.documentElement.appendChild(node)}}else if(window.LOG)LOG.error("Error parsing response",Sarissa.getParseErrorText(oDomDoc))}finally{window.document.open=oldDocOpen}if(window.LOG)LOG.debug("page content has been replaced")},0)};
A4J.AJAX.replaceViewState=function $A4J$AJAX$replaceViewState$(inputs,newinputs){LOG.debug("Replace value for inputs: "+inputs.length+" by new values: "+newinputs.length);if(newinputs.length>0&&inputs.length>0)for(var i=0;i<newinputs.length;i++){var newinput=newinputs[i];LOG.debug("Input in response: "+newinput.getAttribute("name"));for(var j=0;j<inputs.length;j++){var input=inputs[j];if(input.name==newinput.getAttribute("name")){LOG.debug("Found same input on page with type: "+input.type);input.value=
newinput.getAttribute("value")}}}};
A4J.AJAX.finishRequest=function $A4J$AJAX$finishRequest$(request){var options=request.options;if(!request._oncomplete_aborted){var oncomp;try{oncomp=request.getElementById("org.ajax4jsf.oncomplete")}catch(e$$1){LOG.warn("Error reading oncomplete from request "+e$$1.message)}if(oncomp){LOG.debug("Call request oncomplete function after processing updates");window.setTimeout(function(){var event=request.domEvt;var data;try{data=request.getJSON("_ajax:data")}catch(e){LOG.warn("Error reading data from request "+e.message)}try{var target=
null;if(event)target=event.target?event.target:event.srcElement;var newscript=Sarissa.getText(oncomp,true);var oncomplete=new Function("request","event","data",newscript);oncomplete.call(target,request,event,data);if(options.queueoncomplete)options.queueoncomplete.call(target,request,event,data)}catch(e$$0){LOG.error("Error evaluate oncomplete function "+e$$0.Message)}A4J.AJAX.status(request.containerId,options.status,false)},0)}else if(options.oncomplete||options.queueoncomplete){LOG.debug("Call local oncomplete function after processing updates");
window.setTimeout(function(){var event=request.domEvt;var data;try{data=request.getJSON("_ajax:data")}catch(e){LOG.warn("Error reading data from request "+e.message)}if(options.oncomplete)options.oncomplete(request,event,data);if(options.queueoncomplete)options.queueoncomplete(request,event,data);A4J.AJAX.status(request.containerId,options.status,false)},0)}else{LOG.debug("Processing updates finished, no oncomplete function to call");setTimeout(function(){A4J.AJAX.status(request.containerId,options.status,
false)},0)}}else{LOG.debug("Aborted request, won't call oncomplete at all");setTimeout(function(){A4J.AJAX.status(request.containerId,options.status,false)},0)}A4J.AJAX.popQueue(request)};A4J.AJAX.popQueue=function $A4J$AJAX$popQueue$(request){if(request.shouldNotifyQueue&&request.queue)request.queue.pop()};
A4J.AJAX.getCursorPos=function $A4J$AJAX$getCursorPos$(inp){if(inp.selectionEnd!=null)return inp.selectionEnd;var range=document.selection.createRange();var isCollapsed=range.compareEndPoints("StartToEnd",range)==0;if(!isCollapsed)range.collapse(false);var b=range.getBookmark();return b.charCodeAt(2)-2};A4J.AJAX.locateForm=function $A4J$AJAX$locateForm$(obj){for(var parent=obj;parent&&parent.nodeName.toLowerCase()!="form";)parent=parent.parentNode;return parent};
A4J.AJAX.getElementById=function $A4J$AJAX$getElementById$(id,options){var namespace=options["org.ajax4jsf.portlet.NAMESPACE"];var anchor=namespace?window.document.getElementById(namespace):window.document;var element;if(anchor)element=anchor.getElementById(id);else LOG.error("No root element for portlet namespace "+namespace+" on page");return element};A4J.AJAX._requestsCounts={};
A4J.AJAX.status=function $A4J$AJAX$status$(regionID,targetID,start){try{targetID=targetID||regionID+":status";A4J.AJAX._requestsCounts[targetID]=(A4J.AJAX._requestsCounts[targetID]||0)+(start?1:-1);var startElem=document.getElementById(targetID+".start");var stopElem=document.getElementById(targetID+".stop");if(A4J.AJAX._requestsCounts[targetID]>0){if(stopElem)stopElem.style.display="none";if(startElem)startElem.style.display=""}else{if(startElem)startElem.style.display="none";if(stopElem)stopElem.style.display=
""}if(start){if(startElem&&typeof startElem.onstart=="function")startElem.onstart()}else if(stopElem&&typeof stopElem.onstop=="function")stopElem.onstop()}catch(e){LOG.error("Exception on status change: ")}};A4J.Query=function $A4J$Query$(containerId,form){this._query={AJAXREQUEST:containerId};this._oldSubmit=null;this._form=form;this._containerId=containerId;this._actionUrl=this._form.action?this._form.action:this._form};
A4J.Query.prototype={_form:null,_actionUrl:null,_ext:"",_query:{},_oldSubmit:null,_pageBase:window.location.protocol+"//"+window.location.host,hidden:function $A4J$Query$$hidden$(control){this._value_query(control);if(control.name.length>4&&control.name.lastIndexOf("_idcl")==control.name.length-5)control.value="";else if(control.name.length>12&&control.name.lastIndexOf("_link_hidden_")==control.name.length-13)control.value=""},text:function $A4J$Query$$text$(control){this._value_query(control)},textarea:function $A4J$Query$$textarea$(control){this._value_query(control)},
"select-one":function $A4J$Query$$__7$(control){if(control.selectedIndex!=-1)this._value_query(control)},password:function $A4J$Query$$password$(control){this._value_query(control)},file:function $A4J$Query$$file$(control){this._value_query(control)},radio:function $A4J$Query$$radio$(control){this._radio_query(control)},checkbox:function $A4J$Query$$checkbox$(control){this._check_query(control)},"select-multiple":function $A4J$Query$$__8$(control){var cname=control.name;var options=control.options;
for(var i=0;i<control.length;i++){var option=options[i];this._addOption(cname,option)}},_addOption:function $A4J$Query$$_addOption$(cname,option){if(option.selected){if(!this._query[cname])this._query[cname]=[];this._query[cname][this._query[cname].length]=option.value}},image:function $A4J$Query$$image$(control,action){if(action)this._value_query(control)},button:function $A4J$Query$$button$(control,action){if(action)this._value_query(control)},submit:function $A4J$Query$$submit$(control,action){if(action)this._value_query(control)},
link:function $A4J$Query$$link$(control,action){if(action){this._value_query(control);if(control.parameters)this.appendParameters(control.parameters)}},input:function $A4J$Query$$input$(control,action){if(action){this.link(control,action);if(control.control)this.appendControl(control.control,action)}},appendControl:function $A4J$Query$$appendControl$(control,action){if(this[control.type])this[control.type](control,action);else this._appendById(control.id||control)},appendFormControls:function $A4J$Query$$appendFormControls$(hiddenOnly,
actionControl){try{var elems=this._form.elements;if(elems){var k=0;for(k=0;k<elems.length;k++){var element=elems[k];if(element==actionControl)continue;try{if(!hiddenOnly||element.type=="hidden")this.appendControl(element,false)}catch(ee){LOG.error("exception in building query ( append form control ) "+ee)}}}}catch(e){LOG.warn("Error with append form controls to query "+e)}if(actionControl)this.appendControl(actionControl,true)},appendParameters:function $A4J$Query$$appendParameters$(parameters){for(k in parameters)if(typeof Object.prototype[k]==
"undefined"){LOG.debug("parameter "+k+" with value "+parameters[k]);this.appendParameter(k,parameters[k])}},setActionUrl:function $A4J$Query$$setActionUrl$(actionUrl){this._actionUrl=actionUrl},getActionUrl:function $A4J$Query$$getActionUrl$(ext){var actionUrl=this._actionUrl;var ask=actionUrl.indexOf("?");if(actionUrl.substring(0,1)=="/")actionUrl=this._pageBase+actionUrl;if(!ext)ext=this._ext;if(ask>=0)return actionUrl.substring(0,ask)+ext+actionUrl.substring(ask);else return actionUrl+ext},getQueryString:function $A4J$Query$$getQueryString$(){var qs=
"";var iname;var querySegments=[];var paramName;for(var k in this._query)if(typeof Object.prototype[k]=="undefined"){iname=this._query[k];paramName=this._encode(k);if(iname instanceof Object)for(var l=0;l<iname.length;l++){querySegments.push(paramName);querySegments.push("=");querySegments.push(this._encode(iname[l]));querySegments.push("&")}else{querySegments.push(paramName);querySegments.push("=");querySegments.push(this._encode(iname));querySegments.push("&")}}qs=querySegments.join("");LOG.debug("QueryString: "+
qs);return qs},_appendById:function $A4J$Query$$_appendById$(id){this.appendParameter(this._form.id+"_link_hidden_",id)},_value_query:function $A4J$Query$$_value_query$(control){if(control.name){LOG.debug("Append "+control.type+" control "+control.name+" with value ["+control.value+"] and value attribute ["+control.getAttribute("value")+"]");if(null!=control.value)this.appendParameter(control.name,control.value)}else LOG.debug("Ignored "+control.type+" no-name control with value ["+control.value+
"] and value attribute ["+control.getAttribute("value")+"]")},_check_query:function $A4J$Query$$_check_query$(control){if(control.checked)this.appendParameter(control.name,control.value?control.value:"on")},_radio_query:function $A4J$Query$$_radio_query$(control){if(control.checked)this.appendParameter(control.name,control.value?control.value:"")},appendParameter:function $A4J$Query$$appendParameter$(cname,value){if(!this._query[cname]){this._query[cname]=value;return}else if(!(this._query[cname]instanceof
Object))this._query[cname]=[this._query[cname]];this._query[cname][this._query[cname].length]=value},_encode:function $A4J$Query$$_encode$(string){try{return encodeURIComponent(string)}catch(e){var str=escape(string);return str.split("+").join("%2B")}}};
A4J.AJAX.getText=function $A4J$AJAX$getText$(oNode,includeComment){var s="";var nodes=oNode.childNodes;for(var i=0;i<nodes.length;i++){var node=nodes[i];var nodeType=node.nodeType;if(nodeType==Node.TEXT_NODE||nodeType==Node.CDATA_SECTION_NODE||includeComment&&nodeType==Node.COMMENT_NODE)s+=node.data;else if(nodeType==Node.ELEMENT_NODE||nodeType==Node.DOCUMENT_NODE||nodeType==Node.DOCUMENT_FRAGMENT_NODE)s+=arguments.callee(node,includeComment)}return s};
A4J.AJAX.isWebkitBreakingAmps=function $A4J$AJAX$isWebkitBreakingAmps$(){if(!this._webkitBreakingAmps){var elt=document.createElement("div");elt.innerHTML="<a href='#a=a&#38;b=b'>link</a>";var link=elt.firstChild;if(link&&link.getAttribute&&/&#38;b=b$/.test(link.getAttribute("href")))this._webkitBreakingAmps=2;else this._webkitBreakingAmps=1}return this._webkitBreakingAmps>1};
A4J.AJAX.isXhtmlScriptMode=function $A4J$AJAX$isXhtmlScriptMode$(){if(!this._xhtmlScriptMode){var elt=document.createElement("div");elt.innerHTML="<script type='text/javascript'><!--\r\n/**/\r\n//--\><\/script>";var commentFound=false;for(var s=elt.firstChild;s;){if(s.nodeType==Node.ELEMENT_NODE){for(var c=s.firstChild;c;){if(c.nodeType==Node.COMMENT_NODE){commentFound=true;break}c=c.nextSibling}break}s=s.nextSibling}if(commentFound)this._xhtmlScriptMode=2;else this._xhtmlScriptMode=1}return this._xhtmlScriptMode>
1};A4J.AJAX._scriptEvaluated=false;
A4J.AJAX.TestScriptEvaluation=function $A4J$AJAX$TestScriptEvaluation$(){if((!document.all||window.opera)&&!A4J.AJAX._scriptTested)try{var oDomDoc=Sarissa.getDomDocument();var _span=document.createElement("span");document.body.appendChild(_span);var xmlString="<html xmlns='http://www.w3.org/1999/xhtml'><sc"+"ript>A4J.AJAX._scriptEvaluated=true;</scr"+"ipt></html>";oDomDoc=(new DOMParser).parseFromString(xmlString,"text/xml");var _script=oDomDoc.getElementsByTagName("script")[0];if(!window.opera&&
!A4J.AJAX.isWebkitBreakingAmps()&&_span.outerHTML)_span.outerHTML=(new XMLSerializer).serializeToString(_script);else{var importednode;importednode=window.document.importNode(_script,true);document.body.replaceChild(importednode,_span)}}catch(e){}A4J.AJAX._scriptTested=true};
A4J.AJAX.TestReplacedGetElementByIdVisibility=function $A4J$AJAX$TestReplacedGetElementByIdVisibility$(){if(!A4J.AJAX._replacedGetElementByIdVisibilityTested){A4J.AJAX._replacedGetElementByIdVisibilityTested=true;A4J.AJAX.TestScriptEvaluation();if(A4J.AJAX._scriptEvaluated)try{A4J.AJAX._testReplacedGetElementByIdVisibility=true;var _span=document.createElement("span");document.body.appendChild(_span);var xmlString="<html xmlns='http://www.w3.org/1999/xhtml'><span id='_A4J_AJAX_TestReplacedGetElementByIdVisibility'><sc"+
"ript>A4J.AJAX._testReplacedGetElementByIdVisibility = !!(document.getElementById('_A4J_AJAX_TestReplacedGetElementByIdVisibility'));</scr"+"ipt></span></html>";oDomDoc=(new DOMParser).parseFromString(xmlString,"text/xml");var _newSpan=oDomDoc.getElementsByTagName("span")[0];var importednode;importednode=window.document.importNode(_newSpan,true);document.body.replaceChild(importednode,_span);document.body.removeChild(importednode)}catch(e){LOG.error("Error testing replaced elements getElementById() visibility: "+
e.message)}}};A4J.AJAX._eventQueues={};
A4J.AJAX.EventQueue=function(){var DROP_NEW="dropNew";var DROP_NEXT="dropNext";var FIRE_NEW="fireNew";var FIRE_NEXT="fireNext";var extend=function $extend$(target,source){for(var property in source)target[property]=source[property]};var extendOptions=function $extendOptions$(options){var opts={};for(var name in options)opts[name]=options[name];for(name in this.requestOptions)if(typeof opts[name]=="undefined")opts[name]=this.requestOptions[name];return opts};var QueueEntry=function(){var ctor=function $ctor$(queue,
query,options,event){this.queue=queue;this.query=query;this.options=options;this.event=event;this.similarityGroupingId=this.options.similarityGroupingId;this.eventsCount=1};extend(ctor.prototype,{isIgnoreDupResponses:function(){return this.options.ignoreDupResponses},getSimilarityGroupingId:function(){return this.similarityGroupingId},setSimilarityGroupingId:function(id){this.similarityGroupingId=id},submit:function(){this.query.appendParameter("AJAX:EVENTS_COUNT",this.eventsCount);this.request=A4J.AJAX.SubmitQuery(this.query,
this.options,this.event);var queue=this.queue;this.request.queue=queue;return this.request},abort:function(){if(this.request&&!this.aborted){this.aborted=true;this.request.abort()}},ondrop:function(){var callback=this.options.onqueuerequestdrop;if(callback)callback.call(this.queue,this.query,this.options,this.event)},onRequestDelayPassed:function(){this.readyToSubmit=true;this.queue.submitFirst()},startTimer:function(){var delay=this.options.requestDelay;LOG.debug("Queue will wait "+(delay||0)+"ms before submit");
if(delay){var _this=this;this.timer=setTimeout(function(){try{_this.onRequestDelayPassed()}finally{_this.timer=undefined;_this=undefined}},delay)}else this.onRequestDelayPassed()},stopTimer:function(){if(this.timer){clearTimeout(this.timer);this.timer=undefined}},clearEntry:function(){this.stopTimer();if(this.request){this.request.shouldNotifyQueue=false;this.request=undefined}},getEventsCount:function(){return this.eventsCount},setEventsCount:function(newCount){this.eventsCount=newCount},getEventArguments:function(){return[this.query,
this.options,this.event]}});return ctor}();var Queue=function $Queue$(name,queueOptions,requestOptions){this.items=new Array;this.name=name;this.queueOptions=queueOptions||{};this.requestOptions=requestOptions||{}};extend(Queue.prototype,{submitFirst:function(){var firstItem=this.items[0];if(firstItem){if(!firstItem.request)if(firstItem.readyToSubmit){LOG.debug("Queue '"+this.name+"' will submit request NOW");var req=firstItem.submit();req.shouldNotifyQueue=true;if(this.requestOptions.queueonsubmit)this.requestOptions.queueonsubmit.call(this,
req)}else LOG.debug("First item is not ready to be submitted yet")}else LOG.debug("Queue is empty now")},getSize:function(){return this.items.length},getMaximumSize:function(){return this.queueOptions.size},isFull:function(){return this.getSize()==this.getMaximumSize()},getSizeExceededBehavior:function(){var policy=this.queueOptions.sizeExceededBehavior;if(!policy)policy=DROP_NEXT;return policy},queue:function(entry){this.items.push(entry);if(this.queueOptions.onrequestqueue){LOG.debug("Call onrequestqueue handler");
this.queueOptions.onrequestqueue.apply(this,entry.getEventArguments())}},dequeue:function(){var entry=this.items.shift();if(this.queueOptions.onrequestdequeue){LOG.debug("Call onrequestdequeue handler");this.queueOptions.onrequestdequeue.apply(this,entry.getEventArguments())}},push:function(query,opts,event){var options=extendOptions.call(this,opts);var entry=new QueueEntry(this,query,options,event);var similarityGroupingId=entry.getSimilarityGroupingId();var lastIdx=this.items.length-1;var last=
this.items[lastIdx];var handled=false;if(last)if(last.getSimilarityGroupingId()==similarityGroupingId){LOG.debug("Similar request currently in queue '"+this.name+"'");if(last.request){LOG.debug("Request has already beeen sent to server");if(entry.isIgnoreDupResponses()){LOG.debug("Duplicate responses ignore requested");if(!this.isFull()){last.abort();LOG.debug("Response for the current request will be ignored")}else LOG.debug("Queue is full, cannot set to ignore response for the current request")}}else{LOG.debug("Combine similar requests and reset timer");
handled=true;last.stopTimer();entry.setEventsCount(last.getEventsCount()+1);this.items[lastIdx]=entry;entry.startTimer()}}else{LOG.debug("Last queue entry is not the last anymore. Stopping requestDelay timer and marking entry as ready for submission");last.stopTimer();last.setSimilarityGroupingId(undefined);last.readyToSubmit=true}if(!handled){if(this.isFull()){LOG.debug("Queue '"+this.name+"' is currently full");var b=this.getSizeExceededBehavior();for(var nextIdx=0;this.items[nextIdx]&&this.items[nextIdx].request;)nextIdx++;
if(this.queueOptions.onsizeexceeded)this.queueOptions.onsizeexceeded.apply(this,entry.getEventArguments());if(b==DROP_NEW){LOG.debug("Queue '"+this.name+"' is going to drop new item");entry.ondrop();handled=true}else if(b==DROP_NEXT){LOG.debug("Queue '"+this.name+"' is going to drop ["+nextIdx+"] item that is the next one");var nextEntry=this.items.splice(nextIdx,1)[0];if(nextEntry){LOG.debug("Item dropped from queue");nextEntry.stopTimer();nextEntry.ondrop()}else{LOG.debug("There's no such item, will handle new request instead");
entry.ondrop();handled=true}}else if(b==FIRE_NEW){LOG.debug("Queue '"+this.name+"' will submit new request");entry.submit();handled=true}else if(b==FIRE_NEXT){LOG.debug("Queue '"+this.name+"' is going to drop and fire immediately ["+nextIdx+"] item that is the next one");nextEntry=this.items.splice(nextIdx,1)[0];if(nextEntry){LOG.debug("Item dropped from queue");nextEntry.stopTimer();nextEntry.submit()}else{LOG.debug("There's no such item, will handle new request instead");entry.submit();handled=
true}}}this.submitFirst()}if(!handled){this.queue(entry);LOG.debug("New request added to queue '"+this.name+"'. Queue similarityGroupingId changed to "+similarityGroupingId);entry.startTimer()}},pop:function(){LOG.debug("After request: queue '"+this.name+"'");this.dequeue();LOG.debug("There are "+this.items.length+" requests more in this queue");this.submitFirst()},clear:function(){var length=this.items.length;for(var i=0;i<this.items.length;i++)this.items[i].clearEntry();this.items.splice(0,length)}});
return Queue}();A4J.AJAX.EventQueue.DEFAULT_QUEUE_NAME="org.richfaces.queue.global";A4J.AJAX.EventQueue.getQueue=function $A4J$AJAX$EventQueue$getQueue$(name){return A4J.AJAX._eventQueues[name]};A4J.AJAX.EventQueue.getQueues=function $A4J$AJAX$EventQueue$getQueues$(){return A4J.AJAX._eventQueues};
A4J.AJAX.EventQueue.addQueue=function $A4J$AJAX$EventQueue$addQueue$(queue){var name=queue.name;if(A4J.AJAX._eventQueues[name])throw"Queue already registered";else{LOG.debug("Adding queue '"+name+"' to queues registry");A4J.AJAX._eventQueues[name]=queue}};A4J.AJAX.EventQueue.removeQueue=function $A4J$AJAX$EventQueue$removeQueue$(name){var queue=A4J.AJAX._eventQueues[name];if(queue)queue.clear();delete A4J.AJAX._eventQueues[name]};
A4J.AJAX.EventQueue.getOrCreateQueue=function(){var qualifyName=function $qualifyName$(name,prefix){if(prefix)return prefix+":"+name;else return name};var qualifyNamespace=function $qualifyNamespace$(name,prefix){if(prefix)return prefix+name;else return name};return function(options,formId){var queueName=options.eventsQueue;var namespace=options.namespace;var formQueueName;var viewQueueName;var implicitQueueName;if(queueName){LOG.debug("Look up queue with name '"+queueName+"'");formQueueName=qualifyName(queueName,
formId);viewQueueName=qualifyNamespace(queueName,namespace);implicitQueueName=viewQueueName}else{LOG.debug("Look up queue with default name");formQueueName=formId;viewQueueName=qualifyNamespace(A4J.AJAX.EventQueue.DEFAULT_QUEUE_NAME,namespace);implicitQueueName=options.implicitEventsQueue}var queue=A4J.AJAX._eventQueues[formQueueName];if(!queue){queue=A4J.AJAX._eventQueues[viewQueueName];if(!queue){if(implicitQueueName){queue=A4J.AJAX._eventQueues[implicitQueueName];if(!queue){LOG.debug("Creating new transient queue '"+
implicitQueueName+"' with default settings");queue=new A4J.AJAX.EventQueue(implicitQueueName);queue._transient=true;A4J.AJAX.EventQueue.addQueue(queue)}else LOG.debug("Found transient queue '"+implicitQueueName+"'")}}else LOG.debug("Found view queue '"+viewQueueName+"'")}else LOG.debug("Found form queue '"+formQueueName+"'");return queue}}();
(function(){var observer=function $observer$(){var queues=A4J.AJAX.EventQueue.getQueues();for(var queueName in queues){var queue=queues[queueName];queue.clear()}};if(window.addEventListener)window.addEventListener("unload",observer,false);else window.attachEvent("onunload",observer)})();if(!window.LOG)window.LOG={};LOG.Level=function $LOG$Level$(name,priority,color){this.name=name;this.priority=priority;if(color)this.color=color};LOG.OFF=new LOG.Level("off",1E3);
LOG.FATAL=new LOG.Level("fatal",900,"red");LOG.ERROR=new LOG.Level("error",800,"red");LOG.WARN=new LOG.Level("warn",500,"yellow");LOG.INFO=new LOG.Level("info",400,"blue");LOG.DEBUG=new LOG.Level("debug",300,"darkblue");LOG.ALL=new LOG.Level("all",100);LOG.A4J_DEBUG=new LOG.Level("a4j_debug",0,"green");LOG.LEVEL=LOG.OFF;LOG._window=null;LOG.transmitToServer=true;LOG.consoleDivId="logConsole";LOG.styles={a4j_debug:"green",debug:"darkblue",info:"blue",warn:"yellow",error:"red",fatal:"red"};
LOG.a4j_debug=function $LOG$a4j_debug$(msg,pre){LOG._log(msg,LOG.A4J_DEBUG,pre)};LOG.debug=function $LOG$debug$(msg,pre){LOG._log(msg,LOG.DEBUG,pre)};LOG.info=function $LOG$info$(msg,pre){LOG._log(msg,LOG.INFO,pre)};LOG.warn=function $LOG$warn$(msg,pre){LOG._log(msg,LOG.WARN,pre)};LOG.error=function $LOG$error$(msg,pre){LOG._log(msg,LOG.ERROR,pre)};LOG.fatal=function $LOG$fatal$(msg,pre){LOG._log(msg,LOG.FATAL,pre)};
LOG.registerPopup=function $LOG$registerPopup$(hotkey,name,width,height,level){if(!LOG._onkeydown)LOG._onkeydown=document.onkeydown;var key=hotkey.toUpperCase();document.onkeydown=function $document$onkeydown$(e){if(window.event)e=window.event;if(String.fromCharCode(e.keyCode)==key&e.shiftKey&e.ctrlKey){LOG.LEVEL=level;LOG.openWindow(name,"width="+width+",height="+height+",toolbar=no,scrollbars=yes,location=no,statusbar=no,menubar=no,resizable=yes,left = "+(screen.width-width)/2+",top ="+(screen.height-
height)/2)}else if(LOG._onkeydown)LOG._onkeydown(e)}};LOG.clear=function $LOG$clear$(){if(LOG._window&&LOG._window.document)consoleDiv=LOG._window.document.body;else consoleDiv=window.document.getElementById(LOG.consoleDivId);consoleDiv.innerHTML='<button onclick="LOG.clear()">Clear</button><br />'};
LOG.openWindow=function $LOG$openWindow$(name,features){if(LOG._window)LOG._window.focus();else{LOG._window=window.open("",name,features);LOG._window.LOG=LOG;LOG.clear();var _LOG=LOG;LOG._window.onunload=function $LOG$_window$onunload$(){_LOG._window.LOG=null;_LOG._window=null;_LOG.LEVEL=_LOG.OFF;_LOG=undefined}}};LOG._log=function $LOG$_log$(msg,logLevel,pre){if(logLevel.priority>=LOG.LEVEL.priority){LOG._logToConsole(msg,logLevel,pre);if(LOG.transmitToServer)LOG._logToServer(msg,logLevel)}};
LOG._time=function $LOG$_time$(){var currentTime=new Date;var hours=currentTime.getHours();var minutes=currentTime.getMinutes();if(minutes<10)minutes="0"+minutes;var seconds=currentTime.getSeconds();if(seconds<10)seconds="0"+seconds;var millisec=currentTime.getTime()%1E3;if(millisec<100)millisec="0"+millisec;if(millisec<10)millisec="0"+millisec;return hours+":"+minutes+":"+seconds+","+millisec};
LOG._logToConsole=function $LOG$_logToConsole$(msg,logLevel,preformat){var consoleDiv;var doc;if(LOG._window&&LOG._window.document){doc=LOG._window.document;consoleDiv=LOG._window.document.body}else{doc=window.document;consoleDiv=window.document.getElementById(LOG.consoleDivId)}if(consoleDiv){var span=doc.createElement("span");span.style.color=logLevel.color;span.appendChild(doc.createTextNode(logLevel.name+"["+LOG._time()+"]: "));var div=doc.createElement("div");var textnode=doc.createTextNode(msg);
div.appendChild(span);div.appendChild(textnode);if(preformat){var pre=doc.createElement("span");textnode=doc.createTextNode(preformat);pre.appendChild(textnode);div.appendChild(pre)}consoleDiv.appendChild(div)}else;};LOG._logToServer=function $LOG$_logToServer$(msg,logLevel){var data=logLevel.name.substring(0,1)+msg};LOG._requestCallBack=function $LOG$_requestCallBack$(){};if(!window.RichFaces)window.RichFaces={};
if(!window.RichFaces.Memory){window.RichFaces.Memory={nodeCleaners:{},componentCleaners:{},addCleaner:function $window$RichFaces$Memory$addCleaner$(name,cleaner){this.nodeCleaners[name]=cleaner},addComponentCleaner:function $window$RichFaces$Memory$addComponentCleaner$(name,cleaner,checker){this.componentCleaners[name]={cleaner:cleaner,checker:checker}},applyCleaners:function $window$RichFaces$Memory$applyCleaners$(node,isAjax,componentNodes){for(var name in this.nodeCleaners)this.nodeCleaners[name](node,
isAjax);for(name in this.componentCleaners)if(this.componentCleaners[name].checker(node,isAjax))componentNodes.push(node)},_clean:function $window$RichFaces$Memory$_clean$(oldNode,isAjax,componentNodes){if(oldNode){this.applyCleaners(oldNode,isAjax,componentNodes);var all=oldNode.all;if(all){var counter=0;var length=all.length;for(counter=0;counter<length;counter++)this.applyCleaners(all[counter],isAjax,componentNodes)}else for(var node=oldNode.firstChild;node;){this._clean(node,isAjax,componentNodes);
node=node.nextSibling}}},_cleanComponentNodes:function $window$RichFaces$Memory$_cleanComponentNodes$(oldNodes,isAjax){for(var i=0;i<oldNodes.length;i++){var node=oldNodes[i];for(var name in this.componentCleaners)this.componentCleaners[name].cleaner(node,isAjax)}},clean:function $window$RichFaces$Memory$clean$(oldNode,isAjax){var componentNodes=[];this._clean(oldNode,isAjax,componentNodes);this._cleanComponentNodes(componentNodes,isAjax);componentNodes=null}};window.RichFaces.Memory.addComponentCleaner("richfaces",
function(node,isAjax){var component=node.component;if(component){var destructorName=component["rich:destructor"];if(destructorName){var destructor=component[destructorName];if(destructor)destructor.call(component,isAjax)}}},function(node,isAjax){return node.component&&node.component["rich:destructor"]});if(window.attachEvent)window.attachEvent("onunload",function(){var memory=window.RichFaces.Memory;memory.clean(document);memory.clean(window)})}if(!window.A4J)window.A4J={};
if(!A4J.findForm){var _JSFFormSubmit=function $_JSFFormSubmit$(linkId,formName,target,parameters){var form=typeof formName=="string"?document.getElementById(formName):formName;if(form){var paramNames=[];var oldTarget=form.target;if(target)form.target=target;if(parameters)for(var param in parameters){paramNames.push(param);if(form.elements[param])form.elements[param].value=parameters[param];else{var input=document.createElement("input");input.type="hidden";input.id=param;input.name=param;input.value=
parameters[param];if(param==="javax.faces.portletbridge.STATE_ID"&&form.firstChild)form.insertBefore(input,form.firstChild);else form.appendChild(input)}}var onsubmitResult;if(form.fireEvent)onsubmitResult=form.fireEvent("onsubmit");else{var event=document.createEvent("HTMLEvents");event.initEvent("submit",true,true);onsubmitResult=form.dispatchEvent(event)}if(onsubmitResult)form.submit();_clearJSFFormParameters(formName,oldTarget,paramNames)}else alert("Form "+formName+" not found in document");
return false};var _clearJSFFormParameters=function $_clearJSFFormParameters$(formName,target,fields){var form=typeof formName=="string"?document.getElementById(formName):formName;if(form){if(target)form.target=target;else form.target="";if(fields)for(var i=0;i<fields.length;i++){var field=form.elements[fields[i]];if(field){var pNode=field.parentNode;if(pNode)pNode.removeChild(field)}}}};var clearFormHiddenParams=function $clearFormHiddenParams$(formName,target,fields){_clearJSFFormParameters(formName,
target,fields)};A4J.findForm=function $A4J$findForm$(element){var parent=element;do parent=parent.parentNode;while(parent&&parent.nodeName.toLowerCase()!="form");if(!parent)parent={reset:function $parent$reset$(){},submit:function $parent$submit$(){}};return parent};A4J._formInput=null;A4J.setupForm=function $A4J$setupForm$(id){var element=typeof id=="string"?window.document.getElementById(id):id;var name="click";if(element.addEventListener)element.addEventListener(name,A4J._observer,false);else if(element.attachEvent)element.attachEvent("on"+
name,A4J._observer)};A4J._observer=function $A4J$_observer$(evt){var src=evt.target||evt.srcElement;if(src&&src.nodeName.toUpperCase()=="INPUT"&&src.type.toUpperCase()=="SUBMIT")A4J._formInput=src;else A4J._formInput=null}};A4J.AJAX.onError=function $A4J$AJAX$onError$(req,status,message){if(req.getResponseText())A4J.AJAX.replacePage(req);else{var offline=status==12007||!navigator.onLine;message="";if(offline)message="The request couldn't be processed because your computer isn't connected to the Internet.";else if(status==12152)message="If you are using Internet Explorer, this may be due to a bug in Internet Explorer's behaviour following a network disconnection. "+'Refer to <a href="http://support.microsoft.com/kb/895954">http://support.microsoft.com/kb/895954</a></p>';
else message="Error "+escape(status)+". The request couldn't be processed because a server connection couldn't be established or the browser didn't complete the request";var url=window.location.href;url=url+(url.indexOf("?")==-1?"?":"&")+"reload_after_connection_failure="+escape(status);$("body").append('<div class="error-overlay"><div class="dialog">'+"<h1>Connection failure</h1>"+"<p>"+message+"</p>"+"<p><a href="+url+">Reload page</a></p>"+"</div></div>");req.abort()}};this.Handlebars={};
(function(Handlebars){Handlebars.VERSION="1.0.rc.1";Handlebars.helpers={};Handlebars.partials={};Handlebars.registerHelper=function $Handlebars$registerHelper$(name,fn,inverse){if(inverse)fn.not=inverse;this.helpers[name]=fn};Handlebars.registerPartial=function $Handlebars$registerPartial$(name,str){this.partials[name]=str};Handlebars.registerHelper("helperMissing",function(arg){if(arguments.length===2)return undefined;else throw new Error("Could not find property '"+arg+"'");});var toString=Object.prototype.toString;
var functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){};var fn=options.fn;var ret="";var type=toString.call(context);if(type===functionType)context=context.call(this);if(context===true)return fn(this);else if(context===false||context==null)return inverse(this);else if(type==="[object Array]")if(context.length>0)return Handlebars.helpers.each(context,options);else return inverse(this);else return fn(context)});
Handlebars.K=function $Handlebars$K$(){};Handlebars.createFrame=Object.create||function(object){Handlebars.K.prototype=object;var obj=new Handlebars.K;Handlebars.K.prototype=null;return obj};Handlebars.registerHelper("each",function(context,options){var fn=options.fn;var inverse=options.inverse;var ret="";var data;if(options.data)data=Handlebars.createFrame(options.data);if(context&&context.length>0){var i=0;for(var j=context.length;i<j;i++){if(data)data.index=i;ret=ret+fn(context[i],{data:data})}}else ret=
inverse(this);return ret});Handlebars.registerHelper("if",function(context,options){var type=toString.call(context);if(type===functionType)context=context.call(this);if(!context||Handlebars.Utils.isEmpty(context))return options.inverse(this);else return options.fn(this)});Handlebars.registerHelper("unless",function(context,options){var fn=options.fn;var inverse=options.inverse;options.fn=inverse;options.inverse=fn;return Handlebars.helpers["if"].call(this,context,options)});Handlebars.registerHelper("with",
function(context,options){return options.fn(context)});Handlebars.registerHelper("log",function(context){Handlebars.log(context)})})(this.Handlebars);Handlebars.Exception=function $Handlebars$Exception$(message){var tmp=Error.prototype.constructor.apply(this,arguments);for(var p in tmp)if(tmp.hasOwnProperty(p))this[p]=tmp[p];this.message=tmp.message};Handlebars.Exception.prototype=new Error;Handlebars.SafeString=function $Handlebars$SafeString$(string){this.string=string};
Handlebars.SafeString.prototype.toString=function $Handlebars$SafeString$$toString$(){return this.string.toString()};
(function(){var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;var escapeChar=function $escapeChar$(chr){return escape[chr]||"&amp;"};Handlebars.Utils={escapeExpression:function $Handlebars$Utils$escapeExpression$(string){if(string instanceof Handlebars.SafeString)return string.toString();else if(string==null||string===false)return"";if(!possible.test(string))return string;return string.replace(badChars,escapeChar)},
isEmpty:function $Handlebars$Utils$isEmpty$(value){if(typeof value==="undefined")return true;else if(value===null)return true;else if(value===false)return true;else if(Object.prototype.toString.call(value)==="[object Array]"&&value.length===0)return true;else return false}}})();
Handlebars.VM={template:function $Handlebars$VM$template$(templateSpec){var container={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data)return Handlebars.VM.program(fn,data);else if(programWrapper)return programWrapper;else{programWrapper=this.programs[i]=Handlebars.VM.program(fn);return programWrapper}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};
return function(context,options){options=options||{};return templateSpec.call(container,Handlebars,context,options.helpers,options.partials,options.data)}},programWithDepth:function $Handlebars$VM$programWithDepth$(fn,data,$depth){var args=Array.prototype.slice.call(arguments,2);return function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))}},program:function $Handlebars$VM$program$(fn,data){return function(context,options){options=options||{};
return fn(context,options.data||data)}},noop:function $Handlebars$VM$noop$(){return""},invokePartial:function $Handlebars$VM$invokePartial$(partial,name,context,helpers,partials,data){var options={helpers:helpers,partials:partials,data:data};if(partial===undefined)throw new Handlebars.Exception("The partial "+name+" could not be found");else if(partial instanceof Function)return partial(context,options);else if(!Handlebars.compile)throw new Handlebars.Exception("The partial "+name+" could not be compiled when running in runtime-only mode");
else{partials[name]=Handlebars.compile(partial,{data:data!==undefined});return partials[name](context,options)}}};Handlebars.template=Handlebars.VM.template;var JSON;if(!JSON)JSON={};
(function(){function f(n){return n<10?"0"+n:n}function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i;var k;var v;var length;var mind=gap;var partial;var value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function")value=value.toJSON(key);if(typeof rep==="function")value=
rep.call(holder,key,value);switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value)return"null";gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1)partial[i]=str(i,value)||"null";v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&
typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1)if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v)}}else for(k in value)if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v)}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function $Date$$toJSON$(key){return isFinite(this.valueOf())?
this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function $Boolean$$toJSON$(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
var gap;var indent;var meta={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var rep;if(typeof JSON.stringify!=="function")JSON.stringify=function $JSON$stringify$(value,replacer,space){var i;gap="";indent="";if(typeof space==="number")for(i=0;i<space;i+=1)indent+=" ";else if(typeof space==="string")indent=space;rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number"))throw new Error("JSON.stringify");
return str("",{"":value})};if(typeof JSON.parse!=="function")JSON.parse=function $JSON$parse$(text,reviver){function walk(holder,key){var k;var v;var value=holder[key];if(value&&typeof value==="object")for(k in value)if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined)value[k]=v;else delete value[k]}return reviver.call(holder,key,value)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)});
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse");}})();(function(){function eq(a,b,stack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(a.isEqual&&_.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&_.isFunction(b.isEqual))return b.isEqual(a);var className=toString.call(a);if(className!=toString.call(b))return false;switch(className){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==
+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;for(var length=stack.length;length--;)if(stack[length]==a)return true;stack.push(a);var size=0;var result=true;if(className=="[object Array]"){size=a.length;result=size==b.length;if(result)for(;size--;)if(!(result=size in a==size in b&&eq(a[size],b[size],stack)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=
b.constructor)return false;for(var key in a)if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],stack)))break}if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}stack.pop();return result}var root=this;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype;var ObjProto=Object.prototype;var FuncProto=Function.prototype;var slice=ArrayProto.slice;var unshift=ArrayProto.unshift;var toString=ObjProto.toString;var hasOwnProperty=ObjProto.hasOwnProperty;
var nativeForEach=ArrayProto.forEach;var nativeMap=ArrayProto.map;var nativeReduce=ArrayProto.reduce;var nativeReduceRight=ArrayProto.reduceRight;var nativeFilter=ArrayProto.filter;var nativeEvery=ArrayProto.every;var nativeSome=ArrayProto.some;var nativeIndexOf=ArrayProto.indexOf;var nativeLastIndexOf=ArrayProto.lastIndexOf;var nativeIsArray=Array.isArray;var nativeKeys=Object.keys;var nativeBind=FuncProto.bind;var _=function $_$(obj){return new wrapper$$0(obj)};if(typeof exports!=="undefined"){if(typeof module!==
"undefined"&&module.exports)exports=module.exports=_;exports._=_}else root["_"]=_;_.VERSION="1.3.3";var each=_.each=_.forEach=function $_$forEach$(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){var i=0;for(var l=obj.length;i<l;i++)if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key))if(iterator.call(context,obj[key],key,obj)===breaker)return};
_.map=_.collect=function $_$collect$(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)});if(obj.length===+obj.length)results.length=obj.length;return results};_.reduce=_.foldl=_.inject=function $_$inject$(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=
_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(!initial){memo=value;initial=true}else memo=iterator.call(context,memo,value,index,list)});if(!initial)throw new TypeError("Reduce of empty array with no initial value");return memo};_.reduceRight=_.foldr=function $_$foldr$(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=
_.bind(iterator,context);return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var reversed=_.toArray(obj).reverse();if(context&&!initial)iterator=_.bind(iterator,context);return initial?_.reduce(reversed,iterator,memo,context):_.reduce(reversed,iterator)};_.find=_.detect=function $_$detect$(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true}});return result};_.filter=_.select=function $_$select$(obj,
iterator,context){var results=[];if(obj==null)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results[results.length]=value});return results};_.reject=function $_$reject$(obj,iterator,context){var results=[];if(obj==null)return results;each(obj,function(value,index,list){if(!iterator.call(context,value,index,list))results[results.length]=value});return results};_.every=_.all=
function $_$all$(obj,iterator,context){var result=true;if(obj==null)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker});return!!result};var any=_.some=_.any=function $_$any$(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);each(obj,
function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker});return!!result};_.include=_.contains=function $_$contains$(obj,target){var found=false;if(obj==null)return found;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!=-1;found=any(obj,function(value){return value===target});return found};_.invoke=function $_$invoke$(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method||
value:value[method]).apply(value,args)})};_.pluck=function $_$pluck$(obj,key){return _.map(obj,function(value){return value[key]})};_.max=function $_$max$(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})});
return result.value};_.min=function $_$min$(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})});return result.value};_.shuffle=function $_$shuffle$(obj){var shuffled=[];var rand;each(obj,function(value,index,
list){rand=Math.floor(Math.random()*(index+1));shuffled[index]=shuffled[rand];shuffled[rand]=value});return shuffled};_.sortBy=function $_$sortBy$(obj$$0,val,context){var iterator=_.isFunction(val)?val:function(obj){return obj[val]};return _.pluck(_.map(obj$$0,function(value,index,list){return{value:value,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a===void 0)return 1;if(b===void 0)return-1;return a<b?-1:a>b?1:0}),"value")};
_.groupBy=function $_$groupBy$(obj$$0,val){var result={};var iterator=_.isFunction(val)?val:function(obj){return obj[val]};each(obj$$0,function(value,index){var key=iterator(value,index);(result[key]||(result[key]=[])).push(value)});return result};_.sortedIndex=function $_$sortedIndex$(array,obj,iterator){iterator||(iterator=_.identity);var low=0;for(var high=array.length;low<high;){var mid=low+high>>1;iterator(array[mid])<iterator(obj)?low=mid+1:high=mid}return low};_.toArray=function $_$toArray$(obj){if(!obj)return[];
if(_.isArray(obj))return slice.call(obj);if(_.isArguments(obj))return slice.call(obj);if(obj.toArray&&_.isFunction(obj.toArray))return obj.toArray();return _.values(obj)};_.size=function $_$size$(obj){return _.isArray(obj)?obj.length:_.keys(obj).length};_.first=_.head=_.take=function $_$take$(array,n,guard){return n!=null&&!guard?slice.call(array,0,n):array[0]};_.initial=function $_$initial$(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))};_.last=function $_$last$(array,
n,guard){if(n!=null&&!guard)return slice.call(array,Math.max(array.length-n,0));else return array[array.length-1]};_.rest=_.tail=function $_$tail$(array,index,guard){return slice.call(array,index==null||guard?1:index)};_.compact=function $_$compact$(array){return _.filter(array,function(value){return!!value})};_.flatten=function $_$flatten$(array,shallow){return _.reduce(array,function(memo,value){if(_.isArray(value))return memo.concat(shallow?value:_.flatten(value));memo[memo.length]=value;return memo},
[])};_.without=function $_$without$(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function $_$unique$(array,isSorted,iterator){var initial=iterator?_.map(array,iterator):array;var results=[];if(array.length<3)isSorted=true;_.reduce(initial,function(memo,value,index){if(isSorted?_.last(memo)!==value||!memo.length:!_.include(memo,value)){memo.push(value);results.push(array[index])}return memo},[]);return results};_.union=function $_$union$(){return _.uniq(_.flatten(arguments,
true))};_.intersection=_.intersect=function $_$intersect$(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})};_.difference=function $_$difference$(array){var rest=_.flatten(slice.call(arguments,1),true);return _.filter(array,function(value){return!_.include(rest,value)})};_.zip=function $_$zip$(){var args=slice.call(arguments);var length=_.max(_.pluck(args,"length"));var results=new Array(length);
for(var i=0;i<length;i++)results[i]=_.pluck(args,""+i);return results};_.indexOf=function $_$indexOf$(array,item,isSorted){if(array==null)return-1;var i;var l;if(isSorted){i=_.sortedIndex(array,item);return array[i]===item?i:-1}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item);for(i=0,l=array.length;i<l;i++)if(i in array&&array[i]===item)return i;return-1};_.lastIndexOf=function $_$lastIndexOf$(array,item){if(array==null)return-1;if(nativeLastIndexOf&&array.lastIndexOf===
nativeLastIndexOf)return array.lastIndexOf(item);for(var i=array.length;i--;)if(i in array&&array[i]===item)return i;return-1};_.range=function $_$range$(start,stop,step){if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;for(var range=new Array(len);idx<len;){range[idx++]=start;start+=step}return range};var ctor=function $ctor$(){};_.bind=function bind(func,context){var bound;var args;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,
slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function $bound$(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self}};_.bindAll=function $_$bindAll$(obj){var funcs=slice.call(arguments,1);if(funcs.length==0)funcs=_.functions(obj);each(funcs,
function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function $_$memoize$(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}};_.delay=function $_$delay$(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=function $_$defer$(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=
function $_$throttle$(func,wait){var context;var args;var timeout;var throttling;var more;var result;var whenDone=_.debounce(function(){more=throttling=false},wait);return function(){context=this;args=arguments;var later=function $later$(){timeout=null;if(more)func.apply(context,args);whenDone()};if(!timeout)timeout=setTimeout(later,wait);if(throttling)more=true;else result=func.apply(context,args);whenDone();throttling=true;return result}};_.debounce=function $_$debounce$(func,wait,immediate){var timeout;
return function(){var context=this;var args=arguments;var later=function $later$(){timeout=null;if(!immediate)func.apply(context,args)};if(immediate&&!timeout)func.apply(context,args);clearTimeout(timeout);timeout=setTimeout(later,wait)}};_.once=function $_$once$(func){var ran=false;var memo;return function(){if(ran)return memo;ran=true;return memo=func.apply(this,arguments)}};_.wrap=function $_$wrap$(func,wrapper){return function(){var args=[func].concat(slice.call(arguments,0));return wrapper.apply(this,
args)}};_.compose=function $_$compose$(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}};_.after=function $_$after$(times,func){if(times<=0)return func();return function(){if(--times<1)return func.apply(this,arguments)}};_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)if(_.has(obj,key))keys[keys.length]=key;return keys};_.values=function $_$values$(obj){return _.map(obj,
_.identity)};_.functions=_.methods=function $_$methods$(obj){var names=[];for(var key in obj)if(_.isFunction(obj[key]))names.push(key);return names.sort()};_.extend=function $_$extend$(obj){each(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]=source[prop]});return obj};_.pick=function $_$pick$(obj){var result={};each(_.flatten(slice.call(arguments,1)),function(key){if(key in obj)result[key]=obj[key]});return result};_.defaults=function $_$defaults$(obj){each(slice.call(arguments,
1),function(source){for(var prop in source)if(obj[prop]==null)obj[prop]=source[prop]});return obj};_.clone=function $_$clone$(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function $_$tap$(obj,interceptor){interceptor(obj);return obj};_.isEqual=function $_$isEqual$(a,b){return eq(a,b,[])};_.isEmpty=function $_$isEmpty$(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return false;
return true};_.isElement=function $_$isElement$(obj){return!!(obj&&obj.nodeType==1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"};_.isObject=function $_$isObject$(obj){return obj===Object(obj)};_.isArguments=function $_$isArguments$(obj){return toString.call(obj)=="[object Arguments]"};if(!_.isArguments(arguments))_.isArguments=function $_$isArguments$(obj){return!!(obj&&_.has(obj,"callee"))};_.isFunction=function $_$isFunction$(obj){return toString.call(obj)==
"[object Function]"};_.isString=function $_$isString$(obj){return toString.call(obj)=="[object String]"};_.isNumber=function $_$isNumber$(obj){return toString.call(obj)=="[object Number]"};_.isFinite=function $_$isFinite$(obj){return _.isNumber(obj)&&isFinite(obj)};_.isNaN=function $_$isNaN$(obj){return obj!==obj};_.isBoolean=function $_$isBoolean$(obj){return obj===true||obj===false||toString.call(obj)=="[object Boolean]"};_.isDate=function $_$isDate$(obj){return toString.call(obj)=="[object Date]"};
_.isRegExp=function $_$isRegExp$(obj){return toString.call(obj)=="[object RegExp]"};_.isNull=function $_$isNull$(obj){return obj===null};_.isUndefined=function $_$isUndefined$(obj){return obj===void 0};_.has=function $_$has$(obj,key){return hasOwnProperty.call(obj,key)};_.noConflict=function $_$noConflict$(){root._=previousUnderscore;return this};_.identity=function $_$identity$(value){return value};_.times=function $_$times$(n,iterator,context){for(var i=0;i<n;i++)iterator.call(context,i)};_.escape=
function $_$escape$(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};_.result=function $_$result$(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value};_.mixin=function $_$mixin$(obj){each(_.functions(obj),function(name){addToWrapper(name,_[name]=obj[name])})};var idCounter=0;_.uniqueId=function $_$uniqueId$(prefix){var id=
idCounter++;return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/.^/;var escapes={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var p in escapes)escapes[escapes[p]]=p;var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;var unescaper=/\\(\\|'|r|n|t|u2028|u2029)/g;var unescape=function $unescape$(code){return code.replace(unescaper,function(match,escape){return escapes[escape]})};_.template=
function $_$template$(text,data$$0,settings){settings=_.defaults(settings||{},_.templateSettings);var source="__p+='"+text.replace(escaper,function(match){return"\\"+escapes[match]}).replace(settings.escape||noMatch,function(match,code){return"'+\n_.escape("+unescape(code)+")+\n'"}).replace(settings.interpolate||noMatch,function(match,code){return"'+\n("+unescape(code)+")+\n'"}).replace(settings.evaluate||noMatch,function(match,code){return"';\n"+unescape(code)+"\n;__p+='"})+"';\n";if(!settings.variable)source=
"with(obj||{}){\n"+source+"}\n";source="var __p='';"+"var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+source+"return __p;\n";var render=new Function(settings.variable||"obj","_",source);if(data$$0)return render(data$$0,_);var template=function $template$(data){return render.call(this,data,_)};template.source="function("+(settings.variable||"obj")+"){\n"+source+"}";return template};_.chain=function $_$chain$(obj){return _(obj).chain()};var wrapper$$0=function $wrapper$$0$(obj){this._wrapped=
obj};_.prototype=wrapper$$0.prototype;var result$$0=function $result$$0$(obj,chain){return chain?_(obj).chain():obj};var addToWrapper=function $addToWrapper$(name,func){wrapper$$0.prototype[name]=function $wrapper$$0$$name$(){var args=slice.call(arguments);unshift.call(args,this._wrapped);return result$$0(func.apply(_,args),this._chain)}};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];wrapper$$0.prototype[name]=function $wrapper$$0$$name$(){var wrapped=
this._wrapped;method.apply(wrapped,arguments);var length=wrapped.length;if((name=="shift"||name=="splice")&&length===0)delete wrapped[0];return result$$0(wrapped,this._chain)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];wrapper$$0.prototype[name]=function $wrapper$$0$$name$(){return result$$0(method.apply(this._wrapped,arguments),this._chain)}});wrapper$$0.prototype.chain=function $wrapper$$0$$chain$(){this._chain=true;return this};wrapper$$0.prototype.value=function $wrapper$$0$$value$(){return this._wrapped}}).call(this);(function(){var root=this;var previousBackbone=root.Backbone;var slice=Array.prototype.slice;var splice=Array.prototype.splice;var Backbone;if(typeof exports!=="undefined")Backbone=exports;else Backbone=root.Backbone={};Backbone.VERSION="0.9.2";var _=root._;if(!_&&typeof require!=="undefined")_=require("underscore");var $=root.jQuery||root.Zepto||root.ender;Backbone.setDomLibrary=function $Backbone$setDomLibrary$(lib){$=lib};Backbone.noConflict=function $Backbone$noConflict$(){root.Backbone=previousBackbone;
return this};Backbone.emulateHTTP=false;Backbone.emulateJSON=false;var eventSplitter=/\s+/;var Events=Backbone.Events={on:function $Backbone$Events$on$(events,callback,context){var calls;var event;var node;var tail;var list;if(!callback)return this;events=events.split(eventSplitter);for(calls=this._callbacks||(this._callbacks={});event=events.shift();){list=calls[event];node=list?list.tail:{};node.next=tail={};node.context=context;node.callback=callback;calls[event]={tail:tail,next:list?list.next:
node}}return this},off:function $Backbone$Events$off$(events,callback,context){var event;var calls;var node;var tail;var cb;var ctx;if(!(calls=this._callbacks))return;if(!(events||callback||context)){delete this._callbacks;return this}for(events=events?events.split(eventSplitter):_.keys(calls);event=events.shift();){node=calls[event];delete calls[event];if(!node||!(callback||context))continue;for(tail=node.tail;(node=node.next)!==tail;){cb=node.callback;ctx=node.context;if(callback&&cb!==callback||
context&&ctx!==context)this.on(event,cb,ctx)}}return this},trigger:function $Backbone$Events$trigger$(events){var event;var node;var calls;var tail;var args;var all;var rest;if(!(calls=this._callbacks))return this;all=calls.all;events=events.split(eventSplitter);for(rest=slice.call(arguments,1);event=events.shift();){if(node=calls[event])for(tail=node.tail;(node=node.next)!==tail;)node.callback.apply(node.context||this,rest);if(node=all){tail=node.tail;for(args=[event].concat(rest);(node=node.next)!==
tail;)node.callback.apply(node.context||this,args)}}return this}};Events.bind=Events.on;Events.unbind=Events.off;var Model=Backbone.Model=function $Backbone$Model$(attributes,options){var defaults;attributes||(attributes={});if(options&&options.parse)attributes=this.parse(attributes);if(defaults=getValue(this,"defaults"))attributes=_.extend({},defaults,attributes);if(options&&options.collection)this.collection=options.collection;this.attributes={};this._escapedAttributes={};this.cid=_.uniqueId("c");
this.changed={};this._silent={};this._pending={};this.set(attributes,{silent:true});this.changed={};this._silent={};this._pending={};this._previousAttributes=_.clone(this.attributes);this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},get:function(attr){return this.attributes[attr]},escape:function(attr){var html;if(html=this._escapedAttributes[attr])return html;
var val=this.get(attr);return this._escapedAttributes[attr]=_.escape(val==null?"":""+val)},has:function(attr){return this.get(attr)!=null},set:function(key,value,options){var attrs;var attr;var val;if(_.isObject(key)||key==null){attrs=key;options=value}else{attrs={};attrs[key]=value}options||(options={});if(!attrs)return this;if(attrs instanceof Model)attrs=attrs.attributes;if(options.unset)for(attr in attrs)attrs[attr]=void 0;if(!this._validate(attrs,options))return false;if(this.idAttribute in attrs)this.id=
attrs[this.idAttribute];var changes=options.changes={};var now=this.attributes;var escaped=this._escapedAttributes;var prev=this._previousAttributes||{};for(attr in attrs){val=attrs[attr];if(!_.isEqual(now[attr],val)||options.unset&&_.has(now,attr)){delete escaped[attr];(options.silent?this._silent:changes)[attr]=true}options.unset?delete now[attr]:now[attr]=val;if(!_.isEqual(prev[attr],val)||_.has(now,attr)!=_.has(prev,attr)){this.changed[attr]=val;if(!options.silent)this._pending[attr]=true}else{delete this.changed[attr];
delete this._pending[attr]}}if(!options.silent)this.change(options);return this},unset:function(attr,options){(options||(options={})).unset=true;return this.set(attr,null,options)},clear:function(options){(options||(options={})).unset=true;return this.set(_.clone(this.attributes),options)},fetch:function(options){options=options?_.clone(options):{};var model=this;var success=options.success;options.success=function $options$success$(resp,status,xhr){if(!model.set(model.parse(resp,xhr),options))return false;
if(success)success(model,resp)};options.error=Backbone.wrapError(options.error,model,options);return(this.sync||Backbone.sync).call(this,"read",this,options)},save:function(key,value,options){var attrs;var current;if(_.isObject(key)||key==null){attrs=key;options=value}else{attrs={};attrs[key]=value}options=options?_.clone(options):{};if(options.wait){if(!this._validate(attrs,options))return false;current=_.clone(this.attributes)}var silentOptions=_.extend({},options,{silent:true});if(attrs&&!this.set(attrs,
options.wait?silentOptions:options))return false;var model=this;var success=options.success;options.success=function $options$success$(resp,status,xhr){var serverAttrs=model.parse(resp,xhr);if(options.wait){delete options.wait;serverAttrs=_.extend(attrs||{},serverAttrs)}if(!model.set(serverAttrs,options))return false;if(success)success(model,resp);else model.trigger("sync",model,resp,options)};options.error=Backbone.wrapError(options.error,model,options);var method=this.isNew()?"create":"update";
var xhr$$0=(this.sync||Backbone.sync).call(this,method,this,options);if(options.wait)this.set(current,silentOptions);return xhr$$0},destroy:function(options){options=options?_.clone(options):{};var model=this;var success=options.success;var triggerDestroy=function $triggerDestroy$(){model.trigger("destroy",model,model.collection,options)};if(this.isNew()){triggerDestroy();return false}options.success=function $options$success$(resp){if(options.wait)triggerDestroy();if(success)success(model,resp);
else model.trigger("sync",model,resp,options)};options.error=Backbone.wrapError(options.error,model,options);var xhr=(this.sync||Backbone.sync).call(this,"delete",this,options);if(!options.wait)triggerDestroy();return xhr},url:function(){var base=getValue(this,"urlRoot")||getValue(this.collection,"url")||urlError();if(this.isNew())return base;return base+(base.charAt(base.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(resp,xhr){return resp},clone:function(){return new this.constructor(this.attributes)},
isNew:function(){return this.id==null},change:function(options){options||(options={});var changing=this._changing;this._changing=true;for(var attr in this._silent)this._pending[attr]=true;var changes=_.extend({},options.changes,this._silent);this._silent={};for(attr in changes)this.trigger("change:"+attr,this,this.get(attr),options);if(changing)return this;for(;!_.isEmpty(this._pending);){this._pending={};this.trigger("change",this,options);for(attr in this.changed){if(this._pending[attr]||this._silent[attr])continue;
delete this.changed[attr]}this._previousAttributes=_.clone(this.attributes)}this._changing=false;return this},hasChanged:function(attr){if(!arguments.length)return!_.isEmpty(this.changed);return _.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):false;var val;var changed=false;var old=this._previousAttributes;for(var attr in diff){if(_.isEqual(old[attr],val=diff[attr]))continue;(changed||(changed={}))[attr]=val}return changed},previous:function(attr){if(!arguments.length||
!this._previousAttributes)return null;return this._previousAttributes[attr]},previousAttributes:function(){return _.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(attrs,options){if(options.silent||!this.validate)return true;attrs=_.extend({},this.attributes,attrs);var error=this.validate(attrs,options);if(!error)return true;if(options&&options.error)options.error(this,error,options);else this.trigger("error",this,error,options);return false}});
var Collection=Backbone.Collection=function $Backbone$Collection$(models,options){options||(options={});if(options.model)this.model=options.model;if(options.comparator)this.comparator=options.comparator;this._reset();this.initialize.apply(this,arguments);if(models)this.reset(models,{silent:true,parse:options.parse})};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},add:function(models,
options){var i;var index;var length;var model;var cid;var id;var cids={};var ids={};var dups=[];options||(options={});models=_.isArray(models)?models.slice():[models];for(i=0,length=models.length;i<length;i++){if(!(model=models[i]=this._prepareModel(models[i],options)))throw new Error("Can't add an invalid model to a collection");cid=model.cid;id=model.id;if(cids[cid]||this._byCid[cid]||id!=null&&(ids[id]||this._byId[id])){dups.push(i);continue}cids[cid]=ids[id]=model}for(i=dups.length;i--;)models.splice(dups[i],
1);for(i=0,length=models.length;i<length;i++){(model=models[i]).on("all",this._onModelEvent,this);this._byCid[model.cid]=model;if(model.id!=null)this._byId[model.id]=model}this.length+=length;index=options.at!=null?options.at:this.models.length;splice.apply(this.models,[index,0].concat(models));if(this.comparator)this.sort({silent:true});if(options.silent)return this;for(i=0,length=this.models.length;i<length;i++){if(!cids[(model=this.models[i]).cid])continue;options.index=i;model.trigger("add",model,
this,options)}return this},remove:function(models,options){var i;var l;var index;var model;options||(options={});models=_.isArray(models)?models.slice():[models];for(i=0,l=models.length;i<l;i++){model=this.getByCid(models[i])||this.get(models[i]);if(!model)continue;delete this._byId[model.id];delete this._byCid[model.cid];index=this.indexOf(model);this.models.splice(index,1);this.length--;if(!options.silent){options.index=index;model.trigger("remove",model,this,options)}this._removeReference(model)}return this},
push:function(model,options){model=this._prepareModel(model,options);this.add(model,options);return model},pop:function(options){var model=this.at(this.length-1);this.remove(model,options);return model},unshift:function(model,options){model=this._prepareModel(model,options);this.add(model,_.extend({at:0},options));return model},shift:function(options){var model=this.at(0);this.remove(model,options);return model},get:function(id){if(id==null)return void 0;return this._byId[id.id!=null?id.id:id]},getByCid:function(cid){return cid&&
this._byCid[cid.cid||cid]},at:function(index){return this.models[index]},where:function(attrs){if(_.isEmpty(attrs))return[];return this.filter(function(model){for(var key in attrs)if(attrs[key]!==model.get(key))return false;return true})},sort:function(options){options||(options={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var boundComparator=_.bind(this.comparator,this);if(this.comparator.length==1)this.models=this.sortBy(boundComparator);else this.models.sort(boundComparator);
if(!options.silent)this.trigger("reset",this,options);return this},pluck:function(attr){return _.map(this.models,function(model){return model.get(attr)})},reset:function(models,options){models||(models=[]);options||(options={});var i=0;for(var l=this.models.length;i<l;i++)this._removeReference(this.models[i]);this._reset();this.add(models,_.extend({silent:true},options));if(!options.silent)this.trigger("reset",this,options);return this},fetch:function(options){options=options?_.clone(options):{};
if(options.parse===undefined)options.parse=true;var collection=this;var success=options.success;options.success=function $options$success$(resp,status,xhr){collection[options.add?"add":"reset"](collection.parse(resp,xhr),options);if(success)success(collection,resp)};options.error=Backbone.wrapError(options.error,collection,options);return(this.sync||Backbone.sync).call(this,"read",this,options)},create:function(model,options){var coll=this;options=options?_.clone(options):{};model=this._prepareModel(model,
options);if(!model)return false;if(!options.wait)coll.add(model,options);var success=options.success;options.success=function $options$success$(nextModel,resp,xhr){if(options.wait)coll.add(nextModel,options);if(success)success(nextModel,resp);else nextModel.trigger("sync",model,resp,options)};model.save(null,options);return model},parse:function(resp,xhr){return resp},chain:function(){return _(this.models).chain()},_reset:function(options){this.length=0;this.models=[];this._byId={};this._byCid={}},
_prepareModel:function(model,options){options||(options={});if(!(model instanceof Model)){var attrs=model;options.collection=this;model=new this.model(attrs,options);if(!model._validate(model.attributes,options))model=false}else if(!model.collection)model.collection=this;return model},_removeReference:function(model){if(this==model.collection)delete model.collection;model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if((event=="add"||event=="remove")&&
collection!=this)return;if(event=="destroy")this.remove(model,options);if(model&&event==="change:"+model.idAttribute){delete this._byId[model.previous(model.idAttribute)];this._byId[model.id]=model}this.trigger.apply(this,arguments)}});var methods=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle",
"lastIndexOf","isEmpty","groupBy"];_.each(methods,function(method){Collection.prototype[method]=function $Collection$$method$(){return _[method].apply(_,[this.models].concat(_.toArray(arguments)))}});var Router=Backbone.Router=function $Backbone$Router$(options){options||(options={});if(options.routes)this.routes=options.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var namedParam=/:\w+/g;var splatParam=/\*\w+/g;var escapeRegExp=/[-[\]{}()+?.,\\^$|#\s]/g;_.extend(Router.prototype,
Events,{initialize:function(){},route:function(route,name,callback){Backbone.history||(Backbone.history=new History);if(!_.isRegExp(route))route=this._routeToRegExp(route);if(!callback)callback=this[name];Backbone.history.route(route,_.bind(function(fragment){var args=this._extractParameters(route,fragment);callback&&callback.apply(this,args);this.trigger.apply(this,["route:"+name].concat(args));Backbone.history.trigger("route",this,name,args)},this));return this},navigate:function(fragment,options){Backbone.history.navigate(fragment,
options)},_bindRoutes:function(){if(!this.routes)return;var routes=[];for(var route in this.routes)routes.unshift([route,this.routes[route]]);var i=0;for(var l=routes.length;i<l;i++)this.route(routes[i][0],routes[i][1],this[routes[i][1]])},_routeToRegExp:function(route){route=route.replace(escapeRegExp,"\\$&").replace(namedParam,"([^/]+)").replace(splatParam,"(.*?)");return new RegExp("^"+route+"$")},_extractParameters:function(route,fragment){return route.exec(fragment).slice(1)}});var History=Backbone.History=
function $Backbone$History$(){this.handlers=[];_.bindAll(this,"checkUrl")};var routeStripper=/^[#\/]/;var isExplorer=/msie [\w.]+/;History.started=false;_.extend(History.prototype,Events,{interval:50,getHash:function(windowOverride){var loc=windowOverride?windowOverride.location:window.location;var match=loc.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(fragment==null)if(this._hasPushState||forcePushState){fragment=window.location.pathname;var search=
window.location.search;if(search)fragment+=search}else fragment=this.getHash();if(!fragment.indexOf(this.options.root))fragment=fragment.substr(this.options.root.length);return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=true;this.options=_.extend({},{root:"/"},this.options,options);this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=
!!(this.options.pushState&&window.history&&window.history.pushState);var fragment=this.getFragment();var docMode=document.documentMode;var oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||docMode<=7);if(oldIE){this.iframe=$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(fragment)}if(this._hasPushState)$(window).bind("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!oldIE)$(window).bind("hashchange",
this.checkUrl);else if(this._wantsHashChange)this._checkUrlInterval=setInterval(this.checkUrl,this.interval);this.fragment=fragment;var loc=window.location;var atRoot=loc.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!atRoot){this.fragment=this.getFragment(null,true);window.location.replace(this.options.root+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&atRoot&&loc.hash){this.fragment=this.getHash().replace(routeStripper,
"");window.history.replaceState({},document.title,loc.protocol+"//"+loc.host+this.options.root+this.fragment)}if(!this.options.silent)return this.loadUrl()},stop:function(){$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);History.started=false},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();if(current==this.fragment&&this.iframe)current=this.getFragment(this.getHash(this.iframe));
if(current==this.fragment)return false;if(this.iframe)this.navigate(current);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(fragmentOverride){var fragment=this.fragment=this.getFragment(fragmentOverride);var matched=_.any(this.handlers,function(handler){if(handler.route.test(fragment)){handler.callback(fragment);return true}});return matched},navigate:function(fragment,options){if(!History.started)return false;if(!options||options===true)options={trigger:options};var frag=(fragment||
"").replace(routeStripper,"");if(this.fragment==frag)return;if(this._hasPushState){if(frag.indexOf(this.options.root)!=0)frag=this.options.root+frag;this.fragment=frag;window.history[options.replace?"replaceState":"pushState"]({},document.title,frag)}else if(this._wantsHashChange){this.fragment=frag;this._updateHash(window.location,frag,options.replace);if(this.iframe&&frag!=this.getFragment(this.getHash(this.iframe))){if(!options.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,
frag,options.replace)}}else window.location.assign(this.options.root+fragment);if(options.trigger)this.loadUrl(fragment)},_updateHash:function(location,fragment,replace){if(replace)location.replace(location.toString().replace(/(javascript:|#).*$/,"")+"#"+fragment);else location.hash=fragment}});var View=Backbone.View=function $Backbone$View$(options){this.cid=_.uniqueId("view");this._configure(options||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var delegateEventSplitter=
/^(\S+)\s*(.*)$/;var viewOptions=["model","collection","el","id","attributes","className","tagName"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(tagName,attributes,content){var el=document.createElement(tagName);if(attributes)$(el).attr(attributes);if(content)$(el).html(content);return el},setElement:function(element,delegate){if(this.$el)this.undelegateEvents();
this.$el=element instanceof $?element:$(element);this.el=this.$el[0];if(delegate!==false)this.delegateEvents();return this},delegateEvents:function(events){if(!(events||(events=getValue(this,"events"))))return;this.undelegateEvents();for(var key in events){var method=events[key];if(!_.isFunction(method))method=this[events[key]];if(!method)throw new Error('Method "'+events[key]+'" does not exist');var match=key.match(delegateEventSplitter);var eventName=match[1];var selector=match[2];method=_.bind(method,
this);eventName+=".delegateEvents"+this.cid;if(selector==="")this.$el.bind(eventName,method);else this.$el.delegate(selector,eventName,method)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(options){if(this.options)options=_.extend({},this.options,options);var i=0;for(var l=viewOptions.length;i<l;i++){var attr=viewOptions[i];if(options[attr])this[attr]=options[attr]}this.options=options},_ensureElement:function(){if(!this.el){var attrs=getValue(this,
"attributes")||{};if(this.id)attrs.id=this.id;if(this.className)attrs["class"]=this.className;this.setElement(this.make(this.tagName,attrs),false)}else this.setElement(this.el,false)}});var extend=function $extend$(protoProps,classProps){var child=inherits(this,protoProps,classProps);child.extend=this.extend;return child};Model.extend=Collection.extend=Router.extend=View.extend=extend;var methodMap={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};Backbone.sync=function $Backbone$sync$(method,
model,options){var type=methodMap[method];options||(options={});var params={type:type,dataType:"json"};if(!options.url)params.url=getValue(model,"url")||urlError();if(!options.data&&model&&(method=="create"||method=="update")){params.contentType="application/json";params.data=JSON.stringify(model.toJSON())}if(Backbone.emulateJSON){params.contentType="application/x-www-form-urlencoded";params.data=params.data?{model:params.data}:{}}if(Backbone.emulateHTTP)if(type==="PUT"||type==="DELETE"){if(Backbone.emulateJSON)params.data._method=
type;params.type="POST";params.beforeSend=function $params$beforeSend$(xhr){xhr.setRequestHeader("X-HTTP-Method-Override",type)}}if(params.type!=="GET"&&!Backbone.emulateJSON)params.processData=false;return $.ajax(_.extend(params,options))};Backbone.wrapError=function $Backbone$wrapError$(onError,originalModel,options){return function(model,resp){resp=model===originalModel?resp:model;if(onError)onError(originalModel,resp,options);else originalModel.trigger("error",originalModel,resp,options)}};var ctor=
function $ctor$(){};var inherits=function $inherits$(parent,protoProps,staticProps){var child;if(protoProps&&protoProps.hasOwnProperty("constructor"))child=protoProps.constructor;else child=function $child$(){parent.apply(this,arguments)};_.extend(child,parent);ctor.prototype=parent.prototype;child.prototype=new ctor;if(protoProps)_.extend(child.prototype,protoProps);if(staticProps)_.extend(child,staticProps);child.prototype.constructor=child;child.__super__=parent.prototype;return child};var getValue=
function $getValue$(object,prop){if(!(object&&object[prop]))return null;return _.isFunction(object[prop])?object[prop]():object[prop]};var urlError=function $urlError$(){throw new Error('A "url" property or function must be specified');}}).call(this);var Seam=new Object;Seam.Remoting=new Object;Seam.Component=new Object;Seam.pageContext=new Object;Seam.Component.components=new Array;Seam.Component.instances=new Array;Seam.Component.newInstance=function $Seam$Component$newInstance$(A){for(var B=0;B<Seam.Component.components.length;B++)if(Seam.Component.components[B].__name==A)return new Seam.Component.components[B]};
Seam.Component.getInstance=function $Seam$Component$getInstance$(A){for(var B=0;B<Seam.Component.components.length;B++)if(Seam.Component.components[B].__name==A){if(Seam.Component.components[B].__instance==null)Seam.Component.components[B].__instance=new Seam.Component.components[B];return Seam.Component.components[B].__instance}return null};
Seam.Component.getComponentType=function $Seam$Component$getComponentType$(B){for(var A=0;A<Seam.Component.components.length;A++)if(B instanceof Seam.Component.components[A])return Seam.Component.components[A];return null};Seam.Component.getComponentName=function $Seam$Component$getComponentName$(B){var A=Seam.Component.getComponentType(B);return A?A.__name:null};
Seam.Component.register=function $Seam$Component$register$(A){for(var B=0;B<Seam.Component.components.length;B++)if(Seam.Component.components[B].__name==A.__name){Seam.Component.components[B]=A;return}Seam.Component.components.push(A);A.__instance=null};Seam.Component.isRegistered=function $Seam$Component$isRegistered$(A){for(var B=0;B<Seam.Component.components.length;B++)if(Seam.Component.components[B].__name==A)return true;return false};
Seam.Component.getMetadata=function $Seam$Component$getMetadata$(B){for(var A=0;A<Seam.Component.components.length;A++)if(B instanceof Seam.Component.components[A])return Seam.Component.components[A].__metadata;return null};Seam.Remoting.extractEncodedSessionId=function $Seam$Remoting$extractEncodedSessionId$(B){var C=null;if(B.indexOf(";jsessionid=")>=0){var A=B.indexOf("?");C=B.substring(B.indexOf(";jsessionid=")+12,A>=0?A:B.length)}return C};Seam.Remoting.PATH_EXECUTE="/execute";
Seam.Remoting.PATH_SUBSCRIPTION="/subscription";Seam.Remoting.PATH_POLL="/poll";Seam.Remoting.encodedSessionId=Seam.Remoting.extractEncodedSessionId(window.location.href);Seam.Remoting.type=new Object;Seam.Remoting.types=new Array;Seam.Remoting.debug=false;Seam.Remoting.debugWindow=null;Seam.Remoting.setDebug=function $Seam$Remoting$setDebug$(A){Seam.Remoting.debug=A};
Seam.Remoting.log=function $Seam$Remoting$log$(C){if(!Seam.Remoting.debug)return;if(!Seam.Remoting.debugWindow||Seam.Remoting.debugWindow.document==null){var A="left=400,top=400,resizable=yes,scrollbars=yes,width=400,height=400";Seam.Remoting.debugWindow=window.open("","__seamDebugWindow",A);if(Seam.Remoting.debugWindow){Seam.Remoting.debugWindow.document.write("<html><head><title>Seam Debug Window</title></head><body></body></html>");var B=Seam.Remoting.debugWindow.document.getElementsByTagName("body").item(0);
B.style.fontFamily="arial";B.style.fontSize="8pt"}}if(Seam.Remoting.debugWindow){C=C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");Seam.Remoting.debugWindow.document.write("<pre>"+new Date+": "+C+"</pre><br/>")}};Seam.Remoting.createNamespace=function $Seam$Remoting$createNamespace$(B){var D=B.split(".");var C=Seam.Remoting.type;for(var A=0;A<D.length;A++){if(typeof C[D[A]]=="undefined")C[D[A]]=new Object;C=C[D[A]]}};
Seam.Remoting.__Context=function $Seam$Remoting$__Context$(){this.conversationId=null;Seam.Remoting.__Context.prototype.setConversationId=function $Seam$Remoting$__Context$$setConversationId$(A){this.conversationId=A};Seam.Remoting.__Context.prototype.getConversationId=function $Seam$Remoting$__Context$$getConversationId$(){return this.conversationId}};Seam.Remoting.context=new Seam.Remoting.__Context;Seam.Remoting.getContext=function $Seam$Remoting$getContext$(){return Seam.Remoting.context};
Seam.Remoting.Map=function $Seam$Remoting$Map$(){this.elements=new Array;Seam.Remoting.Map.prototype.size=function $Seam$Remoting$Map$$size$(){return this.elements.length};Seam.Remoting.Map.prototype.isEmpty=function $Seam$Remoting$Map$$isEmpty$(){return this.elements.length==0};Seam.Remoting.Map.prototype.keySet=function $Seam$Remoting$Map$$keySet$(){var A=new Array;for(var B=0;B<this.elements.length;B++)A[A.length]=this.elements[B].key;return A};Seam.Remoting.Map.prototype.values=function $Seam$Remoting$Map$$values$(){var A=
new Array;for(var B=0;B<this.elements.length;B++)A[A.length]=this.elements[B].value;return A};Seam.Remoting.Map.prototype.get=function $Seam$Remoting$Map$$get$(B){for(var A=0;A<this.elements.length;A++)if(this.elements[A].key==B)return this.elements[A].value;return null};Seam.Remoting.Map.prototype.put=function $Seam$Remoting$Map$$put$(B,C){for(var A=0;A<this.elements.length;A++)if(this.elements[A].key==B){this.elements[A].value=C;return}this.elements.push({key:B,value:C})};Seam.Remoting.Map.prototype.remove=
function $Seam$Remoting$Map$$remove$(B){for(var A=0;A<this.elements.length;A++)if(this.elements[A].key==B)this.elements.splice(A,1)};Seam.Remoting.Map.prototype.contains=function $Seam$Remoting$Map$$contains$(B){for(var A=0;A<this.elements.length;A++)if(this.elements[A].key==B)return true;return false}};Seam.Remoting.registerType=function $Seam$Remoting$registerType$(B){for(var A=0;A<Seam.Remoting.types.length;A++)if(Seam.Remoting.types[A].__name==B.__name){Seam.Remoting.types[A]=B;return}Seam.Remoting.types.push(B)};
Seam.Remoting.createType=function $Seam$Remoting$createType$(A){for(var B=0;B<Seam.Remoting.types.length;B++)if(Seam.Remoting.types[B].__name==A)return new Seam.Remoting.types[B]};Seam.Remoting.getType=function $Seam$Remoting$getType$(B){for(var A=0;A<Seam.Remoting.types.length;A++)if(B instanceof Seam.Remoting.types[A])return Seam.Remoting.types[A];return null};Seam.Remoting.getTypeName=function $Seam$Remoting$getTypeName$(B){var A=Seam.Remoting.getType(B);return A?A.__name:null};
Seam.Remoting.getMetadata=function $Seam$Remoting$getMetadata$(B){for(var A=0;A<Seam.Remoting.types.length;A++)if(B instanceof Seam.Remoting.types[A])return Seam.Remoting.types[A].__metadata;return null};
Seam.Remoting.serializeValue=function $Seam$Remoting$serializeValue$(C,B,A){if(C==null)return"<null/>";else if(B)switch(B){case "bool":return"<bool>"+(C?"true":"false")+"</bool>";case "number":return"<number>"+C+"</number>";case "date":return Seam.Remoting.serializeDate(C);case "bean":return Seam.Remoting.getTypeRef(C,A);case "bag":return Seam.Remoting.serializeBag(C,A);case "map":return Seam.Remoting.serializeMap(C,A);default:return"<str>"+encodeURIComponent(C)+"</str>"}else switch(typeof C){case "number":return"<number>"+
C+"</number>";case "boolean":return"<bool>"+(C?"true":"false")+"</bool>";case "object":if(C instanceof Array)return Seam.Remoting.serializeBag(C,A);else if(C instanceof Date)return Seam.Remoting.serializeDate(C);else if(C instanceof Seam.Remoting.Map)return Seam.Remoting.serializeMap(C,A);else return Seam.Remoting.getTypeRef(C,A);default:return"<str>"+encodeURIComponent(C)+"</str>"}};
Seam.Remoting.serializeBag=function $Seam$Remoting$serializeBag$(D,A){var C="<bag>";for(var B=0;B<D.length;B++){C+="<element>";C+=Seam.Remoting.serializeValue(D[B],null,A);C+="</element>"}C+="</bag>";return C};Seam.Remoting.serializeMap=function $Seam$Remoting$serializeMap$(E,A){var D="<map>";var C=E.keySet();for(var B=0;B<C.length;B++){D+="<element><k>";D+=Seam.Remoting.serializeValue(C[B],null,A);D+="</k><v>";D+=Seam.Remoting.serializeValue(E.get(C[B]),null,A);D+="</v></element>"}D+="</map>";return D};
Seam.Remoting.serializeDate=function $Seam$Remoting$serializeDate$(C){var A=function $A$(E,D){for(;(""+E).length<D;)E="0"+E;return E};var B="<date>";B+=C.getFullYear();B+=A(C.getMonth()+1,2);B+=A(C.getDate(),2);B+=A(C.getHours(),2);B+=A(C.getMinutes(),2);B+=A(C.getSeconds(),2);B+=A(C.getMilliseconds(),3);B+="</date>";return B};
Seam.Remoting.getTypeRef=function $Seam$Remoting$getTypeRef$(D,A){var C=-1;for(var B=0;B<A.length;B++)if(A[B]==D){C=B;break}if(C==-1){C=A.length;A[C]=D}return'<ref id="'+C+'"/>'};
Seam.Remoting.serializeType=function $Seam$Remoting$serializeType$(F,A){var D='<bean type="';var G=Seam.Component.getComponentType(F);var C=G!=null;if(!C)G=Seam.Remoting.getType(F);if(!G){alert("Unknown Type error.");return null}D+=G.__name;D+='">\n';var E=C?Seam.Component.getMetadata(F):Seam.Remoting.getMetadata(F);for(var B=0;B<E.length;B++){D+='<member name="';D+=E[B].field;D+='">';D+=Seam.Remoting.serializeValue(F[E[B].field],E[B].type,A);D+="</member>\n"}D+="</bean>";return D};
Seam.Remoting.__callId=0;
Seam.Remoting.createCall=function $Seam$Remoting$createCall$(C,B,G,H){var E=""+Seam.Remoting.__callId++;if(!H)H=C.__callback[B];var F='<call component="';F+=Seam.Component.getComponentType(C).__name;F+='" method="';F+=B;F+='" id="';F+=E;F+='">\n';F+="<params>";var A=new Array;for(var D=0;D<G.length;D++){F+="<param>";F+=Seam.Remoting.serializeValue(G[D],null,A);F+="</param>"}F+="</params>";F+="<refs>";for(D=0;D<A.length;D++){F+='<ref id="'+D+'">';F+=Seam.Remoting.serializeType(A[D],A);F+="</ref>"}F+=
"</refs>";F+="</call>";return{data:F,id:E,callback:H}};Seam.Remoting.createHeader=function $Seam$Remoting$createHeader$(){var A="";A+="<context>";if(Seam.Remoting.getContext().getConversationId()){A+="<conversationId>";A+=Seam.Remoting.getContext().getConversationId();A+="</conversationId>"}A+="</context>";return A};
Seam.Remoting.createEnvelope=function $Seam$Remoting$createEnvelope$(C,A){var B="<envelope>";if(C){B+="<header>";B+=C;B+="</header>"}if(A){B+="<body>";B+=A;B+="</body>"}B+="</envelope>";return B};Seam.Remoting.pendingCalls=new Seam.Remoting.Map;Seam.Remoting.inBatch=false;Seam.Remoting.batchedCalls=new Array;Seam.Remoting.startBatch=function $Seam$Remoting$startBatch$(){Seam.Remoting.inBatch=true;Seam.Remoting.batchedCalls.length=0};
Seam.Remoting.executeBatch=function $Seam$Remoting$executeBatch$(){if(!Seam.Remoting.inBatch)return;var B="";for(var A=0;A<Seam.Remoting.batchedCalls.length;A++){Seam.Remoting.pendingCalls.put(Seam.Remoting.batchedCalls[A].id,Seam.Remoting.batchedCalls[A]);B+=Seam.Remoting.batchedCalls[A].data}var C=Seam.Remoting.createEnvelope(Seam.Remoting.createHeader(),B);Seam.Remoting.batchAsyncReq=Seam.Remoting.sendAjaxRequest(C,Seam.Remoting.PATH_EXECUTE,Seam.Remoting.processResponse,false);Seam.Remoting.inBatch=
false};Seam.Remoting.cancelBatch=function $Seam$Remoting$cancelBatch$(){Seam.Remoting.inBatch=false;for(var A=0;A<Seam.Remoting.batchedCalls.length;A++)Seam.Remoting.pendingCalls.remove(Seam.Remoting.batchedCalls[A].id)};
Seam.Remoting.cancelCall=function $Seam$Remoting$cancelCall$(B){var A=Seam.Remoting.pendingCalls.get(B);Seam.Remoting.pendingCalls.remove(B);if(A&&A.asyncReq){if(Seam.Remoting.pendingCalls.isEmpty())Seam.Remoting.hideLoadingMessage();window.setTimeout(function(){A.asyncReq.onreadystatechange=function $A$asyncReq$onreadystatechange$(){}},0);A.asyncReq.abort()}};
Seam.Remoting.execute=function $Seam$Remoting$execute$(B,A,E,F){var C=Seam.Remoting.createCall(B,A,E,F);if(Seam.Remoting.inBatch)Seam.Remoting.batchedCalls[Seam.Remoting.batchedCalls.length]=C;else{var D=Seam.Remoting.createEnvelope(Seam.Remoting.createHeader(),C.data);Seam.Remoting.pendingCalls.put(C.id,C);C.asyncReq=Seam.Remoting.sendAjaxRequest(D,Seam.Remoting.PATH_EXECUTE,Seam.Remoting.processResponse,false)}return C};
Seam.Remoting.sendAjaxRequest=function $Seam$Remoting$sendAjaxRequest$(E,D,F,A){Seam.Remoting.log("Request packet:\n"+E);if(!A)Seam.Remoting.displayLoadingMessage();var C;if(window.XMLHttpRequest){C=new XMLHttpRequest;if(C.overrideMimeType)C.overrideMimeType("text/xml")}else C=new ActiveXObject("Microsoft.XMLHTTP");var B=Seam.Remoting.requestCallback;window.setTimeout(function(){C.onreadystatechange=function $C$onreadystatechange$(){if(B)B(C,F)}},0);if(Seam.Remoting.encodedSessionId)D+=";jsessionid="+
Seam.Remoting.encodedSessionId;C.open("POST",Seam.Remoting.resourcePath+D,true);C.send(E);return C};Seam.Remoting.setCallback=function $Seam$Remoting$setCallback$(B,A,C){B.__callback[A]=C};
Seam.Remoting.requestCallback=function $Seam$Remoting$requestCallback$(C,G){if(C.readyState==4){var A=typeof Seam=="undefined"?false:true;if(A)Seam.Remoting.hideLoadingMessage();window.setTimeout(function(){C.onreadystatechange=function $C$onreadystatechange$(){}},0);if(C.status==200){if(A)Seam.Remoting.log("Response packet:\n"+C.responseText);if(G)try{C.responseXML.documentElement;G(C.responseXML)}catch(B){try{var E=new ActiveXObject("Microsoft.XMLDOM");E.async="false";E.loadXML(C.responseText);
G(E)}catch(D){var F=new DOMParser;G(F.parseFromString(C.responseText,"text/xml"))}}}else alert("There was an error processing your request.  Error code: "+C.status)}};
Seam.Remoting.processResponse=function $Seam$Remoting$processResponse$(H){var C;var F;var B=typeof Seam=="undefined"?false:true;if(!B)return;var E=new Seam.Remoting.__Context;if(H.documentElement)for(var D=0;D<H.documentElement.childNodes.length;D++){var G=H.documentElement.childNodes.item(D);if(G.tagName=="header")C=G;else if(G.tagName=="body")F=G}if(C){var A;for(D=0;D<C.childNodes.length;D++){G=C.childNodes.item(D);if(G.tagName=="context"){A=G;break}}if(A&&E){Seam.Remoting.unmarshalContext(A,E);
if(E.getConversationId()&&Seam.Remoting.getContext().getConversationId()==null)Seam.Remoting.getContext().setConversationId(E.getConversationId())}}if(F)for(D=0;D<F.childNodes.length;D++){G=F.childNodes.item(D);if(G.tagName=="result")Seam.Remoting.processResult(G,E)}};
Seam.Remoting.processResult=function $Seam$Remoting$processResult$(K,A){var E=K.getAttribute("id");var J=Seam.Remoting.pendingCalls.get(E);Seam.Remoting.pendingCalls.remove(E);if(J&&J.callback){var H=null;var B=null;var C=K.childNodes;for(var D=0;D<C.length;D++){var I=C.item(D).tagName;if(I=="value")H=C.item(D);else if(I=="refs")B=C.item(D)}var F=new Array;if(B)Seam.Remoting.unmarshalRefs(B,F);var G=Seam.Remoting.unmarshalValue(H.firstChild,F);J.callback(G,A,E)}};
Seam.Remoting.unmarshalContext=function $Seam$Remoting$unmarshalContext$(D,C){for(var B=0;B<D.childNodes.length;B++){var A=D.childNodes.item(B).tagName;if(A=="conversationId")C.setConversationId(D.childNodes.item(B).firstChild.nodeValue)}};
Seam.Remoting.unmarshalRefs=function $Seam$Remoting$unmarshalRefs$(C,J){var H=new Array;for(var G=0;G<C.childNodes.length;G++)if(C.childNodes.item(G).tagName=="ref"){var I=C.childNodes.item(G);var D=parseInt(I.getAttribute("id"));var L=I.firstChild;if(L.tagName=="bean"){var F=null;var K=L.getAttribute("type");if(Seam.Component.isRegistered(K))F=Seam.Component.newInstance(K);else F=Seam.Remoting.createType(K);if(F){J[D]=F;H[H.length]={obj:F,node:L}}}}for(G=0;G<H.length;G++)for(var E=0;E<H[G].node.childNodes.length;E++){var B=
H[G].node.childNodes.item(E);if(B.tagName=="member"){var A=B.getAttribute("name");H[G].obj[A]=Seam.Remoting.unmarshalValue(B.firstChild,J)}}};
Seam.Remoting.unmarshalValue=function $Seam$Remoting$unmarshalValue$(E,G){var J=E.tagName;switch(J){case "bool":return E.firstChild.nodeValue=="true";case "number":if(E.firstChild.nodeValue.indexOf(".")==-1)return parseInt(E.firstChild.nodeValue);else return parseFloat(E.firstChild.nodeValue);case "str":var D="";for(var F=0;F<E.childNodes.length;F++)if(E.childNodes[F].nodeType==3)D+=E.childNodes[F].nodeValue;return decodeURIComponent(D);case "ref":return G[parseInt(E.getAttribute("id"))];case "bag":var H=
new Array;for(F=0;F<E.childNodes.length;F++)if(E.childNodes.item(F).tagName=="element")H[H.length]=Seam.Remoting.unmarshalValue(E.childNodes.item(F).firstChild,G);return H;case "map":var B=new Seam.Remoting.Map;for(F=0;F<E.childNodes.length;F++){var A=E.childNodes.item(F);if(A.tagName=="element"){var I=null;H=null;for(var C=0;C<A.childNodes.length;C++)if(I==null&&A.childNodes.item(C).tagName=="k")I=Seam.Remoting.unmarshalValue(A.childNodes.item(C).firstChild,G);else if(H==null&&A.childNodes.item(C).tagName==
"v")H=Seam.Remoting.unmarshalValue(A.childNodes.item(C).firstChild,G);if(I!=null)B.put(I,H)}}return B;case "date":return Seam.Remoting.deserializeDate(E.firstChild.nodeValue);default:return null}};
Seam.Remoting.deserializeDate=function $Seam$Remoting$deserializeDate$(B){var A=new Date;A.setFullYear(parseInt(B.substring(0,4),10),parseInt(B.substring(4,6),10)-1,parseInt(B.substring(6,8),10));A.setHours(parseInt(B.substring(8,10),10));A.setMinutes(parseInt(B.substring(10,12),10));A.setSeconds(parseInt(B.substring(12,14),10));A.setMilliseconds(parseInt(B.substring(14,17),10));return A};Seam.Remoting.loadingMsgDiv=null;Seam.Remoting.loadingMessage="Please wait...";
Seam.Remoting.displayLoadingMessage=function $Seam$Remoting$displayLoadingMessage$(){if(!Seam.Remoting.loadingMsgDiv){Seam.Remoting.loadingMsgDiv=document.createElement("div");var A=Seam.Remoting.loadingMsgDiv;A.setAttribute("id","loadingMsg");A.style.position="absolute";A.style.top="0px";A.style.right="0px";A.style.background="red";A.style.color="white";A.style.fontFamily="Verdana,Helvetica,Arial";A.style.fontSize="small";A.style.padding="2px";A.style.border="1px solid black";document.body.appendChild(A);
var B=document.createTextNode(Seam.Remoting.loadingMessage);A.appendChild(B)}else{Seam.Remoting.loadingMsgDiv.innerHTML=Seam.Remoting.loadingMessage;Seam.Remoting.loadingMsgDiv.style.visibility="visible"}};Seam.Remoting.hideLoadingMessage=function $Seam$Remoting$hideLoadingMessage$(){if(Seam.Remoting.loadingMsgDiv)Seam.Remoting.loadingMsgDiv.style.visibility="hidden"};Seam.Remoting.pollInterval=10;Seam.Remoting.pollTimeout=0;Seam.Remoting.polling=false;
Seam.Remoting.setPollInterval=function $Seam$Remoting$setPollInterval$(A){Seam.Remoting.pollInterval=A};Seam.Remoting.setPollTimeout=function $Seam$Remoting$setPollTimeout$(A){Seam.Remoting.pollTimeout=A};Seam.Remoting.subscriptionRegistry=new Array;
Seam.Remoting.subscribe=function $Seam$Remoting$subscribe$(D,E){for(var B=0;B<Seam.Remoting.subscriptionRegistry.length;B++)if(Seam.Remoting.subscriptionRegistry[B].topic==D)return;var A='<subscribe topic="'+D+'"/>';var C=Seam.Remoting.createEnvelope(null,A);Seam.Remoting.subscriptionRegistry.push({topic:D,callback:E});Seam.Remoting.sendAjaxRequest(C,Seam.Remoting.PATH_SUBSCRIPTION,Seam.Remoting.subscriptionCallback,false)};
Seam.Remoting.unsubscribe=function $Seam$Remoting$unsubscribe$(E){var C=null;for(var B=0;B<Seam.Remoting.subscriptionRegistry.length;B++)if(Seam.Remoting.subscriptionRegistry[B].topic==E){C=Seam.Remoting.subscriptionRegistry[B].token;Seam.Remoting.subscriptionRegistry.splice(B,1)}if(C){var A='<unsubscribe token="'+C+'"/>';var D=Seam.Remoting.createEnvelope(null,A);Seam.Remoting.sendAjaxRequest(D,Seam.Remoting.PATH_SUBSCRIPTION,null,false)}};
Seam.Remoting.subscriptionCallback=function $Seam$Remoting$subscriptionCallback$(F){var A=F.documentElement.firstChild;for(var D=0;D<A.childNodes.length;D++){var E=A.childNodes.item(D);if(E.tagName=="subscription"){var B=E.getAttribute("topic");var C=E.getAttribute("token");for(D=0;D<Seam.Remoting.subscriptionRegistry.length;D++)if(Seam.Remoting.subscriptionRegistry[D].topic==B){Seam.Remoting.subscriptionRegistry[D].token=C;Seam.Remoting.poll();break}}}};Seam.Remoting.pollTimeoutFunction=null;
Seam.Remoting.poll=function $Seam$Remoting$poll$(){if(Seam.Remoting.polling)return;Seam.Remoting.polling=true;clearTimeout(Seam.Remoting.pollTimeoutFunction);var A="";if(Seam.Remoting.subscriptionRegistry.length==0){Seam.Remoting.polling=false;return}for(var B=0;B<Seam.Remoting.subscriptionRegistry.length;B++){A+='<poll token="'+Seam.Remoting.subscriptionRegistry[B].token+'" ';A+='timeout="'+Seam.Remoting.pollTimeout+'"/>'}var C=Seam.Remoting.createEnvelope(null,A);Seam.Remoting.sendAjaxRequest(C,
Seam.Remoting.PATH_POLL,Seam.Remoting.pollCallback,true)};Seam.Remoting.pollCallback=function $Seam$Remoting$pollCallback$(D){Seam.Remoting.polling=false;var A=D.documentElement.firstChild;for(var B=0;B<A.childNodes.length;B++){var C=A.childNodes.item(B);if(C.tagName=="messages")Seam.Remoting.processMessages(C);else if(C.tagName=="errors")Seam.Remoting.processPollErrors(C)}Seam.Remoting.pollTimeoutFunction=setTimeout("Seam.Remoting.poll()",Math.max(Seam.Remoting.pollInterval*1E3,1E3))};
Seam.Remoting.processMessages=function $Seam$Remoting$processMessages$(G){var E=G.getAttribute("token");var L=null;for(var H=0;H<Seam.Remoting.subscriptionRegistry.length;H++)if(Seam.Remoting.subscriptionRegistry[H].token==E){L=Seam.Remoting.subscriptionRegistry[H].callback;break}if(L!=null){var A=null;var C=G.childNodes;for(H=0;H<C.length;H++)if(C.item(H).tagName=="message"){A=C.item(H);var I=A.getAttribute("type");var M=null;var B=null;for(var F=0;F<A.childNodes.length;F++){var D=A.childNodes.item(F);
if(D.tagName=="value")M=D;else if(D.tagName=="refs")B=D}var J=new Array;if(B)Seam.Remoting.unmarshalRefs(B,J);var K=Seam.Remoting.unmarshalValue(M.firstChild,J);L(Seam.Remoting.createMessage(I,K))}}};
Seam.Remoting.processErrors=function $Seam$Remoting$processErrors$(F){var B=F.getAttribute("token");for(var A=0;A<Seam.Remoting.subscriptionRegistry.length;A++)if(Seam.Remoting.subscriptionRegistry[A].token==B){Seam.Remoting.subscriptionRegistry.splice(A,1);break}for(A=0;A<F.childNodes.length;A++)if(F.childNodes.item(A).tagName=="error"){var E=F.childNodes.item(A);var D=E.getAttribute("code");var C=E.firstChild.nodeValue;if(Seam.Remoting.onPollError)Seam.Remoting.onPollError(D,C);else alert("A polling error occurred: "+
D+" "+C)}};Seam.Remoting.ObjectMessage=function $Seam$Remoting$ObjectMessage$(){this.value=null;Seam.Remoting.ObjectMessage.prototype.getValue=function $Seam$Remoting$ObjectMessage$$getValue$(){return this.value};Seam.Remoting.ObjectMessage.prototype.setValue=function $Seam$Remoting$ObjectMessage$$setValue$(A){this.value=A}};
Seam.Remoting.TextMessage=function $Seam$Remoting$TextMessage$(){this.text=null;Seam.Remoting.TextMessage.prototype.getText=function $Seam$Remoting$TextMessage$$getText$(){return this.text};Seam.Remoting.TextMessage.prototype.setText=function $Seam$Remoting$TextMessage$$setText$(A){this.text=A}};
Seam.Remoting.createMessage=function $Seam$Remoting$createMessage$(A,B){switch(A){case "object":var C=new Seam.Remoting.ObjectMessage;C.setValue(B);return C;case "text":C=new Seam.Remoting.TextMessage;C.setText(B);return C}return null};Seam.Remoting.resourcePath="/seam/resource/remoting";Seam.Remoting.debug=false;Seam.Remoting.pollInterval=1;Seam.Remoting.pollTimeout=10;function twitterCallback(twitters){var statusHTML=[];var followerHTML=[];for(var i=0;i<twitters.length;i++){var username=twitters[i].user.screen_name;var status=twitters[i].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(url){return'<a href="'+url+'" target="_twitter">'+url+"</a>"}).replace(/\B@([_a-z0-9]+)/ig,function(reply){return reply.charAt(0)+'<a href="http://twitter.com/'+reply.substring(1)+'" target="_twitter">'+reply.substring(1)+"</a>"});statusHTML.push("<li><span>"+
status+'</span> <a style="font-size:85%" href="http://twitter.com/'+username+"/statuses/"+twitters[i].id+'" target="_twitter">'+relative_time(twitters[i].created_at)+"</a></li>");if(i==1)followerHTML.push(twitters[i].user.followers_count+" followers, following "+twitters[i].user.friends_count)}document.getElementById("twitter-update-list").innerHTML=statusHTML.join("");document.getElementById("twitter-update-user").innerHTML=followerHTML.join("");jQuery("#twitter-update-panel").fadeIn("slow")}
function relative_time(time_value){var values=time_value.split(" ");time_value=values[1]+" "+values[2]+", "+values[5]+" "+values[3];var parsed_date=Date.parse(time_value);var relative_to=arguments.length>1?arguments[1]:new Date;var delta=parseInt((relative_to.getTime()-parsed_date)/1E3);delta=delta+relative_to.getTimezoneOffset()*60;if(delta<60)return"less than a minute ago";else if(delta<120)return"about a minute ago";else if(delta<60*60)return parseInt(delta/60).toString()+" minutes ago";else if(delta<
120*60)return"about an hour ago";else if(delta<24*60*60)return"about "+parseInt(delta/3600).toString()+" hours ago";else if(delta<48*60*60)return"1 day ago";else return parseInt(delta/86400).toString()+" days ago"};/*
 Highcharts JS v2.3.2 (2012-08-31)

 (c) 2009-2011 Torstein Hønsi

 License: www.highcharts.com/license
*/
(function(){function extend(a,b){var n;if(!a)a={};for(n in b)a[n]=b[n];return a}function hash(){var i=0;var args=arguments;var length=args.length;for(var obj={};i<length;i++)obj[args[i++]]=args[i];return obj}function pInt(s,mag){return parseInt(s,mag||10)}function isString(s){return typeof s==="string"}function isObject(obj){return typeof obj==="object"}function isArray(obj){return Object.prototype.toString.call(obj)==="[object Array]"}function isNumber(n){return typeof n==="number"}function log2lin(num){return math.log(num)/
math.LN10}function lin2log(num){return math.pow(10,num)}function erase(arr,item){for(var i=arr.length;i--;)if(arr[i]===item){arr.splice(i,1);break}}function defined(obj){return obj!==UNDEFINED&&obj!==null}function attr$$0(elem,prop,value){var key;var setAttribute="setAttribute";var ret;if(isString(prop))if(defined(value))elem[setAttribute](prop,value);else{if(elem&&elem.getAttribute)ret=elem.getAttribute(prop)}else if(defined(prop)&&isObject(prop))for(key in prop)elem[setAttribute](key,prop[key]);
return ret}function splat(obj){return isArray(obj)?obj:[obj]}function pick(){var args=arguments;var i;var arg;var length=args.length;for(i=0;i<length;i++){arg=args[i];if(typeof arg!=="undefined"&&arg!==null)return arg}}function css(el,styles){if(isIE)if(styles&&styles.opacity!==UNDEFINED)styles.filter="alpha(opacity="+styles.opacity*100+")";extend(el.style,styles)}function createElement(tag,attribs,styles,parent,nopad){var el=doc.createElement(tag);if(attribs)extend(el,attribs);if(nopad)css(el,{padding:0,
border:NONE,margin:0});if(styles)css(el,styles);if(parent)parent.appendChild(el);return el}function extendClass(parent,members){var object=function $object$(){};object.prototype=new parent;extend(object.prototype,members);return object}function getDecimals(number){number=(number||0).toString();return number.indexOf(".")>-1?number.split(".")[1].length:0}function numberFormat(number,decimals,decPoint,thousandsSep){var lang=defaultOptions.lang;var n=number;var c=decimals===-1?getDecimals(number):isNaN(decimals=
mathAbs(decimals))?2:decimals;var d=decPoint===undefined?lang.decimalPoint:decPoint;var t=thousandsSep===undefined?lang.thousandsSep:thousandsSep;var s=n<0?"-":"";var i=String(pInt(n=mathAbs(+n||0).toFixed(c)));var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+mathAbs(n-i).toFixed(c).slice(2):"")}function pad(number,length){return(new Array((length||2)+1-String(number).length)).join(0)+number}function wrap(obj,method,func){var proceed=
obj[method];obj[method]=function $obj$method$(){var args=Array.prototype.slice.call(arguments);args.unshift(proceed);return func.apply(this,args)}}function normalizeTickInterval(interval,multiples,magnitude,options){var normalized;var i;magnitude=pick(magnitude,1);normalized=interval/magnitude;if(!multiples){multiples=[1,2,2.5,5,10];if(options&&options.allowDecimals===false)if(magnitude===1)multiples=[1,2,5,10];else if(magnitude<=0.1)multiples=[1/magnitude]}for(i=0;i<multiples.length;i++){interval=
multiples[i];if(normalized<=(multiples[i]+(multiples[i+1]||multiples[i]))/2)break}interval*=magnitude;return interval}function normalizeTimeTickInterval(tickInterval,unitsOption){var units=unitsOption||[[MILLISECOND,[1,2,5,10,20,25,50,100,200,500]],[SECOND,[1,2,5,10,15,30]],[MINUTE,[1,2,5,10,15,30]],[HOUR,[1,2,3,4,6,8,12]],[DAY,[1,2]],[WEEK,[1,2]],[MONTH,[1,2,3,4,6]],[YEAR,null]];var unit=units[units.length-1];var interval=timeUnits[unit[0]];var multiples=unit[1];var count;var i;for(i=0;i<units.length;i++){unit=
units[i];interval=timeUnits[unit[0]];multiples=unit[1];if(units[i+1]){var lessThan=(interval*multiples[multiples.length-1]+timeUnits[units[i+1][0]])/2;if(tickInterval<=lessThan)break}}if(interval===timeUnits[YEAR]&&tickInterval<5*interval)multiples=[1,2,5];if(interval===timeUnits[YEAR]&&tickInterval<5*interval)multiples=[1,2,5];count=normalizeTickInterval(tickInterval/interval,multiples);return{unitRange:interval,count:count,unitName:unit[0]}}function getTimeTicks(normalizedInterval,min,max,startOfWeek){var tickPositions=
[];var i;var higherRanks={};var useUTC=defaultOptions.global.useUTC;var minYear;var minDate=new Date(min);var interval=normalizedInterval.unitRange;var count=normalizedInterval.count;if(interval>=timeUnits[SECOND]){minDate.setMilliseconds(0);minDate.setSeconds(interval>=timeUnits[MINUTE]?0:count*mathFloor(minDate.getSeconds()/count))}if(interval>=timeUnits[MINUTE])minDate[setMinutes](interval>=timeUnits[HOUR]?0:count*mathFloor(minDate[getMinutes]()/count));if(interval>=timeUnits[HOUR])minDate[setHours](interval>=
timeUnits[DAY]?0:count*mathFloor(minDate[getHours]()/count));if(interval>=timeUnits[DAY])minDate[setDate](interval>=timeUnits[MONTH]?1:count*mathFloor(minDate[getDate]()/count));if(interval>=timeUnits[MONTH]){minDate[setMonth](interval>=timeUnits[YEAR]?0:count*mathFloor(minDate[getMonth]()/count));minYear=minDate[getFullYear]()}if(interval>=timeUnits[YEAR]){minYear-=minYear%count;minDate[setFullYear](minYear)}if(interval===timeUnits[WEEK])minDate[setDate](minDate[getDate]()-minDate[getDay]()+pick(startOfWeek,
1));i=1;minYear=minDate[getFullYear]();var time=minDate.getTime();var minMonth=minDate[getMonth]();var minDateDate=minDate[getDate]();for(var timezoneOffset=useUTC?0:(24*3600*1E3+minDate.getTimezoneOffset()*60*1E3)%(24*3600*1E3);time<max;){tickPositions.push(time);if(interval===timeUnits[YEAR])time=makeTime(minYear+i*count,0);else if(interval===timeUnits[MONTH])time=makeTime(minYear,minMonth+i*count);else if(!useUTC&&(interval===timeUnits[DAY]||interval===timeUnits[WEEK]))time=makeTime(minYear,minMonth,
minDateDate+i*count*(interval===timeUnits[DAY]?1:7));else{time+=interval*count;if(interval<=timeUnits[HOUR]&&time%timeUnits[DAY]===timezoneOffset)higherRanks[time]=DAY}i++}tickPositions.push(time);tickPositions.info=extend(normalizedInterval,{higherRanks:higherRanks,totalRange:interval*count});return tickPositions}function ChartCounters(){this.color=0;this.symbol=0}function stableSort(arr,sortFunction){var length=arr.length;var sortValue;var i;for(i=0;i<length;i++)arr[i].ss_i=i;arr.sort(function(a,
b){sortValue=sortFunction(a,b);return sortValue===0?a.ss_i-b.ss_i:sortValue});for(i=0;i<length;i++)delete arr[i].ss_i}function arrayMin(data){var i=data.length;for(var min=data[0];i--;)if(data[i]<min)min=data[i];return min}function arrayMax(data){var i=data.length;for(var max=data[0];i--;)if(data[i]>max)max=data[i];return max}function destroyObjectProperties(obj,except){for(var n in obj){if(obj[n]&&obj[n]!==except&&obj[n].destroy)obj[n].destroy();delete obj[n]}}function discardElement(element){if(!garbageBin)garbageBin=
createElement(DIV);if(element)garbageBin.appendChild(element);garbageBin.innerHTML=""}function error(code,stop){var msg="Highcharts error #"+code+": www.highcharts.com/errors/"+code;if(stop)throw msg;else if(win.console)console.log(msg)}function correctFloat(num){return parseFloat(num.toPrecision(14))}function setAnimation(animation,chart){globalAnimation=pick(animation,chart.animation)}function setTimeMethods(){var useUTC=defaultOptions.global.useUTC;var GET=useUTC?"getUTC":"get";var SET=useUTC?
"setUTC":"set";makeTime=useUTC?Date.UTC:function(year,month,date,hours,minutes,seconds){return(new Date(year,month,pick(date,1),pick(hours,0),pick(minutes,0),pick(seconds,0))).getTime()};getMinutes=GET+"Minutes";getHours=GET+"Hours";getDay=GET+"Day";getDate=GET+"Date";getMonth=GET+"Month";getFullYear=GET+"FullYear";setMinutes=SET+"Minutes";setHours=SET+"Hours";setDate=SET+"Date";setMonth=SET+"Month";setFullYear=SET+"FullYear"}function setOptions(options){defaultOptions=merge(defaultOptions,options);
setTimeMethods();return defaultOptions}function getOptions(){return defaultOptions}function SVGElement(){}function Tick(axis,pos,type){this.axis=axis;this.pos=pos;this.type=type||"";this.isNew=true;if(!type)this.addLabel()}function PlotLineOrBand(axis,options){this.axis=axis;if(options){this.options=options;this.id=options.id}return this}function StackItem(axis,options,isNegative,x,stackOption){var inverted=axis.chart.inverted;this.axis=axis;this.isNegative=isNegative;this.options=options;this.x=
x;this.stack=stackOption;this.alignOptions={align:options.align||(inverted?isNegative?"left":"right":"center"),verticalAlign:options.verticalAlign||(inverted?"middle":isNegative?"bottom":"top"),y:pick(options.y,inverted?4:isNegative?14:-6),x:pick(options.x,inverted?isNegative?-6:6:0)};this.textAlign=options.textAlign||(inverted?isNegative?"right":"left":"center")}function Axis(){this.init.apply(this,arguments)}function Tooltip(chart,options){var borderWidth=options.borderWidth;var style=options.style;
var padding=pInt(style.padding);this.chart=chart;this.options=options;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=true;this.label=chart.renderer.label("",0,0,options.shape,null,null,options.useHTML,null,"tooltip").attr({padding:padding,fill:options.backgroundColor,"stroke-width":borderWidth,r:options.borderRadius,zIndex:8}).css(style).css({padding:0}).hide().add();if(!useCanVG)this.label.shadow(options.shadow);this.shared=options.shared}function MouseTracker(chart,options){var zoomType=useCanVG?
"":options.chart.zoomType;this.zoomX=/x/.test(zoomType);this.zoomY=/y/.test(zoomType);this.options=options;this.chart=chart;this.init(chart,options.tooltip)}function Legend(chart){this.init(chart)}function Chart(userOptions,callback){var options;var seriesOptions=userOptions.series;userOptions.series=null;options=merge(defaultOptions,userOptions);options.series=userOptions.series=seriesOptions;var optionsChart=options.chart;var optionsMargin=optionsChart.margin;var margin=isObject(optionsMargin)?
optionsMargin:[optionsMargin,optionsMargin,optionsMargin,optionsMargin];this.optionsMarginTop=pick(optionsChart.marginTop,margin[0]);this.optionsMarginRight=pick(optionsChart.marginRight,margin[1]);this.optionsMarginBottom=pick(optionsChart.marginBottom,margin[2]);this.optionsMarginLeft=pick(optionsChart.marginLeft,margin[3]);var chartEvents=optionsChart.events;this.runChartClick=chartEvents&&!!chartEvents.click;this.callback=callback;this.isResizing=0;this.options=options;this.axes=[];this.series=
[];this.hasCartesianSeries=optionsChart.showAxes;this.init(chartEvents)}var UNDEFINED;var doc=document;var win=window;var math=Math;var mathRound=math.round;var mathFloor=math.floor;var mathCeil=math.ceil;var mathMax=math.max;var mathMin=math.min;var mathAbs=math.abs;var mathCos=math.cos;var mathSin=math.sin;var mathPI=math.PI;var deg2rad=mathPI*2/360;var userAgent=navigator.userAgent;var isOpera=win.opera;var isIE=/msie/i.test(userAgent)&&!isOpera;var docMode8=doc.documentMode===8;var isWebKit=/AppleWebKit/.test(userAgent);
var isFirefox=/Firefox/.test(userAgent);var SVG_NS="http://www.w3.org/2000/svg";var hasSVG=!!doc.createElementNS&&!!doc.createElementNS(SVG_NS,"svg").createSVGRect;var hasBidiBug=isFirefox&&parseInt(userAgent.split("Firefox/")[1],10)<4;var useCanVG=!hasSVG&&!isIE&&!!doc.createElement("canvas").getContext;var Renderer;var hasTouch=doc.documentElement.ontouchstart!==UNDEFINED;var symbolSizes={};var idCounter=0;var garbageBin;var defaultOptions;var dateFormat;var globalAnimation;var pathAnim;var timeUnits;
var noop=function $noop$(){};var DIV="div";var ABSOLUTE="absolute";var RELATIVE="relative";var HIDDEN="hidden";var PREFIX="highcharts-";var VISIBLE="visible";var PX="px";var NONE="none";var M="M";var L="L";var TRACKER_FILL="rgba(192,192,192,"+(hasSVG?1.0E-6:0.0020)+")";var NORMAL_STATE="";var HOVER_STATE="hover";var SELECT_STATE="select";var MILLISECOND="millisecond";var SECOND="second";var MINUTE="minute";var HOUR="hour";var DAY="day";var WEEK="week";var MONTH="month";var YEAR="year";var FILL="fill";
var LINEAR_GRADIENT="linearGradient";var STOPS="stops";var STROKE="stroke";var STROKE_WIDTH="stroke-width";var makeTime;var getMinutes;var getHours;var getDay;var getDate;var getMonth;var getFullYear;var setMinutes;var setHours;var setDate;var setMonth;var setFullYear;var seriesTypes={};win.Highcharts={};dateFormat=function $dateFormat$(format,timestamp,capitalize){if(!defined(timestamp)||isNaN(timestamp))return"Invalid date";format=pick(format,"%Y-%m-%d %H:%M:%S");var date=new Date(timestamp);var key;
var hours=date[getHours]();var day=date[getDay]();var dayOfMonth=date[getDate]();var month=date[getMonth]();var fullYear=date[getFullYear]();var lang=defaultOptions.lang;var langWeekdays=lang.weekdays;var replacements={a:langWeekdays[day].substr(0,3),A:langWeekdays[day],d:pad(dayOfMonth),e:dayOfMonth,b:lang.shortMonths[month],B:lang.months[month],m:pad(month+1),y:fullYear.toString().substr(2,2),Y:fullYear,H:pad(hours),I:pad(hours%12||12),l:hours%12||12,M:pad(date[getMinutes]()),p:hours<12?"AM":"PM",
P:hours<12?"am":"pm",S:pad(date.getSeconds()),L:pad(mathRound(timestamp%1E3),3)};for(key in replacements)format=format.replace("%"+key,replacements[key]);return capitalize?format.substr(0,1).toUpperCase()+format.substr(1):format};ChartCounters.prototype={wrapColor:function $ChartCounters$$wrapColor$(length){if(this.color>=length)this.color=0},wrapSymbol:function $ChartCounters$$wrapSymbol$(length){if(this.symbol>=length)this.symbol=0}};timeUnits=hash(MILLISECOND,1,SECOND,1E3,MINUTE,6E4,HOUR,36E5,
DAY,24*36E5,WEEK,7*24*36E5,MONTH,30*24*36E5,YEAR,31556952E3);pathAnim={init:function $pathAnim$init$(elem,fromD,toD){fromD=fromD||"";var shift=elem.shift;var bezier=fromD.indexOf("C")>-1;var numParams=bezier?7:3;var endLength;var slice;var i;var start=fromD.split(" ");var end=[].concat(toD);var startBaseLine;var endBaseLine;var sixify=function $sixify$(arr){for(i=arr.length;i--;)if(arr[i]===M)arr.splice(i+1,0,arr[i+1],arr[i+2],arr[i+1],arr[i+2])};if(bezier){sixify(start);sixify(end)}if(elem.isArea){startBaseLine=
start.splice(start.length-6,6);endBaseLine=end.splice(end.length-6,6)}if(shift<=end.length/numParams)for(;shift--;)end=[].concat(end).splice(0,numParams).concat(end);elem.shift=0;if(start.length)for(endLength=end.length;start.length<endLength;){slice=[].concat(start).splice(start.length-numParams,numParams);if(bezier){slice[numParams-6]=slice[numParams-2];slice[numParams-5]=slice[numParams-1]}start=start.concat(slice)}if(startBaseLine){start=start.concat(startBaseLine);end=end.concat(endBaseLine)}return[start,
end]},step:function $pathAnim$step$(start,end,pos,complete){var ret=[];var i=start.length;var startVal;if(pos===1)ret=complete;else if(i===end.length&&pos<1)for(;i--;){startVal=parseFloat(start[i]);ret[i]=isNaN(startVal)?start[i]:pos*parseFloat(end[i]-startVal)+startVal}else ret=end;return ret}};(function($){win.HighchartsAdapter=win.HighchartsAdapter||$&&{init:function(pathAnim){var Fx=$.fx;var Step=Fx.step;var dSetter;var Tween=$.Tween;var propHooks=Tween&&Tween.propHooks;$.extend($.easing,{easeOutQuad:function(x,
t,b,c,d){return-c*(t/=d)*(t-2)+b}});$.each(["cur","_default","width","height"],function(i,fn){var obj=Step;var base;var elem;if(fn==="cur")obj=Fx.prototype;else if(fn==="_default"&&Tween){obj=propHooks[fn];fn="set"}base=obj[fn];if(base)obj[fn]=function $obj$fn$(fx){fx=i?fx:this;elem=fx.elem;return elem.attr?elem.attr(fx.prop,fn==="cur"?UNDEFINED:fx.now):base.apply(this,arguments)}});dSetter=function $dSetter$(fx){var elem=fx.elem;var ends;if(!fx.started){ends=pathAnim.init(elem,elem.d,elem.toD);fx.start=
ends[0];fx.end=ends[1];fx.started=true}elem.attr("d",pathAnim.step(fx.start,fx.end,fx.pos,elem.toD))};if(Tween)propHooks.d={set:dSetter};else Step.d=dSetter;this.each=Array.prototype.forEach?function(arr,fn){return Array.prototype.forEach.call(arr,fn)}:function(arr,fn){var i=0;for(var len=arr.length;i<len;i++)if(fn.call(arr[i],arr[i],i,arr)===false)return i}},getScript:$.getScript,inArray:$.inArray,adapterRun:function(elem,method){return $(elem)[method]()},grep:$.grep,map:function(arr,fn){var results=
[];var i=0;for(var len=arr.length;i<len;i++)results[i]=fn.call(arr[i],arr[i],i,arr);return results},merge:function(){var args=arguments;return $.extend(true,null,args[0],args[1],args[2],args[3])},offset:function(el){return $(el).offset()},addEvent:function(el,event,fn){$(el).bind(event,fn)},removeEvent:function(el,eventType,handler){var func=doc.removeEventListener?"removeEventListener":"detachEvent";if(doc[func]&&!el[func])el[func]=function $el$func$(){};$(el).unbind(eventType,handler)},fireEvent:function(el,
type,eventArguments,defaultFunction){var event=$.Event(type);var detachedType="detached"+type;var defaultPrevented;if(!isIE&&eventArguments){delete eventArguments.layerX;delete eventArguments.layerY}extend(event,eventArguments);if(el[type]){el[detachedType]=el[type];el[type]=null}$.each(["preventDefault","stopPropagation"],function(i,fn){var base=event[fn];event[fn]=function $event$fn$(){try{base.call(event)}catch(e){if(fn==="preventDefault")defaultPrevented=true}}});$(el).trigger(event);if(el[detachedType]){el[type]=
el[detachedType];el[detachedType]=null}if(defaultFunction&&!event.isDefaultPrevented()&&!defaultPrevented)defaultFunction(event)},washMouseEvent:function(e){var ret=e.originalEvent||e;ret.pageX=e.pageX;ret.pageY=e.pageY;return ret},animate:function(el,params,options){var $el=$(el);if(params.d){el.toD=params.d;params.d=1}$el.stop();$el.animate(params,options)},stop:function(el){$(el).stop()}}})(win.jQuery);var globalAdapter=win.HighchartsAdapter;var adapter=globalAdapter||{};if(globalAdapter)globalAdapter.init.call(globalAdapter,
pathAnim);var adapterRun=adapter.adapterRun;var getScript=adapter.getScript;var inArray=adapter.inArray;var each=adapter.each;var grep=adapter.grep;var offset$$0=adapter.offset;var map=adapter.map;var merge=adapter.merge;var addEvent=adapter.addEvent;var removeEvent=adapter.removeEvent;var fireEvent=adapter.fireEvent;var washMouseEvent=adapter.washMouseEvent;var animate=adapter.animate;var stop$$0=adapter.stop;var defaultLabelOptions={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",
lineHeight:"14px"}};defaultOptions={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday",
"Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true,canvasToolsURL:"http://code.highcharts.com/2.3.2/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.2/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',
fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1E3},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:true},
select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:merge(defaultLabelOptions,{enabled:false,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:ABSOLUTE,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function $defaultOptions$legend$labelFormatter$(){return this.name},borderWidth:1,borderColor:"#909090",
borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:false,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:ABSOLUTE,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:RELATIVE,top:"1em"},style:{position:ABSOLUTE,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:true,
backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:true,shared:useCanVG,snap:hasTouch?25:10,style:{color:"#333333",
fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var defaultPlotOptions=defaultOptions.plotOptions;var defaultSeriesOptions=defaultPlotOptions.line;setTimeMethods();var Color=function $Color$(input$$0){function init(input){result=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(input);
if(result)rgba=[pInt(result[1]),pInt(result[2]),pInt(result[3]),parseFloat(result[4],10)];else{result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(input);if(result)rgba=[pInt(result[1],16),pInt(result[2],16),pInt(result[3],16),1]}}function get(format){var ret;if(rgba&&!isNaN(rgba[0]))if(format==="rgb")ret="rgb("+rgba[0]+","+rgba[1]+","+rgba[2]+")";else if(format==="a")ret=rgba[3];else ret="rgba("+rgba.join(",")+")";else ret=input$$0;return ret}function brighten(alpha){if(isNumber(alpha)&&
alpha!==0){var i;for(i=0;i<3;i++){rgba[i]+=pInt(alpha*255);if(rgba[i]<0)rgba[i]=0;if(rgba[i]>255)rgba[i]=255}}return this}function setOpacity(alpha){rgba[3]=alpha;return this}var rgba=[];var result;init(input$$0);return{get:get,brighten:brighten,setOpacity:setOpacity}};SVGElement.prototype={init:function $SVGElement$$init$(renderer,nodeName){var wrapper=this;wrapper.element=nodeName==="span"?createElement(nodeName):doc.createElementNS(SVG_NS,nodeName);wrapper.renderer=renderer;wrapper.attrSetters=
{}},animate:function $SVGElement$$animate$(params,options,complete){var animOptions=pick(options,globalAnimation,true);stop$$0(this);if(animOptions){animOptions=merge(animOptions);if(complete)animOptions.complete=complete;animate(this,params,animOptions)}else{this.attr(params);if(complete)complete()}},attr:function $SVGElement$$attr$(hash,val){var wrapper=this;var key;var value;var result;var i;var child;var element=wrapper.element;var nodeName=element.nodeName;var renderer=wrapper.renderer;var skipAttr;
var titleNode;var attrSetters=wrapper.attrSetters;var shadows=wrapper.shadows;var hasSetSymbolSize;var doTransform;var ret=wrapper;if(isString(hash)&&defined(val)){key=hash;hash={};hash[key]=val}if(isString(hash)){key=hash;if(nodeName==="circle")key={x:"cx",y:"cy"}[key]||key;else if(key==="strokeWidth")key="stroke-width";ret=attr$$0(element,key)||wrapper[key]||0;if(key!=="d"&&key!=="visibility")ret=parseFloat(ret)}else for(key in hash){skipAttr=false;value=hash[key];result=attrSetters[key]&&attrSetters[key].call(wrapper,
value,key);if(result!==false){if(result!==UNDEFINED)value=result;if(key==="d"){if(value&&value.join)value=value.join(" ");if(/(NaN| {2}|^$)/.test(value))value="M 0 0"}else if(key==="x"&&nodeName==="text"){for(i=0;i<element.childNodes.length;i++){child=element.childNodes[i];if(attr$$0(child,"x")===attr$$0(element,"x"))attr$$0(child,"x",value)}if(wrapper.rotation)attr$$0(element,"transform","rotate("+wrapper.rotation+" "+value+" "+pInt(hash.y||attr$$0(element,"y"))+")")}else if(key==="fill")value=renderer.color(value,
element,key);else if(nodeName==="circle"&&(key==="x"||key==="y"))key={x:"cx",y:"cy"}[key]||key;else if(nodeName==="rect"&&key==="r"){attr$$0(element,{rx:value,ry:value});skipAttr=true}else if(key==="translateX"||key==="translateY"||key==="rotation"||key==="verticalAlign"){doTransform=true;skipAttr=true}else if(key==="stroke")value=renderer.color(value,element,key);else if(key==="dashstyle"){key="stroke-dasharray";value=value&&value.toLowerCase();if(value==="solid")value=NONE;else if(value){value=
value.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(i=value.length;i--;)value[i]=pInt(value[i])*hash["stroke-width"];value=value.join(",")}}else if(key==="isTracker")wrapper[key]=value;else if(key==="width")value=pInt(value);else if(key==="align"){key="text-anchor";value={left:"start",center:"middle",right:"end"}[value]}else if(key===
"title"){titleNode=element.getElementsByTagName("title")[0];if(!titleNode){titleNode=doc.createElementNS(SVG_NS,"title");element.appendChild(titleNode)}titleNode.textContent=value}if(key==="strokeWidth")key="stroke-width";if(isWebKit&&key==="stroke-width"&&value===0)value=1.0E-6;if(wrapper.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(key)){if(!hasSetSymbolSize){wrapper.symbolAttr(hash);hasSetSymbolSize=true}skipAttr=true}if(shadows&&/^(width|height|visibility|x|y|d|transform)$/.test(key))for(i=
shadows.length;i--;)attr$$0(shadows[i],key,key==="height"?mathMax(value-(shadows[i].cutHeight||0),0):value);if((key==="width"||key==="height")&&nodeName==="rect"&&value<0)value=0;wrapper[key]=value;if(doTransform)wrapper.updateTransform();if(key==="text"){if(value!==wrapper.textStr)delete wrapper.bBox;wrapper.textStr=value;if(wrapper.added)renderer.buildText(wrapper)}else if(!skipAttr)attr$$0(element,key,value)}}return ret},symbolAttr:function $SVGElement$$symbolAttr$(hash){var wrapper=this;each(["x",
"y","r","start","end","width","height","innerR","anchorX","anchorY"],function(key){wrapper[key]=pick(hash[key],wrapper[key])});wrapper.attr({d:wrapper.renderer.symbols[wrapper.symbolName](wrapper.x,wrapper.y,wrapper.width,wrapper.height,wrapper)})},clip:function $SVGElement$$clip$(clipRect){return this.attr("clip-path",clipRect?"url("+this.renderer.url+"#"+clipRect.id+")":NONE)},crisp:function $SVGElement$$crisp$(strokeWidth,x,y,width,height){var wrapper=this;var key;var attribs={};var values={};
var normalizer;strokeWidth=strokeWidth||wrapper.strokeWidth||wrapper.attr&&wrapper.attr("stroke-width")||0;normalizer=mathRound(strokeWidth)%2/2;values.x=mathFloor(x||wrapper.x||0)+normalizer;values.y=mathFloor(y||wrapper.y||0)+normalizer;values.width=mathFloor((width||wrapper.width||0)-2*normalizer);values.height=mathFloor((height||wrapper.height||0)-2*normalizer);values.strokeWidth=strokeWidth;for(key in values)if(wrapper[key]!==values[key])wrapper[key]=attribs[key]=values[key];return attribs},
css:function $SVGElement$$css$(styles){var elemWrapper=this;var elem=elemWrapper.element;var textWidth=styles&&styles.width&&elem.nodeName==="text";var n;var serializedCss="";var hyphenate=function $hyphenate$(a,b){return"-"+b.toLowerCase()};if(styles&&styles.color)styles.fill=styles.color;styles=extend(elemWrapper.styles,styles);elemWrapper.styles=styles;if(isIE&&!hasSVG){if(textWidth)delete styles.width;css(elemWrapper.element,styles)}else{for(n in styles)serializedCss+=n.replace(/([A-Z])/g,hyphenate)+
":"+styles[n]+";";elemWrapper.attr({style:serializedCss})}if(textWidth&&elemWrapper.added)elemWrapper.renderer.buildText(elemWrapper);return elemWrapper},on:function $SVGElement$$on$(eventType,handler){var fn=handler;if(hasTouch&&eventType==="click"){eventType="touchstart";fn=function $fn$(e){e.preventDefault();handler()}}this.element["on"+eventType]=fn;return this},setRadialReference:function $SVGElement$$setRadialReference$(coordinates){this.element.radialReference=coordinates;return this},translate:function $SVGElement$$translate$(x,
y){return this.attr({translateX:x,translateY:y})},invert:function $SVGElement$$invert$(){var wrapper=this;wrapper.inverted=true;wrapper.updateTransform();return wrapper},htmlCss:function $SVGElement$$htmlCss$(styles){var wrapper=this;var element=wrapper.element;var textWidth=styles&&element.tagName==="SPAN"&&styles.width;if(textWidth){delete styles.width;wrapper.textWidth=textWidth;wrapper.updateTransform()}wrapper.styles=extend(wrapper.styles,styles);css(wrapper.element,styles);return wrapper},htmlGetBBox:function $SVGElement$$htmlGetBBox$(){var wrapper=
this;var element=wrapper.element;var bBox=wrapper.bBox;if(!bBox){if(element.nodeName==="text")element.style.position=ABSOLUTE;bBox=wrapper.bBox={x:element.offsetLeft,y:element.offsetTop,width:element.offsetWidth,height:element.offsetHeight}}return bBox},htmlUpdateTransform:function $SVGElement$$htmlUpdateTransform$(){if(!this.added){this.alignOnAdd=true;return}var wrapper=this;var renderer=wrapper.renderer;var elem=wrapper.element;var translateX=wrapper.translateX||0;var translateY=wrapper.translateY||
0;var x=wrapper.x||0;var y=wrapper.y||0;var align=wrapper.textAlign||"left";var alignCorrection={left:0,center:0.5,right:1}[align];var nonLeft=align&&align!=="left";var shadows=wrapper.shadows;if(translateX||translateY){css(elem,{marginLeft:translateX,marginTop:translateY});if(shadows)each(shadows,function(shadow){css(shadow,{marginLeft:translateX+1,marginTop:translateY+1})})}if(wrapper.inverted)each(elem.childNodes,function(child){renderer.invertChild(child,elem)});if(elem.tagName==="SPAN"){var width;
var height;var rotation=wrapper.rotation;var baseline;var radians=0;var costheta=1;var sintheta=0;var quad;var textWidth=pInt(wrapper.textWidth);var xCorr=wrapper.xCorr||0;var yCorr=wrapper.yCorr||0;var currentTextTransform=[rotation,align,elem.innerHTML,wrapper.textWidth].join(",");var rotationStyle={};var prefix;if(currentTextTransform!==wrapper.cTT){if(defined(rotation)){if(renderer.isSVG){prefix=isIE?"-ms":isWebKit?"-webkit":isFirefox?"-moz":isOpera?"-o":"";rotationStyle[prefix+"-transform"]=
rotationStyle.transform="rotate("+rotation+"deg)"}else{radians=rotation*deg2rad;costheta=mathCos(radians);sintheta=mathSin(radians);rotationStyle.filter=rotation?["progid:DXImageTransform.Microsoft.Matrix(M11=",costheta,", M12=",-sintheta,", M21=",sintheta,", M22=",costheta,", sizingMethod='auto expand')"].join(""):NONE}css(elem,rotationStyle)}width=pick(wrapper.elemWidth,elem.offsetWidth);height=pick(wrapper.elemHeight,elem.offsetHeight);if(width>textWidth&&/[ \-]/.test(elem.innerText)){css(elem,
{width:textWidth+PX,display:"block",whiteSpace:"normal"});width=textWidth}baseline=renderer.fontMetrics(elem.style.fontSize).b;xCorr=costheta<0&&-width;yCorr=sintheta<0&&-height;quad=costheta*sintheta<0;xCorr+=sintheta*baseline*(quad?1-alignCorrection:alignCorrection);yCorr-=costheta*baseline*(rotation?quad?alignCorrection:1-alignCorrection:1);if(nonLeft){xCorr-=width*alignCorrection*(costheta<0?-1:1);if(rotation)yCorr-=height*alignCorrection*(sintheta<0?-1:1);css(elem,{textAlign:align})}wrapper.xCorr=
xCorr;wrapper.yCorr=yCorr}css(elem,{left:x+xCorr+PX,top:y+yCorr+PX});wrapper.cTT=currentTextTransform}},updateTransform:function $SVGElement$$updateTransform$(){var wrapper=this;var translateX=wrapper.translateX||0;var translateY=wrapper.translateY||0;var inverted=wrapper.inverted;var rotation=wrapper.rotation;var transform=[];if(inverted){translateX+=wrapper.attr("width");translateY+=wrapper.attr("height")}if(translateX||translateY)transform.push("translate("+translateX+","+translateY+")");if(inverted)transform.push("rotate(90) scale(-1,1)");
else if(rotation)transform.push("rotate("+rotation+" "+(wrapper.x||0)+" "+(wrapper.y||0)+")");if(transform.length)attr$$0(wrapper.element,"transform",transform.join(" "))},toFront:function $SVGElement$$toFront$(){var element=this.element;element.parentNode.appendChild(element);return this},align:function $SVGElement$$align$(alignOptions,alignByTranslate,box){var elemWrapper=this;if(!alignOptions){alignOptions=elemWrapper.alignOptions;alignByTranslate=elemWrapper.alignByTranslate}else{elemWrapper.alignOptions=
alignOptions;elemWrapper.alignByTranslate=alignByTranslate;if(!box)elemWrapper.renderer.alignedObjects.push(elemWrapper)}box=pick(box,elemWrapper.renderer);var align=alignOptions.align;var vAlign=alignOptions.verticalAlign;var x=(box.x||0)+(alignOptions.x||0);var y=(box.y||0)+(alignOptions.y||0);var attribs={};if(/^(right|center)$/.test(align))x+=(box.width-(alignOptions.width||0))/{right:1,center:2}[align];attribs[alignByTranslate?"translateX":"x"]=mathRound(x);if(/^(bottom|middle)$/.test(vAlign))y+=
(box.height-(alignOptions.height||0))/({bottom:1,middle:2}[vAlign]||1);attribs[alignByTranslate?"translateY":"y"]=mathRound(y);elemWrapper[elemWrapper.placed?"animate":"attr"](attribs);elemWrapper.placed=true;elemWrapper.alignAttr=attribs;return elemWrapper},getBBox:function $SVGElement$$getBBox$(){var wrapper=this;var bBox=wrapper.bBox;var renderer=wrapper.renderer;var width;var height;var rotation=wrapper.rotation;var element=wrapper.element;var rad=rotation*deg2rad;if(!bBox){if(element.namespaceURI===
SVG_NS||renderer.forExport){try{bBox=element.getBBox?extend({},element.getBBox()):{width:element.offsetWidth,height:element.offsetHeight}}catch(e){}if(!bBox||bBox.width<0)bBox={width:0,height:0}}else bBox=wrapper.htmlGetBBox();if(renderer.isSVG){width=bBox.width;height=bBox.height;if(rotation){bBox.width=mathAbs(height*mathSin(rad))+mathAbs(width*mathCos(rad));bBox.height=mathAbs(height*mathCos(rad))+mathAbs(width*mathSin(rad))}}wrapper.bBox=bBox}return bBox},show:function $SVGElement$$show$(){return this.attr({visibility:VISIBLE})},
hide:function $SVGElement$$hide$(){return this.attr({visibility:HIDDEN})},add:function $SVGElement$$add$(parent){var renderer=this.renderer;var parentWrapper=parent||renderer;var parentNode=parentWrapper.element||renderer.box;var childNodes=parentNode.childNodes;var element=this.element;var zIndex=attr$$0(element,"zIndex");var otherElement;var otherZIndex;var i;var inserted;if(parent)this.parentGroup=parent;this.parentInverted=parent&&parent.inverted;if(this.textStr!==undefined)renderer.buildText(this);
if(zIndex){parentWrapper.handleZ=true;zIndex=pInt(zIndex)}if(parentWrapper.handleZ)for(i=0;i<childNodes.length;i++){otherElement=childNodes[i];otherZIndex=attr$$0(otherElement,"zIndex");if(otherElement!==element&&(pInt(otherZIndex)>zIndex||!defined(zIndex)&&defined(otherZIndex))){parentNode.insertBefore(element,otherElement);inserted=true;break}}if(!inserted)parentNode.appendChild(element);this.added=true;fireEvent(this,"add");return this},safeRemoveChild:function $SVGElement$$safeRemoveChild$(element){var parentNode=
element.parentNode;if(parentNode)parentNode.removeChild(element)},destroy:function $SVGElement$$destroy$(){var wrapper=this;var element=wrapper.element||{};var shadows=wrapper.shadows;var box=wrapper.box;var key;var i;element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=null;stop$$0(wrapper);if(wrapper.clipPath)wrapper.clipPath=wrapper.clipPath.destroy();if(wrapper.stops){for(i=0;i<wrapper.stops.length;i++)wrapper.stops[i]=wrapper.stops[i].destroy();wrapper.stops=null}wrapper.safeRemoveChild(element);
if(shadows)each(shadows,function(shadow){wrapper.safeRemoveChild(shadow)});if(box)box.destroy();erase(wrapper.renderer.alignedObjects,wrapper);for(key in wrapper)delete wrapper[key];return null},empty:function $SVGElement$$empty$(){var element=this.element;var childNodes=element.childNodes;for(var i=childNodes.length;i--;)element.removeChild(childNodes[i])},shadow:function $SVGElement$$shadow$(shadowOptions,group,cutOff){var shadows=[];var i;var shadow;var element=this.element;var strokeWidth;var shadowWidth;
var shadowElementOpacity;var transform;if(shadowOptions){shadowWidth=pick(shadowOptions.width,3);shadowElementOpacity=(shadowOptions.opacity||0.15)/shadowWidth;transform=this.parentInverted?"(-1,-1)":"("+(shadowOptions.offsetX||1)+", "+(shadowOptions.offsetY||1)+")";for(i=1;i<=shadowWidth;i++){shadow=element.cloneNode(0);strokeWidth=shadowWidth*2+1-2*i;attr$$0(shadow,{isShadow:"true",stroke:shadowOptions.color||"black","stroke-opacity":shadowElementOpacity*i,"stroke-width":strokeWidth,transform:"translate"+
transform,fill:NONE});if(cutOff){attr$$0(shadow,"height",mathMax(attr$$0(shadow,"height")-strokeWidth,0));shadow.cutHeight=strokeWidth}if(group)group.element.appendChild(shadow);else element.parentNode.insertBefore(shadow,element);shadows.push(shadow)}this.shadows=shadows}return this}};var SVGRenderer=function $SVGRenderer$(){this.init.apply(this,arguments)};SVGRenderer.prototype={Element:SVGElement,init:function $SVGRenderer$$init$(container,width,height,forExport){var renderer=this;var loc=location;
var boxWrapper;boxWrapper=renderer.createElement("svg").attr({xmlns:SVG_NS,version:"1.1"});container.appendChild(boxWrapper.element);renderer.isSVG=true;renderer.box=boxWrapper.element;renderer.boxWrapper=boxWrapper;renderer.alignedObjects=[];renderer.url=(isFirefox||isWebKit)&&doc.getElementsByTagName("base").length?loc.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";renderer.defs=this.createElement("defs").add();renderer.forExport=forExport;renderer.gradients={};renderer.setSize(width,
height,false);var subPixelFix;var rect;if(isFirefox&&container.getBoundingClientRect){renderer.subPixelFix=subPixelFix=function $subPixelFix$(){css(container,{left:0,top:0});rect=container.getBoundingClientRect();css(container,{left:mathCeil(rect.left)-rect.left+PX,top:mathCeil(rect.top)-rect.top+PX})};subPixelFix();addEvent(win,"resize",subPixelFix)}},isHidden:function $SVGRenderer$$isHidden$(){return!this.boxWrapper.getBBox().width},destroy:function $SVGRenderer$$destroy$(){var renderer=this;var rendererDefs=
renderer.defs;renderer.box=null;renderer.boxWrapper=renderer.boxWrapper.destroy();destroyObjectProperties(renderer.gradients||{});renderer.gradients=null;if(rendererDefs)renderer.defs=rendererDefs.destroy();if(renderer.subPixelFix)removeEvent(win,"resize",renderer.subPixelFix);renderer.alignedObjects=null;return null},createElement:function $SVGRenderer$$createElement$(nodeName){var wrapper=new this.Element;wrapper.init(this,nodeName);return wrapper},draw:function $SVGRenderer$$draw$(){},buildText:function $SVGRenderer$$buildText$(wrapper){function getLineHeightByBBox(lineNo){linePositions[lineNo]=
textNode.getBBox?textNode.getBBox().height:wrapper.renderer.fontMetrics(textNode.style.fontSize).h;return mathRound(linePositions[lineNo]-(linePositions[lineNo-1]||0))}var textNode=wrapper.element;var lines=pick(wrapper.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g);var childNodes=textNode.childNodes;var styleRegex=/style="([^"]+)"/;
var hrefRegex=/href="([^"]+)"/;var parentX=attr$$0(textNode,"x");var textStyles=wrapper.styles;var width=textStyles&&pInt(textStyles.width);var textLineHeight=textStyles&&textStyles.lineHeight;var lastLine;var GET_COMPUTED_STYLE="getComputedStyle";var i=childNodes.length;for(var linePositions=[];i--;)textNode.removeChild(childNodes[i]);if(width&&!wrapper.added)this.box.appendChild(textNode);if(lines[lines.length-1]==="")lines.pop();each(lines,function(line,lineNo){var spans;var spanNo=0;var lineHeight;
line=line.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");spans=line.split("|||");each(spans,function(span){if(span!==""||spans.length===1){var attributes={};var tspan=doc.createElementNS(SVG_NS,"tspan");if(styleRegex.test(span))attr$$0(tspan,"style",span.match(styleRegex)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));if(hrefRegex.test(span)){attr$$0(tspan,"onclick",'location.href="'+span.match(hrefRegex)[1]+'"');css(tspan,{cursor:"pointer"})}span=(span.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,
"<").replace(/&gt;/g,">");tspan.appendChild(doc.createTextNode(span));if(!spanNo)attributes.x=parentX;else attributes.dx=3;if(!spanNo){if(lineNo){if(!hasSVG&&wrapper.renderer.forExport)css(tspan,{display:"block"});lineHeight=win[GET_COMPUTED_STYLE]&&pInt(win[GET_COMPUTED_STYLE](lastLine,null).getPropertyValue("line-height"));if(!lineHeight||isNaN(lineHeight))lineHeight=textLineHeight||lastLine.offsetHeight||getLineHeightByBBox(lineNo)||18;attr$$0(tspan,"dy",lineHeight)}lastLine=tspan}attr$$0(tspan,
attributes);textNode.appendChild(tspan);spanNo++;if(width){var words=span.replace(/-/g,"- ").split(" ");var tooLong;var actualWidth;for(var rest=[];words.length||rest.length;){delete wrapper.bBox;actualWidth=wrapper.getBBox().width;tooLong=actualWidth>width;if(!tooLong||words.length===1){words=rest;rest=[];if(words.length){tspan=doc.createElementNS(SVG_NS,"tspan");attr$$0(tspan,{dy:textLineHeight||16,x:parentX});textNode.appendChild(tspan);if(actualWidth>width)width=actualWidth}}else{tspan.removeChild(tspan.firstChild);
rest.unshift(words.pop())}if(words.length)tspan.appendChild(doc.createTextNode(words.join(" ").replace(/- /g,"-")))}}}})})},button:function $SVGRenderer$$button$(text,x,y,callback,normalState,hoverState,pressedState){var label=this.label(text,x,y);var curState=0;var stateOptions;var stateStyle;var normalStyle;var hoverStyle;var pressedStyle;var STYLE="style";var verticalGradient={x1:0,y1:0,x2:0,y2:1};normalState=merge(hash(STROKE_WIDTH,1,STROKE,"#999",FILL,hash(LINEAR_GRADIENT,verticalGradient,STOPS,
[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,STYLE,hash("color","black")),normalState);normalStyle=normalState[STYLE];delete normalState[STYLE];hoverState=merge(normalState,hash(STROKE,"#68A",FILL,hash(LINEAR_GRADIENT,verticalGradient,STOPS,[[0,"#FFF"],[1,"#ACF"]])),hoverState);hoverStyle=hoverState[STYLE];delete hoverState[STYLE];pressedState=merge(normalState,hash(STROKE,"#68A",FILL,hash(LINEAR_GRADIENT,verticalGradient,STOPS,[[0,"#9BD"],[1,"#CDF"]])),pressedState);pressedStyle=pressedState[STYLE];
delete pressedState[STYLE];addEvent(label.element,"mouseenter",function(){label.attr(hoverState).css(hoverStyle)});addEvent(label.element,"mouseleave",function(){stateOptions=[normalState,hoverState,pressedState][curState];stateStyle=[normalStyle,hoverStyle,pressedStyle][curState];label.attr(stateOptions).css(stateStyle)});label.setState=function $label$setState$(state){curState=state;if(!state)label.attr(normalState).css(normalStyle);else if(state===2)label.attr(pressedState).css(pressedStyle)};
return label.on("click",function(){callback.call(label)}).attr(normalState).css(extend({cursor:"default"},normalStyle))},crispLine:function $SVGRenderer$$crispLine$(points,width){if(points[1]===points[4])points[1]=points[4]=mathRound(points[1])-width%2/2;if(points[2]===points[5])points[2]=points[5]=mathRound(points[2])+width%2/2;return points},path:function $SVGRenderer$$path$(path){var attr={fill:NONE};if(isArray(path))attr.d=path;else if(isObject(path))extend(attr,path);return this.createElement("path").attr(attr)},
circle:function $SVGRenderer$$circle$(x,y,r){var attr=isObject(x)?x:{x:x,y:y,r:r};return this.createElement("circle").attr(attr)},arc:function $SVGRenderer$$arc$(x,y,r,innerR,start,end){if(isObject(x)){y=x.y;r=x.r;innerR=x.innerR;start=x.start;end=x.end;x=x.x}return this.symbol("arc",x||0,y||0,r||0,r||0,{innerR:innerR||0,start:start||0,end:end||0})},rect:function $SVGRenderer$$rect$(x,y,width,height,r,strokeWidth){r=isObject(x)?x.r:r;var wrapper=this.createElement("rect").attr({rx:r,ry:r,fill:NONE});
return wrapper.attr(isObject(x)?x:wrapper.crisp(strokeWidth,x,y,mathMax(width,0),mathMax(height,0)))},setSize:function $SVGRenderer$$setSize$(width,height,animate){var renderer=this;var alignedObjects=renderer.alignedObjects;var i=alignedObjects.length;renderer.width=width;renderer.height=height;for(renderer.boxWrapper[pick(animate,true)?"animate":"attr"]({width:width,height:height});i--;)alignedObjects[i].align()},g:function $SVGRenderer$$g$(name){var elem=this.createElement("g");return defined(name)?
elem.attr({"class":PREFIX+name}):elem},image:function $SVGRenderer$$image$(src,x,y,width,height){var attribs={preserveAspectRatio:NONE};var elemWrapper;if(arguments.length>1)extend(attribs,{x:x,y:y,width:width,height:height});elemWrapper=this.createElement("image").attr(attribs);if(elemWrapper.element.setAttributeNS)elemWrapper.element.setAttributeNS("http://www.w3.org/1999/xlink","href",src);else elemWrapper.element.setAttribute("hc-svg-href",src);return elemWrapper},symbol:function $SVGRenderer$$symbol$(symbol,
x,y,width,height,options){var obj;var symbolFn=this.symbols[symbol];var path=symbolFn&&symbolFn(mathRound(x),mathRound(y),width,height,options);var imageRegex=/^url\((.*?)\)$/;var imageSrc;var imageSize;var centerImage;if(path){obj=this.path(path);extend(obj,{symbolName:symbol,x:x,y:y,width:width,height:height});if(options)extend(obj,options)}else if(imageRegex.test(symbol)){centerImage=function $centerImage$(img,size){img.attr({width:size[0],height:size[1]});if(!img.alignByTranslate)img.translate(-mathRound(size[0]/
2),-mathRound(size[1]/2))};imageSrc=symbol.match(imageRegex)[1];imageSize=symbolSizes[imageSrc];obj=this.image(imageSrc).attr({x:x,y:y});if(imageSize)centerImage(obj,imageSize);else{obj.attr({width:0,height:0});createElement("img",{onload:function(){var img=this;centerImage(obj,symbolSizes[imageSrc]=[img.width,img.height])},src:imageSrc})}}return obj},symbols:{circle:function $SVGRenderer$$symbols$circle$(x,y,w,h){var cpw=0.166*w;return[M,x+w/2,y,"C",x+w+cpw,y,x+w+cpw,y+h,x+w/2,y+h,"C",x-cpw,y+h,
x-cpw,y,x+w/2,y,"Z"]},square:function $SVGRenderer$$symbols$square$(x,y,w,h){return[M,x,y,L,x+w,y,x+w,y+h,x,y+h,"Z"]},triangle:function $SVGRenderer$$symbols$triangle$(x,y,w,h){return[M,x+w/2,y,L,x+w,y+h,x,y+h,"Z"]},"triangle-down":function $SVGRenderer$$symbols$__9$(x,y,w,h){return[M,x,y,L,x+w,y,x+w/2,y+h,"Z"]},diamond:function $SVGRenderer$$symbols$diamond$(x,y,w,h){return[M,x+w/2,y,L,x+w,y+h/2,x+w/2,y+h,x,y+h/2,"Z"]},arc:function $SVGRenderer$$symbols$arc$(x,y,w,h,options){var start=options.start;
var radius=options.r||w||h;var end=options.end-1.0E-6;var innerRadius=options.innerR;var open=options.open;var cosStart=mathCos(start);var sinStart=mathSin(start);var cosEnd=mathCos(end);var sinEnd=mathSin(end);var longArc=options.end-start<mathPI?0:1;return[M,x+radius*cosStart,y+radius*sinStart,"A",radius,radius,0,longArc,1,x+radius*cosEnd,y+radius*sinEnd,open?M:L,x+innerRadius*cosEnd,y+innerRadius*sinEnd,"A",innerRadius,innerRadius,0,longArc,0,x+innerRadius*cosStart,y+innerRadius*sinStart,open?
"":"Z"]}},clipRect:function $SVGRenderer$$clipRect$(x,y,width,height){var wrapper;var id=PREFIX+idCounter++;var clipPath=this.createElement("clipPath").attr({id:id}).add(this.defs);wrapper=this.rect(x,y,width,height,0).add(clipPath);wrapper.id=id;wrapper.clipPath=clipPath;return wrapper},color:function $SVGRenderer$$color$(color,elem,prop){var renderer=this;var colorObject;var regexRgba=/^rgba/;var gradName;if(color&&color.linearGradient)gradName="linearGradient";else if(color&&color.radialGradient)gradName=
"radialGradient";if(gradName){var gradAttr=color[gradName];var gradients=renderer.gradients;var gradientObject;var stopColor;var stopOpacity;var radialReference=elem.radialReference;if(!gradAttr.id||!gradients[gradAttr.id]){if(isArray(gradAttr))color[gradName]=gradAttr={x1:gradAttr[0],y1:gradAttr[1],x2:gradAttr[2],y2:gradAttr[3],gradientUnits:"userSpaceOnUse"};if(gradName==="radialGradient"&&radialReference&&!defined(gradAttr.gradientUnits))extend(gradAttr,{cx:radialReference[0]-radialReference[2]/
2+gradAttr.cx*radialReference[2],cy:radialReference[1]-radialReference[2]/2+gradAttr.cy*radialReference[2],r:gradAttr.r*radialReference[2],gradientUnits:"userSpaceOnUse"});gradAttr.id=PREFIX+idCounter++;gradients[gradAttr.id]=gradientObject=renderer.createElement(gradName).attr(gradAttr).add(renderer.defs);gradientObject.stops=[];each(color.stops,function(stop){var stopObject;if(regexRgba.test(stop[1])){colorObject=Color(stop[1]);stopColor=colorObject.get("rgb");stopOpacity=colorObject.get("a")}else{stopColor=
stop[1];stopOpacity=1}stopObject=renderer.createElement("stop").attr({offset:stop[0],"stop-color":stopColor,"stop-opacity":stopOpacity}).add(gradientObject);gradientObject.stops.push(stopObject)})}return"url("+renderer.url+"#"+gradAttr.id+")"}else if(regexRgba.test(color)){colorObject=Color(color);attr$$0(elem,prop+"-opacity",colorObject.get("a"));return colorObject.get("rgb")}else{elem.removeAttribute(prop+"-opacity");return color}},text:function $SVGRenderer$$text$(str,x,y,useHTML){var renderer=
this;var defaultChartStyle=defaultOptions.chart.style;var wrapper;if(useHTML&&!renderer.forExport)return renderer.html(str,x,y);x=mathRound(pick(x,0));y=mathRound(pick(y,0));wrapper=renderer.createElement("text").attr({x:x,y:y,text:str}).css({fontFamily:defaultChartStyle.fontFamily,fontSize:defaultChartStyle.fontSize});if(!hasSVG&&renderer.forExport)wrapper.css({position:ABSOLUTE});wrapper.x=x;wrapper.y=y;return wrapper},html:function $SVGRenderer$$html$(str,x,y){var defaultChartStyle=defaultOptions.chart.style;
var wrapper=this.createElement("span");var attrSetters=wrapper.attrSetters;var element=wrapper.element;var renderer=wrapper.renderer;attrSetters.text=function $attrSetters$text$(value){if(value!==element.innerHTML)delete this.bBox;element.innerHTML=value;return false};attrSetters.x=attrSetters.y=attrSetters.align=function $attrSetters$align$(value,key){if(key==="align")key="textAlign";wrapper[key]=value;wrapper.htmlUpdateTransform();return false};wrapper.attr({text:str,x:mathRound(x),y:mathRound(y)}).css({position:ABSOLUTE,
whiteSpace:"nowrap",fontFamily:defaultChartStyle.fontFamily,fontSize:defaultChartStyle.fontSize});wrapper.css=wrapper.htmlCss;if(renderer.isSVG)wrapper.add=function $wrapper$add$(svgGroupWrapper){var htmlGroup;var container=renderer.box.parentNode;var parentGroup;var parents=[];if(svgGroupWrapper){htmlGroup=svgGroupWrapper.div;if(!htmlGroup){for(parentGroup=svgGroupWrapper;parentGroup;){parents.push(parentGroup);parentGroup=parentGroup.parentGroup}each(parents.reverse(),function(parentGroup){var htmlGroupStyle;
htmlGroup=parentGroup.div=parentGroup.div||createElement(DIV,{className:attr$$0(parentGroup.element,"class")},{position:ABSOLUTE,left:(parentGroup.translateX||0)+PX,top:(parentGroup.translateY||0)+PX},htmlGroup||container);htmlGroupStyle=htmlGroup.style;extend(parentGroup.attrSetters,{translateX:function(value){htmlGroupStyle.left=value+PX},translateY:function(value){htmlGroupStyle.top=value+PX},visibility:function(value,key){htmlGroupStyle[key]=value}})})}}else htmlGroup=container;htmlGroup.appendChild(element);
wrapper.added=true;if(wrapper.alignOnAdd)wrapper.htmlUpdateTransform();return wrapper};return wrapper},fontMetrics:function $SVGRenderer$$fontMetrics$(fontSize){fontSize=pInt(fontSize||11);var lineHeight=fontSize<24?fontSize+4:mathRound(fontSize*1.2);var baseline=mathRound(lineHeight*0.8);return{h:lineHeight,b:baseline}},label:function $SVGRenderer$$label$(str,x$$0,y$$0,shape,anchorX,anchorY,useHTML,baseline,className){function updateBoxSize(){var boxY;var style=text.element.style;bBox=(width===undefined||
height===undefined||wrapper.styles.textAlign)&&text.getBBox();wrapper.width=(width||bBox.width||0)+2*padding;wrapper.height=(height||bBox.height||0)+2*padding;baselineOffset=padding+renderer.fontMetrics(style&&style.fontSize).b;if(!box){boxY=baseline?-baselineOffset:0;wrapper.box=box=shape?renderer.symbol(shape,-alignFactor*padding,boxY,wrapper.width,wrapper.height):renderer.rect(-alignFactor*padding,boxY,wrapper.width,wrapper.height,0,deferredAttr[STROKE_WIDTH]);box.add(wrapper)}box.attr(merge({width:wrapper.width,
height:wrapper.height},deferredAttr));deferredAttr=null}function updateTextPadding(){var styles=wrapper.styles;var textAlign=styles&&styles.textAlign;var x=padding*(1-alignFactor);var y;y=baseline?0:baselineOffset;if(defined(width)&&(textAlign==="center"||textAlign==="right"))x+={center:0.5,right:1}[textAlign]*(width-bBox.width);if(x!==text.x||y!==text.y)text.attr({x:x,y:y});text.x=x;text.y=y}function boxAttr(key,value){if(box)box.attr(key,value);else deferredAttr[key]=value}function getSizeAfterAdd(){text.add(wrapper);
wrapper.attr({text:str,x:x$$0,y:y$$0});if(defined(anchorX))wrapper.attr({anchorX:anchorX,anchorY:anchorY})}var renderer=this;var wrapper=renderer.g(className);var text=renderer.text("",0,0,useHTML).attr({zIndex:1});var box;var bBox;var alignFactor=0;var padding=3;var width;var height;var wrapperX;var wrapperY;var crispAdjust=0;var deferredAttr={};var baselineOffset;var attrSetters=wrapper.attrSetters;addEvent(wrapper,"add",getSizeAfterAdd);attrSetters.width=function $attrSetters$width$(value){width=
value;return false};attrSetters.height=function $attrSetters$height$(value){height=value;return false};attrSetters.padding=function $attrSetters$padding$(value){if(defined(value)&&value!==padding){padding=value;updateTextPadding()}return false};attrSetters.align=function $attrSetters$align$(value){alignFactor={left:0,center:0.5,right:1}[value];return false};attrSetters.text=function $attrSetters$text$(value,key){text.attr(key,value);updateBoxSize();updateTextPadding();return false};attrSetters[STROKE_WIDTH]=
function $attrSetters$STROKE_WIDTH$(value,key){crispAdjust=value%2/2;boxAttr(key,value);return false};attrSetters.stroke=attrSetters.fill=attrSetters.r=function $attrSetters$r$(value,key){boxAttr(key,value);return false};attrSetters.anchorX=function $attrSetters$anchorX$(value,key){anchorX=value;boxAttr(key,value+crispAdjust-wrapperX);return false};attrSetters.anchorY=function $attrSetters$anchorY$(value,key){anchorY=value;boxAttr(key,value-wrapperY);return false};attrSetters.x=function $attrSetters$x$(value){wrapper.x=
value;value-=alignFactor*((width||bBox.width)+padding);wrapperX=mathRound(value);wrapper.attr("translateX",wrapperX);return false};attrSetters.y=function $attrSetters$y$(value){wrapperY=wrapper.y=mathRound(value);wrapper.attr("translateY",value);return false};var baseCss=wrapper.css;return extend(wrapper,{css:function(styles){if(styles){var textStyles={};styles=merge({},styles);each(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(prop){if(styles[prop]!==UNDEFINED){textStyles[prop]=
styles[prop];delete styles[prop]}});text.css(textStyles)}return baseCss.call(wrapper,styles)},getBBox:function(){return box.getBBox()},shadow:function(b){box.shadow(b);return wrapper},destroy:function(){removeEvent(wrapper,"add",getSizeAfterAdd);removeEvent(wrapper.element,"mouseenter");removeEvent(wrapper.element,"mouseleave");if(text)text=text.destroy();SVGElement.prototype.destroy.call(wrapper)}})}};Renderer=SVGRenderer;var VMLRenderer;if(!hasSVG&&!useCanVG){var VMLElement={init:function(renderer,
nodeName){var wrapper=this;var markup=["<",nodeName,' filled="f" stroked="f"'];var style=["position: ",ABSOLUTE,";"];if(nodeName==="shape"||nodeName===DIV)style.push("left:0;top:0;width:1px;height:1px;");if(docMode8)style.push("visibility: ",nodeName===DIV?HIDDEN:VISIBLE);markup.push(' style="',style.join(""),'"/>');if(nodeName){markup=nodeName===DIV||nodeName==="span"||nodeName==="img"?markup.join(""):renderer.prepVML(markup);wrapper.element=createElement(markup)}wrapper.renderer=renderer;wrapper.attrSetters=
{}},add:function(parent){var wrapper=this;var renderer=wrapper.renderer;var element=wrapper.element;var box=renderer.box;var inverted=parent&&parent.inverted;var parentNode=parent?parent.element||parent:box;if(inverted)renderer.invertChild(element,parentNode);parentNode.appendChild(element);wrapper.added=true;if(wrapper.alignOnAdd&&!wrapper.deferUpdateTransform)wrapper.updateTransform();fireEvent(wrapper,"add");return wrapper},updateTransform:SVGElement.prototype.htmlUpdateTransform,attr:function(hash,
val){var wrapper=this;var key;var value;var i;var result;var element=wrapper.element||{};var elemStyle=element.style;var nodeName=element.nodeName;var renderer=wrapper.renderer;var symbolName=wrapper.symbolName;var hasSetSymbolSize;var shadows=wrapper.shadows;var skipAttr;var attrSetters=wrapper.attrSetters;var ret=wrapper;if(isString(hash)&&defined(val)){key=hash;hash={};hash[key]=val}if(isString(hash)){key=hash;if(key==="strokeWidth"||key==="stroke-width")ret=wrapper.strokeweight;else ret=wrapper[key]}else for(key in hash){value=
hash[key];skipAttr=false;result=attrSetters[key]&&attrSetters[key].call(wrapper,value,key);if(result!==false&&value!==null){if(result!==UNDEFINED)value=result;if(symbolName&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(key)){if(!hasSetSymbolSize){wrapper.symbolAttr(hash);hasSetSymbolSize=true}skipAttr=true}else if(key==="d"){value=value||[];wrapper.d=value.join(" ");i=value.length;for(var convertedPath=[];i--;)if(isNumber(value[i]))convertedPath[i]=mathRound(value[i]*10)-5;else if(value[i]===
"Z")convertedPath[i]="x";else convertedPath[i]=value[i];value=convertedPath.join(" ")||"x";element.path=value;if(shadows)for(i=shadows.length;i--;)shadows[i].path=shadows[i].cutOff?this.cutOffPath(value,shadows[i].cutOff):value;skipAttr=true}else if(key==="visibility"){if(shadows)for(i=shadows.length;i--;)shadows[i].style[key]=value;if(nodeName==="DIV"){value=value===HIDDEN?"-999em":0;key="top"}elemStyle[key]=value;skipAttr=true}else if(key==="zIndex"){if(value)elemStyle[key]=value;skipAttr=true}else if(key===
"width"||key==="height"){value=mathMax(0,value);this[key]=value;if(wrapper.updateClipping){wrapper[key]=value;wrapper.updateClipping()}else elemStyle[key]=value;skipAttr=true}else if(key==="x"||key==="y"){wrapper[key]=value;elemStyle[{x:"left",y:"top"}[key]]=value}else if(key==="class")element.className=value;else if(key==="stroke"){value=renderer.color(value,element,key);key="strokecolor"}else if(key==="stroke-width"||key==="strokeWidth"){element.stroked=value?true:false;key="strokeweight";wrapper[key]=
value;if(isNumber(value))value+=PX}else if(key==="dashstyle"){var strokeElem=element.getElementsByTagName("stroke")[0]||createElement(renderer.prepVML(["<stroke/>"]),null,null,element);strokeElem[key]=value||"solid";wrapper.dashstyle=value;skipAttr=true}else if(key==="fill")if(nodeName==="SPAN")elemStyle.color=value;else{element.filled=value!==NONE?true:false;value=renderer.color(value,element,key,wrapper);key="fillcolor"}else if(nodeName==="shape"&&key==="rotation"){wrapper[key]=value;element.style.left=
-mathRound(mathSin(value*deg2rad)+1)+PX;element.style.top=mathRound(mathCos(value*deg2rad))+PX}else if(key==="translateX"||key==="translateY"||key==="rotation"){wrapper[key]=value;wrapper.updateTransform();skipAttr=true}else if(key==="text"){this.bBox=null;element.innerHTML=value;skipAttr=true}if(!skipAttr)if(docMode8)element[key]=value;else attr$$0(element,key,value)}}return ret},clip:function(clipRect){var wrapper=this;var clipMembers;var element=wrapper.element;var parentNode=element.parentNode;
var cssRet;if(clipRect){clipMembers=clipRect.members;clipMembers.push(wrapper);wrapper.destroyClip=function $wrapper$destroyClip$(){erase(clipMembers,wrapper)};if(parentNode&&parentNode.className==="highcharts-tracker"&&!docMode8)css(element,{visibility:HIDDEN});cssRet=clipRect.getCSS(wrapper)}else{if(wrapper.destroyClip)wrapper.destroyClip();cssRet={clip:docMode8?"inherit":"rect(auto)"}}return wrapper.css(cssRet)},css:SVGElement.prototype.htmlCss,safeRemoveChild:function(element){if(element.parentNode)discardElement(element)},
destroy:function(){if(this.destroyClip)this.destroyClip();return SVGElement.prototype.destroy.apply(this)},empty:function(){var element=this.element;var childNodes=element.childNodes;var i=childNodes.length;for(var node;i--;){node=childNodes[i];node.parentNode.removeChild(node)}},on:function(eventType,handler){this.element["on"+eventType]=function $this$element$on$eventType$(){var evt=win.event;evt.target=evt.srcElement;handler(evt)};return this},cutOffPath:function(path,length){var len;path=path.split(/[ ,]/);
len=path.length;if(len===9||len===11)path[len-4]=path[len-2]=pInt(path[len-2])-10*length;return path.join(" ")},shadow:function(shadowOptions,group,cutOff){var shadows=[];var i;var element=this.element;var renderer=this.renderer;var shadow;var elemStyle=element.style;var markup;var path=element.path;var strokeWidth;var modifiedPath;var shadowWidth;var shadowElementOpacity;if(path&&typeof path.value!=="string")path="x";modifiedPath=path;if(shadowOptions){shadowWidth=pick(shadowOptions.width,3);shadowElementOpacity=
(shadowOptions.opacity||0.15)/shadowWidth;for(i=1;i<=3;i++){strokeWidth=shadowWidth*2+1-2*i;if(cutOff)modifiedPath=this.cutOffPath(path.value,strokeWidth+0.5);markup=['<shape isShadow="true" strokeweight="',strokeWidth,'" filled="false" path="',modifiedPath,'" coordsize="10 10" style="',element.style.cssText,'" />'];shadow=createElement(renderer.prepVML(markup),null,{left:pInt(elemStyle.left)+(shadowOptions.offsetX||1),top:pInt(elemStyle.top)+(shadowOptions.offsetY||1)});if(cutOff)shadow.cutOff=strokeWidth+
1;markup=['<stroke color="',shadowOptions.color||"black",'" opacity="',shadowElementOpacity*i,'"/>'];createElement(renderer.prepVML(markup),null,null,shadow);if(group)group.element.appendChild(shadow);else element.parentNode.insertBefore(shadow,element);shadows.push(shadow)}this.shadows=shadows}return this}};VMLElement=extendClass(SVGElement,VMLElement);var VMLRendererExtension={Element:VMLElement,isIE8:userAgent.indexOf("MSIE 8.0")>-1,init:function(container,width,height){var renderer=this;var boxWrapper;
var box;renderer.alignedObjects=[];boxWrapper=renderer.createElement(DIV);box=boxWrapper.element;box.style.position=RELATIVE;container.appendChild(boxWrapper.element);renderer.box=box;renderer.boxWrapper=boxWrapper;renderer.setSize(width,height,false);if(!doc.namespaces.hcv){doc.namespaces.add("hcv","urn:schemas-microsoft-com:vml");doc.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke"+"{ behavior:url(#default#VML); display: inline-block; } "}},isHidden:function(){return!this.box.offsetWidth},
clipRect:function(x,y,width,height){var clipRect=this.createElement();var isObj=isObject(x);return extend(clipRect,{members:[],left:isObj?x.x:x,top:isObj?x.y:y,width:isObj?x.width:width,height:isObj?x.height:height,getCSS:function(wrapper){var inverted=wrapper.inverted;var rect=this;var top=rect.top;var left=rect.left;var right=left+rect.width;var bottom=top+rect.height;var ret={clip:"rect("+mathRound(inverted?left:top)+"px,"+mathRound(inverted?bottom:right)+"px,"+mathRound(inverted?right:bottom)+
"px,"+mathRound(inverted?top:left)+"px)"};if(!inverted&&docMode8&&wrapper.element.nodeName!=="IMG")extend(ret,{width:right+PX,height:bottom+PX});return ret},updateClipping:function(){each(clipRect.members,function(member){member.css(clipRect.getCSS(member))})}})},color:function(color,elem,prop,wrapper){var renderer=this;var colorObject;var regexRgba=/^rgba/;var markup;var fillType;var ret=NONE;if(color&&color.linearGradient)fillType="gradient";else if(color&&color.radialGradient)fillType="pattern";
if(fillType){var stopColor;var stopOpacity;var gradient=color.linearGradient||color.radialGradient;var x1;var y1;var x2;var y2;var opacity1;var opacity2;var color1;var color2;var fillAttr="";var stops=color.stops;var firstStop;var lastStop;var colors=[];var addFillNode=function $addFillNode$(){markup=['<fill colors="'+colors.join(",")+'" opacity="',opacity2,'" o:opacity2="',opacity1,'" type="',fillType,'" ',fillAttr,'focus="100%" method="any" />'];createElement(renderer.prepVML(markup),null,null,
elem)};firstStop=stops[0];lastStop=stops[stops.length-1];if(firstStop[0]>0)stops.unshift([0,firstStop[1]]);if(lastStop[0]<1)stops.push([1,lastStop[1]]);each(stops,function(stop,i){if(regexRgba.test(stop[1])){colorObject=Color(stop[1]);stopColor=colorObject.get("rgb");stopOpacity=colorObject.get("a")}else{stopColor=stop[1];stopOpacity=1}colors.push(stop[0]*100+"% "+stopColor);if(!i){opacity1=stopOpacity;color2=stopColor}else{opacity2=stopOpacity;color1=stopColor}});if(prop==="fill")if(fillType==="gradient"){x1=
gradient.x1||gradient[0]||0;y1=gradient.y1||gradient[1]||0;x2=gradient.x2||gradient[2]||0;y2=gradient.y2||gradient[3]||0;fillAttr='angle="'+(90-math.atan((y2-y1)/(x2-x1))*180/mathPI)+'"';addFillNode()}else{var r=gradient.r;var sizex=r*2;var sizey=r*2;var cx=gradient.cx;var cy=gradient.cy;var radialReference=elem.radialReference;var bBox;var applyRadialGradient=function $applyRadialGradient$(){if(radialReference){bBox=wrapper.getBBox();cx+=(radialReference[0]-bBox.x)/bBox.width-0.5;cy+=(radialReference[1]-
bBox.y)/bBox.height-0.5;sizex*=radialReference[2]/bBox.width;sizey*=radialReference[2]/bBox.height}fillAttr='src="'+defaultOptions.global.VMLRadialGradientURL+'" '+'size="'+sizex+","+sizey+'" '+'origin="0.5,0.5" '+'position="'+cx+","+cy+'" '+'color2="'+color2+'" ';addFillNode()};if(wrapper.added)applyRadialGradient();else addEvent(wrapper,"add",applyRadialGradient);ret=color1}else ret=stopColor}else if(regexRgba.test(color)&&elem.tagName!=="IMG"){colorObject=Color(color);markup=["<",prop,' opacity="',
colorObject.get("a"),'"/>'];createElement(this.prepVML(markup),null,null,elem);ret=colorObject.get("rgb")}else{var strokeNodes=elem.getElementsByTagName(prop);if(strokeNodes.length)strokeNodes[0].opacity=1;ret=color}return ret},prepVML:function(markup){var vmlStyle="display:inline-block;behavior:url(#default#VML);";var isIE8=this.isIE8;markup=markup.join("");if(isIE8){markup=markup.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');if(markup.indexOf('style="')===-1)markup=markup.replace("/>",
' style="'+vmlStyle+'" />');else markup=markup.replace('style="','style="'+vmlStyle)}else markup=markup.replace("<","<hcv:");return markup},text:SVGRenderer.prototype.html,path:function(path){var attr={coordsize:"10 10"};if(isArray(path))attr.d=path;else if(isObject(path))extend(attr,path);return this.createElement("shape").attr(attr)},circle:function(x,y,r){return this.symbol("circle").attr({x:x-r,y:y-r,width:2*r,height:2*r})},g:function(name){var wrapper;var attribs;if(name)attribs={className:PREFIX+
name,"class":PREFIX+name};wrapper=this.createElement(DIV).attr(attribs);return wrapper},image:function(src,x,y,width,height){var obj=this.createElement("img").attr({src:src});if(arguments.length>1)obj.css({left:x,top:y,width:width,height:height});return obj},rect:function(x,y,width,height,r,strokeWidth){if(isObject(x)){y=x.y;width=x.width;height=x.height;strokeWidth=x.strokeWidth;x=x.x}var wrapper=this.symbol("rect");wrapper.r=r;return wrapper.attr(wrapper.crisp(strokeWidth,x,y,mathMax(width,0),mathMax(height,
0)))},invertChild:function(element,parentNode){var parentStyle=parentNode.style;css(element,{flip:"x",left:pInt(parentStyle.width)-1,top:pInt(parentStyle.height)-1,rotation:-90})},symbols:{arc:function(x,y,w,h,options){var start=options.start;var end=options.end;var radius=options.r||w||h;var cosStart=mathCos(start);var sinStart=mathSin(start);var cosEnd=mathCos(end);var sinEnd=mathSin(end);var innerRadius=options.innerR;var circleCorrection=0.08/radius;var innerCorrection=innerRadius&&0.1/innerRadius||
0;var ret;if(end-start===0)return["x"];else if(2*mathPI-end+start<circleCorrection)cosEnd=-circleCorrection;else if(end-start<innerCorrection)cosEnd=mathCos(start+innerCorrection);ret=["wa",x-radius,y-radius,x+radius,y+radius,x+radius*cosStart,y+radius*sinStart,x+radius*cosEnd,y+radius*sinEnd];if(options.open&&!innerRadius)ret.push("e",M,x,y);ret.push("at",x-innerRadius,y-innerRadius,x+innerRadius,y+innerRadius,x+innerRadius*cosEnd,y+innerRadius*sinEnd,x+innerRadius*cosStart,y+innerRadius*sinStart,
"x","e");return ret},circle:function(x,y,w,h){return["wa",x,y,x+w,y+h,x+w,y+h/2,x+w,y+h/2,"e"]},rect:function(left,top,width,height,options){var right=left+width;var bottom=top+height;var ret;var r;if(!defined(options)||!options.r)ret=SVGRenderer.prototype.symbols.square.apply(0,arguments);else{r=mathMin(options.r,width,height);ret=[M,left+r,top,L,right-r,top,"wa",right-2*r,top,right,top+2*r,right-r,top,right,top+r,L,right,bottom-r,"wa",right-2*r,bottom-2*r,right,bottom,right,bottom-r,right-r,bottom,
L,left+r,bottom,"wa",left,bottom-2*r,left+2*r,bottom,left+r,bottom,left,bottom-r,L,left,top+r,"wa",left,top,left+2*r,top+2*r,left,top+r,left+r,top,"x","e"]}return ret}}};VMLRenderer=function $VMLRenderer$(){this.init.apply(this,arguments)};VMLRenderer.prototype=merge(SVGRenderer.prototype,VMLRendererExtension);Renderer=VMLRenderer}var CanVGRenderer;var CanVGController;if(useCanVG){CanVGRenderer=function $CanVGRenderer$(){};CanVGRenderer.prototype.symbols={};CanVGController=function(){function drawDeferred(){var callLength=
deferredRenderCalls.length;var callIndex;for(callIndex=0;callIndex<callLength;callIndex++)deferredRenderCalls[callIndex]();deferredRenderCalls=[]}var deferredRenderCalls=[];return{push:function(func,scriptLocation){if(deferredRenderCalls.length===0)getScript(scriptLocation,drawDeferred);deferredRenderCalls.push(func)}}}()}Renderer=VMLRenderer||CanVGRenderer||SVGRenderer;Tick.prototype={addLabel:function $Tick$$addLabel$(){var tick=this;var axis=tick.axis;var options=axis.options;var chart=axis.chart;
var horiz=axis.horiz;var categories=axis.categories;var pos=tick.pos;var labelOptions=options.labels;var str;var tickPositions=axis.tickPositions;var width=categories&&horiz&&categories.length&&!labelOptions.step&&!labelOptions.staggerLines&&!labelOptions.rotation&&chart.plotWidth/tickPositions.length||!horiz&&chart.plotWidth/2;var isFirst=pos===tickPositions[0];var isLast=pos===tickPositions[tickPositions.length-1];var css;var attr;var value=categories&&defined(categories[pos])?categories[pos]:pos;
var label=tick.label;var tickPositionInfo=tickPositions.info;var dateTimeLabelFormat;if(axis.isDatetimeAxis&&tickPositionInfo)dateTimeLabelFormat=options.dateTimeLabelFormats[tickPositionInfo.higherRanks[pos]||tickPositionInfo.unitName];tick.isFirst=isFirst;tick.isLast=isLast;str=axis.labelFormatter.call({axis:axis,chart:chart,isFirst:isFirst,isLast:isLast,dateTimeLabelFormat:dateTimeLabelFormat,value:axis.isLog?correctFloat(lin2log(value)):value});css=width&&{width:mathMax(1,mathRound(width-2*(labelOptions.padding||
10)))+PX};css=extend(css,labelOptions.style);if(!defined(label)){attr={align:labelOptions.align};if(isNumber(labelOptions.rotation))attr.rotation=labelOptions.rotation;tick.label=defined(str)&&labelOptions.enabled?chart.renderer.text(str,0,0,labelOptions.useHTML).attr(attr).css(css).add(axis.labelGroup):null}else if(label)label.attr({text:str}).css(css)},getLabelSize:function $Tick$$getLabelSize$(){var label=this.label;var axis=this.axis;return label?(this.labelBBox=label.getBBox())[axis.horiz?"height":
"width"]:0},getLabelSides:function $Tick$$getLabelSides$(){var bBox=this.labelBBox;var axis=this.axis;var options=axis.options;var labelOptions=options.labels;var width=bBox.width;var leftSide=width*{left:0,center:0.5,right:1}[labelOptions.align]-labelOptions.x;return[-leftSide,width-leftSide]},handleOverflow:function $Tick$$handleOverflow$(index,xy){var show=true;var axis=this.axis;var chart=axis.chart;var isFirst=this.isFirst;var isLast=this.isLast;var x=xy.x;var reversed=axis.reversed;var tickPositions=
axis.tickPositions;if(isFirst||isLast){var sides=this.getLabelSides();var leftSide=sides[0];var rightSide=sides[1];var plotLeft=chart.plotLeft;var plotRight=plotLeft+axis.len;var neighbour=axis.ticks[tickPositions[index+(isFirst?1:-1)]];var neighbourEdge=neighbour&&neighbour.label.xy&&neighbour.label.xy.x+neighbour.getLabelSides()[isFirst?0:1];if(isFirst&&!reversed||isLast&&reversed){if(x+leftSide<plotLeft){x=plotLeft-leftSide;if(neighbour&&x+rightSide>neighbourEdge)show=false}}else if(x+rightSide>
plotRight){x=plotRight-rightSide;if(neighbour&&x+leftSide<neighbourEdge)show=false}xy.x=x}return show},getPosition:function $Tick$$getPosition$(horiz,pos,tickmarkOffset,old){var axis=this.axis;var chart=axis.chart;var cHeight=old&&chart.oldChartHeight||chart.chartHeight;return{x:horiz?axis.translate(pos+tickmarkOffset,null,null,old)+axis.transB:axis.left+axis.offset+(axis.opposite?(old&&chart.oldChartWidth||chart.chartWidth)-axis.right-axis.left:0),y:horiz?cHeight-axis.bottom+axis.offset-(axis.opposite?
axis.height:0):cHeight-axis.translate(pos+tickmarkOffset,null,null,old)-axis.transB}},getLabelPosition:function $Tick$$getLabelPosition$(x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var axis=this.axis;var transA=axis.transA;var reversed=axis.reversed;var staggerLines=axis.staggerLines;x=x+labelOptions.x-(tickmarkOffset&&horiz?tickmarkOffset*transA*(reversed?-1:1):0);y=y+labelOptions.y-(tickmarkOffset&&!horiz?tickmarkOffset*transA*(reversed?1:-1):0);if(!defined(labelOptions.y))y+=pInt(label.styles.lineHeight)*
0.9-label.getBBox().height/2;if(staggerLines)y+=index/(step||1)%staggerLines*16;return{x:x,y:y}},getMarkPath:function $Tick$$getMarkPath$(x,y,tickLength,tickWidth,horiz,renderer){return renderer.crispLine([M,x,y,L,x+(horiz?0:-tickLength),y+(horiz?tickLength:0)],tickWidth)},render:function $Tick$$render$(index,old){var tick=this;var axis=tick.axis;var options=axis.options;var chart=axis.chart;var renderer=chart.renderer;var horiz=axis.horiz;var type=tick.type;var label=tick.label;var pos=tick.pos;
var labelOptions=options.labels;var gridLine=tick.gridLine;var gridPrefix=type?type+"Grid":"grid";var tickPrefix=type?type+"Tick":"tick";var gridLineWidth=options[gridPrefix+"LineWidth"];var gridLineColor=options[gridPrefix+"LineColor"];var dashStyle=options[gridPrefix+"LineDashStyle"];var tickLength=options[tickPrefix+"Length"];var tickWidth=options[tickPrefix+"Width"]||0;var tickColor=options[tickPrefix+"Color"];var tickPosition=options[tickPrefix+"Position"];var gridLinePath;var mark=tick.mark;
var markPath;var step=labelOptions.step;var attribs;var show=true;var tickmarkOffset=axis.tickmarkOffset;var xy=tick.getPosition(horiz,pos,tickmarkOffset,old);var x=xy.x;var y=xy.y;var staggerLines=axis.staggerLines;if(gridLineWidth){gridLinePath=axis.getPlotLinePath(pos+tickmarkOffset,gridLineWidth,old);if(gridLine===UNDEFINED){attribs={stroke:gridLineColor,"stroke-width":gridLineWidth};if(dashStyle)attribs.dashstyle=dashStyle;if(!type)attribs.zIndex=1;tick.gridLine=gridLine=gridLineWidth?renderer.path(gridLinePath).attr(attribs).add(axis.gridGroup):
null}if(!old&&gridLine&&gridLinePath)gridLine[tick.isNew?"attr":"animate"]({d:gridLinePath})}if(tickWidth&&tickLength){if(tickPosition==="inside")tickLength=-tickLength;if(axis.opposite)tickLength=-tickLength;markPath=tick.getMarkPath(x,y,tickLength,tickWidth,horiz,renderer);if(mark)mark.animate({d:markPath});else tick.mark=renderer.path(markPath).attr({stroke:tickColor,"stroke-width":tickWidth}).add(axis.axisGroup)}if(label&&!isNaN(x)){label.xy=xy=tick.getLabelPosition(x,y,label,horiz,labelOptions,
tickmarkOffset,index,step);if(tick.isFirst&&!pick(options.showFirstLabel,1)||tick.isLast&&!pick(options.showLastLabel,1))show=false;else if(!staggerLines&&horiz&&labelOptions.overflow==="justify"&&!tick.handleOverflow(index,xy))show=false;if(step&&index%step)show=false;if(show){label[tick.isNew?"attr":"animate"](xy);label.show();tick.isNew=false}else label.hide()}},destroy:function $Tick$$destroy$(){destroyObjectProperties(this,this.axis)}};PlotLineOrBand.prototype={render:function $PlotLineOrBand$$render$(){var plotLine=
this;var axis=plotLine.axis;var horiz=axis.horiz;var halfPointRange=(axis.pointRange||0)/2;var options=plotLine.options;var optionsLabel=options.label;var label=plotLine.label;var width=options.width;var to=options.to;var from=options.from;var isBand=defined(from)&&defined(to);var value=options.value;var dashStyle=options.dashStyle;var svgElem=plotLine.svgElem;var path=[];var addEvent;var eventType$$0;var xs;var ys;var x;var y;var color=options.color;var zIndex=options.zIndex;var events=options.events;
var attribs;var renderer=axis.chart.renderer;if(axis.isLog){from=log2lin(from);to=log2lin(to);value=log2lin(value)}if(width){path=axis.getPlotLinePath(value,width);attribs={stroke:color,"stroke-width":width};if(dashStyle)attribs.dashstyle=dashStyle}else if(isBand){from=mathMax(from,axis.min-halfPointRange);to=mathMin(to,axis.max+halfPointRange);path=axis.getPlotBandPath(from,to,options);attribs={fill:color};if(options.borderWidth){attribs.stroke=options.borderColor;attribs["stroke-width"]=options.borderWidth}}else return;
if(defined(zIndex))attribs.zIndex=zIndex;if(svgElem)if(path)svgElem.animate({d:path},null,svgElem.onGetPath);else{svgElem.hide();svgElem.onGetPath=function $svgElem$onGetPath$(){svgElem.show()}}else if(path&&path.length){plotLine.svgElem=svgElem=renderer.path(path).attr(attribs).add();if(events){addEvent=function $addEvent$(eventType){svgElem.on(eventType,function(e){events[eventType].apply(plotLine,[e])})};for(eventType$$0 in events)addEvent(eventType$$0)}}if(optionsLabel&&defined(optionsLabel.text)&&
path&&path.length&&axis.width>0&&axis.height>0){optionsLabel=merge({align:horiz&&isBand&&"center",x:horiz?!isBand&&4:10,verticalAlign:!horiz&&isBand&&"middle",y:horiz?isBand?16:10:isBand?6:-4,rotation:horiz&&!isBand&&90},optionsLabel);if(!label)plotLine.label=label=renderer.text(optionsLabel.text,0,0).attr({align:optionsLabel.textAlign||optionsLabel.align,rotation:optionsLabel.rotation,zIndex:zIndex}).css(optionsLabel.style).add();xs=[path[1],path[4],pick(path[6],path[1])];ys=[path[2],path[5],pick(path[7],
path[2])];x=arrayMin(xs);y=arrayMin(ys);label.align(optionsLabel,false,{x:x,y:y,width:arrayMax(xs)-x,height:arrayMax(ys)-y});label.show()}else if(label)label.hide();return plotLine},destroy:function $PlotLineOrBand$$destroy$(){var plotLine=this;var axis=plotLine.axis;erase(axis.plotLinesAndBands,plotLine);destroyObjectProperties(plotLine,this.axis)}};StackItem.prototype={destroy:function $StackItem$$destroy$(){destroyObjectProperties(this,this.axis)},setTotal:function $StackItem$$setTotal$(total){this.total=
total;this.cum=total},render:function $StackItem$$render$(group){var str=this.options.formatter.call(this);if(this.label)this.label.attr({text:str,visibility:HIDDEN});else this.label=this.axis.chart.renderer.text(str,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:HIDDEN}).add(group)},setOffset:function $StackItem$$setOffset$(xOffset,xWidth){var stackItem=this;var axis=stackItem.axis;var chart=axis.chart;var inverted=chart.inverted;var neg=this.isNegative;
var y=axis.translate(this.total,0,0,0,1);var yZero=axis.translate(0);var h=mathAbs(y-yZero);var x=chart.xAxis[0].translate(this.x)+xOffset;var plotHeight=chart.plotHeight;var stackBox={x:inverted?neg?y:y-h:x,y:inverted?plotHeight-x-xWidth:neg?plotHeight-y-h:plotHeight-y,width:inverted?h:xWidth,height:inverted?xWidth:h};if(this.label)this.label.align(this.alignOptions,null,stackBox).attr({visibility:VISIBLE})}};Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",
minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:defaultLabelOptions,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",
style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:false,formatter:function $Axis$$defaultYAxisOptions$stackLabels$formatter$(){return this.total},style:defaultLabelOptions.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},
title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function $Axis$$init$(chart,userOptions){var isXAxis=userOptions.isX;var axis=this;axis.horiz=chart.inverted?!isXAxis:isXAxis;axis.isXAxis=isXAxis;axis.xOrY=isXAxis?"x":"y";axis.opposite=userOptions.opposite;axis.side=axis.horiz?axis.opposite?
0:2:axis.opposite?1:3;axis.setOptions(userOptions);var options=this.options;var type=options.type;var isDatetimeAxis=type==="datetime";axis.labelFormatter=options.labels.formatter||axis.defaultLabelFormatter;axis.staggerLines=axis.horiz&&options.labels.staggerLines;axis.userOptions=userOptions;axis.minPixelPadding=0;axis.chart=chart;axis.reversed=options.reversed;axis.categories=options.categories;axis.isLog=type==="logarithmic";axis.isLinked=defined(options.linkedTo);axis.isDatetimeAxis=isDatetimeAxis;
axis.tickmarkOffset=options.categories&&options.tickmarkPlacement==="between"?0.5:0;axis.ticks={};axis.minorTicks={};axis.plotLinesAndBands=[];axis.alternateBands={};axis.len=0;axis.minRange=axis.userMinRange=options.minRange||options.maxZoom;axis.range=options.range;axis.offset=options.offset||0;axis.stacks={};axis.max=null;axis.min=null;var eventType;var events=axis.options.events;chart.axes.push(axis);chart[isXAxis?"xAxis":"yAxis"].push(axis);axis.series=[];if(chart.inverted&&isXAxis&&axis.reversed===
UNDEFINED)axis.reversed=true;axis.removePlotBand=axis.removePlotBandOrLine;axis.removePlotLine=axis.removePlotBandOrLine;axis.addPlotBand=axis.addPlotBandOrLine;axis.addPlotLine=axis.addPlotBandOrLine;for(eventType in events)addEvent(axis,eventType,events[eventType]);if(axis.isLog){axis.val2lin=log2lin;axis.lin2val=lin2log}},setOptions:function $Axis$$setOptions$(userOptions){this.options=merge(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,
this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],merge(defaultOptions[this.isXAxis?"xAxis":"yAxis"],userOptions))},defaultLabelFormatter:function $Axis$$defaultLabelFormatter$(){var axis=this.axis;var value=this.value;var categories=axis.categories;var dateTimeLabelFormat=this.dateTimeLabelFormat;var numericSymbols=defaultOptions.lang.numericSymbols;var i=numericSymbols&&numericSymbols.length;var multi;var ret;var numericSymbolDetector=axis.isLog?value:axis.tickInterval;if(categories)ret=
value;else if(dateTimeLabelFormat)ret=dateFormat(dateTimeLabelFormat,value);else if(i&&numericSymbolDetector>=1E3)for(;i--&&ret===UNDEFINED;){multi=Math.pow(1E3,i+1);if(numericSymbolDetector>=multi&&numericSymbols[i]!==null)ret=numberFormat(value/multi,-1)+numericSymbols[i]}if(ret===UNDEFINED)if(value>=1E3)ret=numberFormat(value,0);else ret=numberFormat(value,-1);return ret},getSeriesExtremes:function $Axis$$getSeriesExtremes$(){var axis=this;var chart=axis.chart;var stacks=axis.stacks;var posStack=
[];var negStack=[];var i;axis.hasVisibleSeries=false;axis.dataMin=axis.dataMax=null;each(axis.series,function(series){if(series.visible||!chart.options.chart.ignoreHiddenSeries){var seriesOptions=series.options;var stacking;var posPointStack;var negPointStack;var stackKey;var stackOption;var negKey;var xData;var yData;var x;var y;var threshold=seriesOptions.threshold;var yDataLength;var activeYData=[];var activeCounter=0;axis.hasVisibleSeries=true;if(axis.isLog&&threshold<=0)threshold=seriesOptions.threshold=
null;if(axis.isXAxis){xData=series.xData;if(xData.length){axis.dataMin=mathMin(pick(axis.dataMin,xData[0]),arrayMin(xData));axis.dataMax=mathMax(pick(axis.dataMax,xData[0]),arrayMax(xData))}}else{var isNegative;var pointStack;var key;var cropped=series.cropped;var xExtremes=series.xAxis.getExtremes();var j;var hasModifyValue=!!series.modifyValue;stacking=seriesOptions.stacking;axis.usePercentage=stacking==="percent";if(stacking){stackOption=seriesOptions.stack;stackKey=series.type+pick(stackOption,
"");negKey="-"+stackKey;series.stackKey=stackKey;posPointStack=posStack[stackKey]||[];posStack[stackKey]=posPointStack;negPointStack=negStack[negKey]||[];negStack[negKey]=negPointStack}if(axis.usePercentage){axis.dataMin=0;axis.dataMax=99}xData=series.processedXData;yData=series.processedYData;yDataLength=yData.length;for(i=0;i<yDataLength;i++){x=xData[i];y=yData[i];if(y!==null&&y!==UNDEFINED){if(stacking){isNegative=y<threshold;pointStack=isNegative?negPointStack:posPointStack;key=isNegative?negKey:
stackKey;y=pointStack[x]=defined(pointStack[x])?pointStack[x]+y:y;if(!stacks[key])stacks[key]={};if(!stacks[key][x])stacks[key][x]=new StackItem(axis,axis.options.stackLabels,isNegative,x,stackOption);stacks[key][x].setTotal(y)}else if(hasModifyValue)y=series.modifyValue(y);if(cropped||(xData[i+1]||x)>=xExtremes.min&&(xData[i-1]||x)<=xExtremes.max){j=y.length;if(j)for(;j--;){if(y[j]!==null)activeYData[activeCounter++]=y[j]}else activeYData[activeCounter++]=y}}}if(!axis.usePercentage&&activeYData.length){axis.dataMin=
mathMin(pick(axis.dataMin,activeYData[0]),arrayMin(activeYData));axis.dataMax=mathMax(pick(axis.dataMax,activeYData[0]),arrayMax(activeYData))}if(defined(threshold))if(axis.dataMin>=threshold){axis.dataMin=threshold;axis.ignoreMinPadding=true}else if(axis.dataMax<threshold){axis.dataMax=threshold;axis.ignoreMaxPadding=true}}}})},translate:function $Axis$$translate$(val,backwards,cvsCoord,old,handleLog,pointPlacementBetween){var axis=this;var axisLength=axis.len;var sign=1;var cvsOffset=0;var localA=
old?axis.oldTransA:axis.transA;var localMin=old?axis.oldMin:axis.min;var returnValue;var postTranslate=axis.options.ordinal||axis.isLog&&handleLog;if(!localA)localA=axis.transA;if(cvsCoord){sign*=-1;cvsOffset=axisLength}if(axis.reversed){sign*=-1;cvsOffset-=sign*axisLength}if(backwards){if(axis.reversed)val=axisLength-val;returnValue=val/localA+localMin;if(postTranslate)returnValue=axis.lin2val(returnValue)}else{if(postTranslate)val=axis.val2lin(val);returnValue=sign*(val-localMin)*localA+cvsOffset+
sign*axis.minPixelPadding+(pointPlacementBetween?localA*axis.pointRange/2:0)}return returnValue},getPlotLinePath:function $Axis$$getPlotLinePath$(value,lineWidth,old){var axis=this;var chart=axis.chart;var axisLeft=axis.left;var axisTop=axis.top;var x1;var y1;var x2;var y2;var translatedValue=axis.translate(value,null,null,old);var cHeight=old&&chart.oldChartHeight||chart.chartHeight;var cWidth=old&&chart.oldChartWidth||chart.chartWidth;var skip;var transB=axis.transB;x1=x2=mathRound(translatedValue+
transB);y1=y2=mathRound(cHeight-translatedValue-transB);if(isNaN(translatedValue))skip=true;else if(axis.horiz){y1=axisTop;y2=cHeight-axis.bottom;if(x1<axisLeft||x1>axisLeft+axis.width)skip=true}else{x1=axisLeft;x2=cWidth-axis.right;if(y1<axisTop||y1>axisTop+axis.height)skip=true}return skip?null:chart.renderer.crispLine([M,x1,y1,L,x2,y2],lineWidth||0)},getPlotBandPath:function $Axis$$getPlotBandPath$(from,to){var toPath=this.getPlotLinePath(to);var path=this.getPlotLinePath(from);if(path&&toPath)path.push(toPath[4],
toPath[5],toPath[1],toPath[2]);else path=null;return path},getLinearTickPositions:function $Axis$$getLinearTickPositions$(tickInterval,min,max){var pos;var lastPos;var roundedMin=correctFloat(mathFloor(min/tickInterval)*tickInterval);var roundedMax=correctFloat(mathCeil(max/tickInterval)*tickInterval);var tickPositions=[];for(pos=roundedMin;pos<=roundedMax;){tickPositions.push(pos);pos=correctFloat(pos+tickInterval);if(pos===lastPos)break;lastPos=pos}return tickPositions},getLogTickPositions:function $Axis$$getLogTickPositions$(interval,
min,max,minor){var axis=this;var options=axis.options;var axisLength=axis.len;var positions=[];if(!minor)axis._minorAutoInterval=null;if(interval>=0.5){interval=mathRound(interval);positions=axis.getLinearTickPositions(interval,min,max)}else if(interval>=0.08){var roundedMin=mathFloor(min);var intermediate;var i;var j;var len;var pos;var lastPos;var break2;if(interval>0.3)intermediate=[1,2,4];else if(interval>0.15)intermediate=[1,2,4,6,8];else intermediate=[1,2,3,4,5,6,7,8,9];for(i=roundedMin;i<max+
1&&!break2;i++){len=intermediate.length;for(j=0;j<len&&!break2;j++){pos=log2lin(lin2log(i)*intermediate[j]);if(pos>min)positions.push(lastPos);if(lastPos>max)break2=true;lastPos=pos}}}else{var realMin=lin2log(min);var realMax=lin2log(max);var tickIntervalOption=options[minor?"minorTickInterval":"tickInterval"];var filteredTickIntervalOption=tickIntervalOption==="auto"?null:tickIntervalOption;var tickPixelIntervalOption=options.tickPixelInterval/(minor?5:1);var totalPixelLength=minor?axisLength/axis.tickPositions.length:
axisLength;interval=pick(filteredTickIntervalOption,axis._minorAutoInterval,(realMax-realMin)*tickPixelIntervalOption/(totalPixelLength||1));interval=normalizeTickInterval(interval,null,math.pow(10,mathFloor(math.log(interval)/math.LN10)));positions=map(axis.getLinearTickPositions(interval,realMin,realMax),log2lin);if(!minor)axis._minorAutoInterval=interval/5}if(!minor)axis.tickInterval=interval;return positions},getMinorTickPositions:function $Axis$$getMinorTickPositions$(){var axis=this;var tickPositions=
axis.tickPositions;var minorTickInterval=axis.minorTickInterval;var minorTickPositions=[];var pos;var i;var len;if(axis.isLog){len=tickPositions.length;for(i=1;i<len;i++)minorTickPositions=minorTickPositions.concat(axis.getLogTickPositions(minorTickInterval,tickPositions[i-1],tickPositions[i],true))}else for(pos=axis.min+(tickPositions[0]-axis.min)%minorTickInterval;pos<=axis.max;pos+=minorTickInterval)minorTickPositions.push(pos);return minorTickPositions},adjustForMinRange:function $Axis$$adjustForMinRange$(){var axis=
this;var options=axis.options;var min=axis.min;var max=axis.max;var zoomOffset;var spaceAvailable=axis.dataMax-axis.dataMin>=axis.minRange;var closestDataRange;var i;var distance;var xData;var loopLength;var minArgs;var maxArgs;if(axis.isXAxis&&axis.minRange===UNDEFINED&&!axis.isLog)if(defined(options.min)||defined(options.max))axis.minRange=null;else{each(axis.series,function(series){xData=series.xData;loopLength=series.xIncrement?1:xData.length-1;for(i=loopLength;i>0;i--){distance=xData[i]-xData[i-
1];if(closestDataRange===UNDEFINED||distance<closestDataRange)closestDataRange=distance}});axis.minRange=mathMin(closestDataRange*5,axis.dataMax-axis.dataMin)}if(max-min<axis.minRange){var minRange=axis.minRange;zoomOffset=(minRange-max+min)/2;minArgs=[min-zoomOffset,pick(options.min,min-zoomOffset)];if(spaceAvailable)minArgs[2]=axis.dataMin;min=arrayMax(minArgs);maxArgs=[min+minRange,pick(options.max,min+minRange)];if(spaceAvailable)maxArgs[2]=axis.dataMax;max=arrayMin(maxArgs);if(max-min<minRange){minArgs[0]=
max-minRange;minArgs[1]=pick(options.min,max-minRange);min=arrayMax(minArgs)}}axis.min=min;axis.max=max},setAxisTranslation:function $Axis$$setAxisTranslation$(){var axis=this;var range=axis.max-axis.min;var pointRange=0;var closestPointRange;var minPointOffset=0;var pointRangePadding=0;var transA=axis.transA;if(axis.isXAxis){if(axis.isLinked)minPointOffset=axis.linkedParent.minPointOffset;else each(axis.series,function(series){var seriesPointRange=series.pointRange;var pointPlacement=series.options.pointPlacement;
var seriesClosestPointRange=series.closestPointRange;pointRange=mathMax(pointRange,seriesPointRange);minPointOffset=mathMax(minPointOffset,pointPlacement?0:seriesPointRange/2);pointRangePadding=mathMax(pointRangePadding,pointPlacement==="on"?0:seriesPointRange);if(!series.noSharedTooltip&&defined(seriesClosestPointRange))closestPointRange=defined(closestPointRange)?mathMin(closestPointRange,seriesClosestPointRange):seriesClosestPointRange});axis.minPointOffset=minPointOffset;axis.pointRange=pointRange;
axis.closestPointRange=closestPointRange}axis.oldTransA=transA;axis.translationSlope=axis.transA=transA=axis.len/(range+pointRangePadding||1);axis.transB=axis.horiz?axis.left:axis.bottom;axis.minPixelPadding=transA*minPointOffset},setTickPositions:function $Axis$$setTickPositions$(secondPass){var axis=this;var chart=axis.chart;var options=axis.options;var isLog=axis.isLog;var isDatetimeAxis=axis.isDatetimeAxis;var isXAxis=axis.isXAxis;var isLinked=axis.isLinked;var tickPositioner=axis.options.tickPositioner;
var magnitude;var maxPadding=options.maxPadding;var minPadding=options.minPadding;var length;var linkedParentExtremes;var tickIntervalOption=options.tickInterval;var minTickIntervalOption=options.minTickInterval;var tickPixelIntervalOption=options.tickPixelInterval;var tickPositions;var categories=axis.categories;if(isLinked){axis.linkedParent=chart[isXAxis?"xAxis":"yAxis"][options.linkedTo];linkedParentExtremes=axis.linkedParent.getExtremes();axis.min=pick(linkedParentExtremes.min,linkedParentExtremes.dataMin);
axis.max=pick(linkedParentExtremes.max,linkedParentExtremes.dataMax);if(options.type!==axis.linkedParent.options.type)error(11,1)}else{axis.min=pick(axis.userMin,options.min,axis.dataMin);axis.max=pick(axis.userMax,options.max,axis.dataMax)}if(isLog){if(!secondPass&&mathMin(axis.min,pick(axis.dataMin,axis.min))<=0)error(10,1);axis.min=correctFloat(log2lin(axis.min));axis.max=correctFloat(log2lin(axis.max))}if(axis.range){axis.userMin=axis.min=mathMax(axis.min,axis.max-axis.range);axis.userMax=axis.max;
if(secondPass)axis.range=null}axis.adjustForMinRange();if(!categories&&!axis.usePercentage&&!isLinked&&defined(axis.min)&&defined(axis.max)){length=axis.max-axis.min||1;if(!defined(options.min)&&!defined(axis.userMin)&&minPadding&&(axis.dataMin<0||!axis.ignoreMinPadding))axis.min-=length*minPadding;if(!defined(options.max)&&!defined(axis.userMax)&&maxPadding&&(axis.dataMax>0||!axis.ignoreMaxPadding))axis.max+=length*maxPadding}if(axis.min===axis.max||axis.min===undefined||axis.max===undefined)axis.tickInterval=
1;else if(isLinked&&!tickIntervalOption&&tickPixelIntervalOption===axis.linkedParent.options.tickPixelInterval)axis.tickInterval=axis.linkedParent.tickInterval;else axis.tickInterval=pick(tickIntervalOption,categories?1:(axis.max-axis.min)*tickPixelIntervalOption/(axis.len||1));if(isXAxis&&!secondPass)each(axis.series,function(series){series.processData(axis.min!==axis.oldMin||axis.max!==axis.oldMax)});axis.setAxisTranslation(secondPass);if(axis.beforeSetTickPositions)axis.beforeSetTickPositions();
if(axis.postProcessTickInterval)axis.tickInterval=axis.postProcessTickInterval(axis.tickInterval);if(!tickIntervalOption&&axis.tickInterval<minTickIntervalOption)axis.tickInterval=minTickIntervalOption;if(!isDatetimeAxis&&!isLog){magnitude=math.pow(10,mathFloor(math.log(axis.tickInterval)/math.LN10));if(!tickIntervalOption)axis.tickInterval=normalizeTickInterval(axis.tickInterval,null,magnitude,options)}axis.minorTickInterval=options.minorTickInterval==="auto"&&axis.tickInterval?axis.tickInterval/
5:options.minorTickInterval;axis.tickPositions=tickPositions=options.tickPositions||tickPositioner&&tickPositioner.apply(axis,[axis.min,axis.max]);if(!tickPositions){if(isDatetimeAxis)tickPositions=(axis.getNonLinearTimeTicks||getTimeTicks)(normalizeTimeTickInterval(axis.tickInterval,options.units),axis.min,axis.max,options.startOfWeek,axis.ordinalPositions,axis.closestPointRange,true);else if(isLog)tickPositions=axis.getLogTickPositions(axis.tickInterval,axis.min,axis.max);else tickPositions=axis.getLinearTickPositions(axis.tickInterval,
axis.min,axis.max);axis.tickPositions=tickPositions}if(!isLinked){var roundedMin=tickPositions[0];var roundedMax=tickPositions[tickPositions.length-1];var minPointOffset=axis.minPointOffset||0;if(options.startOnTick)axis.min=roundedMin;else if(axis.min-minPointOffset>roundedMin)tickPositions.shift();if(options.endOnTick)axis.max=roundedMax;else if(axis.max+minPointOffset<roundedMax)tickPositions.pop()}},setMaxTicks:function $Axis$$setMaxTicks$(){var chart=this.chart;var maxTicks=chart.maxTicks;var tickPositions=
this.tickPositions;var xOrY=this.xOrY;if(!maxTicks)maxTicks={x:0,y:0};if(!this.isLinked&&!this.isDatetimeAxis&&tickPositions.length>maxTicks[xOrY]&&this.options.alignTicks!==false)maxTicks[xOrY]=tickPositions.length;chart.maxTicks=maxTicks},adjustTickAmount:function $Axis$$adjustTickAmount$(){var axis=this;var chart=axis.chart;var xOrY=axis.xOrY;var tickPositions=axis.tickPositions;var maxTicks=chart.maxTicks;if(maxTicks&&maxTicks[xOrY]&&!axis.isDatetimeAxis&&!axis.categories&&!axis.isLinked&&axis.options.alignTicks!==
false){var oldTickAmount=axis.tickAmount;var calculatedTickAmount=tickPositions.length;var tickAmount;axis.tickAmount=tickAmount=maxTicks[xOrY];if(calculatedTickAmount<tickAmount){for(;tickPositions.length<tickAmount;)tickPositions.push(correctFloat(tickPositions[tickPositions.length-1]+axis.tickInterval));axis.transA*=(calculatedTickAmount-1)/(tickAmount-1);axis.max=tickPositions[tickPositions.length-1]}if(defined(oldTickAmount)&&tickAmount!==oldTickAmount)axis.isDirty=true}},setScale:function $Axis$$setScale$(){var axis=
this;var stacks=axis.stacks;var type;var i;var isDirtyData;var isDirtyAxisLength;axis.oldMin=axis.min;axis.oldMax=axis.max;axis.oldAxisLength=axis.len;axis.setAxisSize();isDirtyAxisLength=axis.len!==axis.oldAxisLength;each(axis.series,function(series){if(series.isDirtyData||series.isDirty||series.xAxis.isDirty)isDirtyData=true});if(isDirtyAxisLength||isDirtyData||axis.isLinked||axis.userMin!==axis.oldUserMin||axis.userMax!==axis.oldUserMax){axis.getSeriesExtremes();axis.setTickPositions();axis.oldUserMin=
axis.userMin;axis.oldUserMax=axis.userMax;if(!axis.isDirty)axis.isDirty=isDirtyAxisLength||axis.min!==axis.oldMin||axis.max!==axis.oldMax}if(!axis.isXAxis)for(type in stacks)for(i in stacks[type])stacks[type][i].cum=stacks[type][i].total;axis.setMaxTicks()},setExtremes:function $Axis$$setExtremes$(newMin,newMax,redraw,animation,eventArguments){var axis=this;var chart=axis.chart;redraw=pick(redraw,true);eventArguments=extend(eventArguments,{min:newMin,max:newMax});fireEvent(axis,"setExtremes",eventArguments,
function(){axis.userMin=newMin;axis.userMax=newMax;axis.isDirtyExtremes=true;if(redraw)chart.redraw(animation)})},zoom:function $Axis$$zoom$(newMin,newMax){this.setExtremes(newMin,newMax,false,UNDEFINED,{trigger:"zoom"});return true},setAxisSize:function $Axis$$setAxisSize$(){var axis=this;var chart=axis.chart;var options=axis.options;var offsetLeft=options.offsetLeft||0;var offsetRight=options.offsetRight||0;axis.left=pick(options.left,chart.plotLeft+offsetLeft);axis.top=pick(options.top,chart.plotTop);
axis.width=pick(options.width,chart.plotWidth-offsetLeft+offsetRight);axis.height=pick(options.height,chart.plotHeight);axis.bottom=chart.chartHeight-axis.height-axis.top;axis.right=chart.chartWidth-axis.width-axis.left;axis.len=mathMax(axis.horiz?axis.width:axis.height,0)},getExtremes:function $Axis$$getExtremes$(){var axis=this;var isLog=axis.isLog;return{min:isLog?correctFloat(lin2log(axis.min)):axis.min,max:isLog?correctFloat(lin2log(axis.max)):axis.max,dataMin:axis.dataMin,dataMax:axis.dataMax,
userMin:axis.userMin,userMax:axis.userMax}},getThreshold:function $Axis$$getThreshold$(threshold){var axis=this;var isLog=axis.isLog;var realMin=isLog?lin2log(axis.min):axis.min;var realMax=isLog?lin2log(axis.max):axis.max;if(realMin>threshold||threshold===null)threshold=realMin;else if(realMax<threshold)threshold=realMax;return axis.translate(threshold,0,1,0,1)},addPlotBandOrLine:function $Axis$$addPlotBandOrLine$(options){var obj=(new PlotLineOrBand(this,options)).render();this.plotLinesAndBands.push(obj);
return obj},getOffset:function $Axis$$getOffset$(){var axis=this;var chart=axis.chart;var renderer=chart.renderer;var options=axis.options;var tickPositions=axis.tickPositions;var ticks=axis.ticks;var horiz=axis.horiz;var side=axis.side;var hasData;var showAxis;var titleOffset=0;var titleOffsetOption;var titleMargin=0;var axisTitleOptions=options.title;var labelOptions=options.labels;var labelOffset=0;var axisOffset=chart.axisOffset;var directionFactor=[-1,1,1,-1][side];var n;axis.hasData=hasData=
axis.hasVisibleSeries||defined(axis.min)&&defined(axis.max)&&!!tickPositions;axis.showAxis=showAxis=hasData||pick(options.showEmpty,true);if(!axis.axisGroup){axis.gridGroup=renderer.g("grid").attr({zIndex:options.gridZIndex||1}).add();axis.axisGroup=renderer.g("axis").attr({zIndex:options.zIndex||2}).add();axis.labelGroup=renderer.g("axis-labels").attr({zIndex:labelOptions.zIndex||7}).add()}if(hasData||axis.isLinked){each(tickPositions,function(pos){if(!ticks[pos])ticks[pos]=new Tick(axis,pos);else ticks[pos].addLabel()});
each(tickPositions,function(pos){if(side===0||side===2||{1:"left",3:"right"}[side]===labelOptions.align)labelOffset=mathMax(ticks[pos].getLabelSize(),labelOffset)});if(axis.staggerLines)labelOffset+=(axis.staggerLines-1)*16}else for(n in ticks){ticks[n].destroy();delete ticks[n]}if(axisTitleOptions&&axisTitleOptions.text){if(!axis.axisTitle){axis.axisTitle=renderer.text(axisTitleOptions.text,0,0,axisTitleOptions.useHTML).attr({zIndex:7,rotation:axisTitleOptions.rotation||0,align:axisTitleOptions.textAlign||
{low:"left",middle:"center",high:"right"}[axisTitleOptions.align]}).css(axisTitleOptions.style).add(axis.axisGroup);axis.axisTitle.isNew=true}if(showAxis){titleOffset=axis.axisTitle.getBBox()[horiz?"height":"width"];titleMargin=pick(axisTitleOptions.margin,horiz?5:10);titleOffsetOption=axisTitleOptions.offset}axis.axisTitle[showAxis?"show":"hide"]()}axis.offset=directionFactor*pick(options.offset,axisOffset[side]);axis.axisTitleMargin=pick(titleOffsetOption,labelOffset+titleMargin+(side!==2&&labelOffset&&
directionFactor*options.labels[horiz?"y":"x"]));axisOffset[side]=mathMax(axisOffset[side],axis.axisTitleMargin+titleOffset+directionFactor*axis.offset)},getLinePath:function $Axis$$getLinePath$(lineWidth){var chart=this.chart;var opposite=this.opposite;var offset=this.offset;var horiz=this.horiz;var lineLeft=this.left+(opposite?this.width:0)+offset;var lineTop=chart.chartHeight-this.bottom-(opposite?this.height:0)+offset;this.lineTop=lineTop;return chart.renderer.crispLine([M,horiz?this.left:lineLeft,
horiz?lineTop:this.top,L,horiz?chart.chartWidth-this.right:lineLeft,horiz?lineTop:chart.chartHeight-this.bottom],lineWidth)},getTitlePosition:function $Axis$$getTitlePosition$(){var horiz=this.horiz;var axisLeft=this.left;var axisTop=this.top;var axisLength=this.len;var axisTitleOptions=this.options.title;var margin=horiz?axisLeft:axisTop;var opposite=this.opposite;var offset=this.offset;var fontSize=pInt(axisTitleOptions.style.fontSize||12);var alongAxis={low:margin+(horiz?0:axisLength),middle:margin+
axisLength/2,high:margin+(horiz?axisLength:0)}[axisTitleOptions.align];var offAxis=(horiz?axisTop+this.height:axisLeft)+(horiz?1:-1)*(opposite?-1:1)*this.axisTitleMargin+(this.side===2?fontSize:0);return{x:horiz?alongAxis:offAxis+(opposite?this.width:0)+offset+(axisTitleOptions.x||0),y:horiz?offAxis-(opposite?this.height:0)+offset:alongAxis+(axisTitleOptions.y||0)}},render:function $Axis$$render$(){var axis=this;var chart=axis.chart;var renderer=chart.renderer;var options=axis.options;var isLog=axis.isLog;
var isLinked=axis.isLinked;var tickPositions=axis.tickPositions;var axisTitle=axis.axisTitle;var stacks=axis.stacks;var ticks=axis.ticks;var minorTicks=axis.minorTicks;var alternateBands=axis.alternateBands;var stackLabelOptions=options.stackLabels;var alternateGridColor=options.alternateGridColor;var tickmarkOffset=axis.tickmarkOffset;var lineWidth=options.lineWidth;var linePath;var hasRendered=chart.hasRendered;var slideInTicks=hasRendered&&defined(axis.oldMin)&&!isNaN(axis.oldMin);var hasData=
axis.hasData;var showAxis=axis.showAxis;var from;var to;if(hasData||isLinked){if(axis.minorTickInterval&&!axis.categories)each(axis.getMinorTickPositions(),function(pos){if(!minorTicks[pos])minorTicks[pos]=new Tick(axis,pos,"minor");if(slideInTicks&&minorTicks[pos].isNew)minorTicks[pos].render(null,true);minorTicks[pos].isActive=true;minorTicks[pos].render()});each(tickPositions.slice(1).concat([tickPositions[0]]),function(pos,i){i=i===tickPositions.length-1?0:i+1;if(!isLinked||pos>=axis.min&&pos<=
axis.max){if(!ticks[pos])ticks[pos]=new Tick(axis,pos);if(slideInTicks&&ticks[pos].isNew)ticks[pos].render(i,true);ticks[pos].isActive=true;ticks[pos].render(i)}});if(alternateGridColor)each(tickPositions,function(pos,i){if(i%2===0&&pos<axis.max){if(!alternateBands[pos])alternateBands[pos]=new PlotLineOrBand(axis);from=pos+tickmarkOffset;to=tickPositions[i+1]!==UNDEFINED?tickPositions[i+1]+tickmarkOffset:axis.max;alternateBands[pos].options={from:isLog?lin2log(from):from,to:isLog?lin2log(to):to,color:alternateGridColor};
alternateBands[pos].render();alternateBands[pos].isActive=true}});if(!axis._addedPlotLB){each((options.plotLines||[]).concat(options.plotBands||[]),function(plotLineOptions){axis.addPlotBandOrLine(plotLineOptions)});axis._addedPlotLB=true}}each([ticks,minorTicks,alternateBands],function(coll){for(var pos in coll)if(!coll[pos].isActive){coll[pos].destroy();delete coll[pos]}else coll[pos].isActive=false});if(lineWidth){linePath=axis.getLinePath(lineWidth);if(!axis.axisLine)axis.axisLine=renderer.path(linePath).attr({stroke:options.lineColor,
"stroke-width":lineWidth,zIndex:7}).add(axis.axisGroup);else axis.axisLine.animate({d:linePath});axis.axisLine[showAxis?"show":"hide"]()}if(axisTitle&&showAxis){axisTitle[axisTitle.isNew?"attr":"animate"](axis.getTitlePosition());axisTitle.isNew=false}if(stackLabelOptions&&stackLabelOptions.enabled){var stackKey;var oneStack;var stackCategory;var stackTotalGroup=axis.stackTotalGroup;if(!stackTotalGroup)axis.stackTotalGroup=stackTotalGroup=renderer.g("stack-labels").attr({visibility:VISIBLE,zIndex:6}).add();
stackTotalGroup.translate(chart.plotLeft,chart.plotTop);for(stackKey in stacks){oneStack=stacks[stackKey];for(stackCategory in oneStack)oneStack[stackCategory].render(stackTotalGroup)}}axis.isDirty=false},removePlotBandOrLine:function $Axis$$removePlotBandOrLine$(id){var plotLinesAndBands=this.plotLinesAndBands;for(var i=plotLinesAndBands.length;i--;)if(plotLinesAndBands[i].id===id)plotLinesAndBands[i].destroy()},setTitle:function $Axis$$setTitle$(newTitleOptions,redraw){var chart=this.chart;var options=
this.options;var axisTitle=this.axisTitle;options.title=merge(options.title,newTitleOptions);this.axisTitle=axisTitle&&axisTitle.destroy();this.isDirty=true;if(pick(redraw,true))chart.redraw()},redraw:function $Axis$$redraw$(){var axis=this;var chart=axis.chart;if(chart.tracker.resetTracker)chart.tracker.resetTracker(true);axis.render();each(axis.plotLinesAndBands,function(plotLine){plotLine.render()});each(axis.series,function(series){series.isDirty=true})},setCategories:function $Axis$$setCategories$(newCategories,
doRedraw){var axis=this;var chart=axis.chart;axis.categories=axis.userOptions.categories=newCategories;each(axis.series,function(series){series.translate();series.setTooltipPoints(true)});axis.isDirty=true;if(pick(doRedraw,true))chart.redraw()},destroy:function $Axis$$destroy$(){var axis=this;var stacks=axis.stacks;var stackKey;removeEvent(axis);for(stackKey in stacks){destroyObjectProperties(stacks[stackKey]);stacks[stackKey]=null}each([axis.ticks,axis.minorTicks,axis.alternateBands,axis.plotLinesAndBands],
function(coll){destroyObjectProperties(coll)});each(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(prop){if(axis[prop])axis[prop]=axis[prop].destroy()})}};Tooltip.prototype={destroy:function $Tooltip$$destroy$(){each(this.crosshairs,function(crosshair){if(crosshair)crosshair.destroy()});if(this.label)this.label=this.label.destroy()},move:function $Tooltip$$move$(x,y,anchorX,anchorY){var tooltip=this;var now=tooltip.now;var animate=tooltip.options.animation!==
false&&!tooltip.isHidden;extend(now,{x:animate?(2*now.x+x)/3:x,y:animate?(now.y+y)/2:y,anchorX:animate?(2*now.anchorX+anchorX)/3:anchorX,anchorY:animate?(now.anchorY+anchorY)/2:anchorY});tooltip.label.attr(now);if(animate&&(mathAbs(x-now.x)>1||mathAbs(y-now.y)>1))tooltip.tooltipTick=function $tooltip$tooltipTick$(){tooltip.move(x,y,anchorX,anchorY)};else tooltip.tooltipTick=null},hide:function $Tooltip$$hide$(){if(!this.isHidden){var hoverPoints=this.chart.hoverPoints;this.label.hide();if(hoverPoints)each(hoverPoints,
function(point){point.setState()});this.chart.hoverPoints=null;this.isHidden=true}},hideCrosshairs:function $Tooltip$$hideCrosshairs$(){each(this.crosshairs,function(crosshair){if(crosshair)crosshair.hide()})},getAnchor:function $Tooltip$$getAnchor$(points,mouseEvent){var ret;var chart=this.chart;var inverted=chart.inverted;var plotX=0;var plotY=0;var yAxis;points=splat(points);ret=points[0].tooltipPos;if(!ret){each(points,function(point){yAxis=point.series.yAxis;plotX+=point.plotX;plotY+=(point.plotLow?
(point.plotLow+point.plotHigh)/2:point.plotY)+(!inverted&&yAxis?yAxis.top-chart.plotTop:0)});plotX/=points.length;plotY/=points.length;ret=[inverted?chart.plotWidth-plotY:plotX,this.shared&&!inverted&&points.length>1&&mouseEvent?mouseEvent.chartY-chart.plotTop:inverted?chart.plotHeight-plotX:plotY]}return map(ret,mathRound)},getPosition:function $Tooltip$$getPosition$(boxWidth,boxHeight,point){var chart=this.chart;var plotLeft=chart.plotLeft;var plotTop=chart.plotTop;var plotWidth=chart.plotWidth;
var plotHeight=chart.plotHeight;var distance=pick(this.options.distance,12);var pointX=point.plotX;var pointY=point.plotY;var x=pointX+plotLeft+(chart.inverted?distance:-boxWidth-distance);var y=pointY-boxHeight+plotTop+15;var alignedRight;if(x<7)x=plotLeft+pointX+distance;if(x+boxWidth>plotLeft+plotWidth){x-=x+boxWidth-(plotLeft+plotWidth);y=pointY-boxHeight+plotTop-distance;alignedRight=true}if(y<plotTop+5){y=plotTop+5;if(alignedRight&&pointY>=y&&pointY<=y+boxHeight)y=pointY+plotTop+distance}if(y+
boxHeight>plotTop+plotHeight)y=mathMax(plotTop,plotTop+plotHeight-boxHeight-distance);return{x:x,y:y}},refresh:function $Tooltip$$refresh$(point$$0,mouseEvent){function defaultFormatter(){var pThis=this;var items=pThis.points||splat(pThis);var series=items[0].series;var s;s=[series.tooltipHeaderFormatter(items[0].key)];each(items,function(item){series=item.series;s.push(series.tooltipFormatter&&series.tooltipFormatter(item)||item.point.tooltipFormatter(series.tooltipOptions.pointFormat))});s.push(options.footerFormat||
"");return s.join("")}var tooltip=this;var chart=tooltip.chart;var label=tooltip.label;var options=tooltip.options;var x;var y;var show;var anchor;var textConfig={};var text;var pointConfig=[];var formatter=options.formatter||defaultFormatter;var hoverPoints=chart.hoverPoints;var placedTooltipPoint;var borderColor;var crosshairsOptions=options.crosshairs;var shared=tooltip.shared;var currentSeries;anchor=tooltip.getAnchor(point$$0,mouseEvent);x=anchor[0];y=anchor[1];if(shared&&!(point$$0.series&&
point$$0.series.noSharedTooltip)){chart.hoverPoints=point$$0;if(hoverPoints)each(hoverPoints,function(point){point.setState()});each(point$$0,function(item){item.setState(HOVER_STATE);pointConfig.push(item.getLabelConfig())});textConfig={x:point$$0[0].category,y:point$$0[0].y};textConfig.points=pointConfig;point$$0=point$$0[0]}else textConfig=point$$0.getLabelConfig();text=formatter.call(textConfig);currentSeries=point$$0.series;show=shared||!currentSeries.isCartesian||currentSeries.tooltipOutsidePlot||
chart.isInsidePlot(x,y);if(text===false||!show)this.hide();else{if(tooltip.isHidden)label.show();label.attr({text:text});borderColor=options.borderColor||point$$0.color||currentSeries.color||"#606060";label.attr({stroke:borderColor});placedTooltipPoint=(options.positioner||tooltip.getPosition).call(tooltip,label.width,label.height,{plotX:x,plotY:y});tooltip.move(mathRound(placedTooltipPoint.x),mathRound(placedTooltipPoint.y),x+chart.plotLeft,y+chart.plotTop);tooltip.isHidden=false}if(crosshairsOptions){crosshairsOptions=
splat(crosshairsOptions);var path;var i=crosshairsOptions.length;var attribs;for(var axis;i--;){axis=point$$0.series[i?"yAxis":"xAxis"];if(crosshairsOptions[i]&&axis){path=axis.getPlotLinePath(i?pick(point$$0.stackY,point$$0.y):point$$0.x,1);if(tooltip.crosshairs[i])tooltip.crosshairs[i].attr({d:path,visibility:VISIBLE});else{attribs={"stroke-width":crosshairsOptions[i].width||1,stroke:crosshairsOptions[i].color||"#C0C0C0",zIndex:crosshairsOptions[i].zIndex||2};if(crosshairsOptions[i].dashStyle)attribs.dashstyle=
crosshairsOptions[i].dashStyle;tooltip.crosshairs[i]=chart.renderer.path(path).attr(attribs).add()}}}}fireEvent(chart,"tooltipRefresh",{text:text,x:x+chart.plotLeft,y:y+chart.plotTop,borderColor:borderColor})},tick:function $Tooltip$$tick$(){if(this.tooltipTick)this.tooltipTick()}};MouseTracker.prototype={normalizeMouseEvent:function $MouseTracker$$normalizeMouseEvent$(e){var chartPosition;var chartX;var chartY;var ePos;e=e||win.event;if(!e.target)e.target=e.srcElement;e=washMouseEvent(e);ePos=e.touches?
e.touches.item(0):e;this.chartPosition=chartPosition=offset$$0(this.chart.container);if(ePos.pageX===UNDEFINED){chartX=e.x;chartY=e.y}else{chartX=ePos.pageX-chartPosition.left;chartY=ePos.pageY-chartPosition.top}return extend(e,{chartX:mathRound(chartX),chartY:mathRound(chartY)})},getMouseCoordinates:function $MouseTracker$$getMouseCoordinates$(e){var coordinates={xAxis:[],yAxis:[]};var chart=this.chart;each(chart.axes,function(axis){var isXAxis=axis.isXAxis;var isHorizontal=chart.inverted?!isXAxis:
isXAxis;coordinates[isXAxis?"xAxis":"yAxis"].push({axis:axis,value:axis.translate((isHorizontal?e.chartX-chart.plotLeft:axis.top+axis.len-e.chartY)-axis.minPixelPadding,true)})});return coordinates},getIndex:function $MouseTracker$$getIndex$(e){var chart=this.chart;return chart.inverted?chart.plotHeight+chart.plotTop-e.chartY:e.chartX-chart.plotLeft},onmousemove:function $MouseTracker$$onmousemove$(e){var mouseTracker=this;var chart=mouseTracker.chart;var series=chart.series;var tooltip=chart.tooltip;
var point;var points;var hoverPoint=chart.hoverPoint;var hoverSeries=chart.hoverSeries;var i;var j;var distance=chart.chartWidth;var index=mouseTracker.getIndex(e);if(tooltip&&mouseTracker.options.tooltip.shared&&!(hoverSeries&&hoverSeries.noSharedTooltip)){points=[];i=series.length;for(j=0;j<i;j++)if(series[j].visible&&series[j].options.enableMouseTracking!==false&&!series[j].noSharedTooltip&&series[j].tooltipPoints.length){point=series[j].tooltipPoints[index];point._dist=mathAbs(index-point[series[j].xAxis.tooltipPosName||
"plotX"]);distance=mathMin(distance,point._dist);points.push(point)}for(i=points.length;i--;)if(points[i]._dist>distance)points.splice(i,1);if(points.length&&points[0].plotX!==mouseTracker.hoverX){tooltip.refresh(points,e);mouseTracker.hoverX=points[0].plotX}}if(hoverSeries&&hoverSeries.tracker){point=hoverSeries.tooltipPoints[index];if(point&&point!==hoverPoint)point.onMouseOver()}},resetTracker:function $MouseTracker$$resetTracker$(allowMove){var mouseTracker=this;var chart=mouseTracker.chart;var hoverSeries=
chart.hoverSeries;var hoverPoint=chart.hoverPoint;var tooltip=chart.tooltip;var tooltipPoints=tooltip&&tooltip.shared?chart.hoverPoints:hoverPoint;allowMove=allowMove&&tooltip&&tooltipPoints;if(allowMove&&splat(tooltipPoints)[0].plotX===UNDEFINED)allowMove=false;if(allowMove)tooltip.refresh(tooltipPoints);else{if(hoverPoint)hoverPoint.onMouseOut();if(hoverSeries)hoverSeries.onMouseOut();if(tooltip){tooltip.hide();tooltip.hideCrosshairs()}mouseTracker.hoverX=null}},setDOMEvents:function $MouseTracker$$setDOMEvents$(){function drop(){if(mouseTracker.selectionMarker){var selectionData=
{xAxis:[],yAxis:[]};var selectionBox=mouseTracker.selectionMarker.getBBox();var selectionLeft=selectionBox.x-chart.plotLeft;var selectionTop=selectionBox.y-chart.plotTop;var runZoom;if(hasDragged){each(chart.axes,function(axis){if(axis.options.zoomEnabled!==false){var isXAxis=axis.isXAxis;var isHorizontal=chart.inverted?!isXAxis:isXAxis;var selectionMin=axis.translate(isHorizontal?selectionLeft:chart.plotHeight-selectionTop-selectionBox.height,true,0,0,1);var selectionMax=axis.translate((isHorizontal?
selectionLeft+selectionBox.width:chart.plotHeight-selectionTop)-2*axis.minPixelPadding,true,0,0,1);if(!isNaN(selectionMin)&&!isNaN(selectionMax)){selectionData[isXAxis?"xAxis":"yAxis"].push({axis:axis,min:mathMin(selectionMin,selectionMax),max:mathMax(selectionMin,selectionMax)});runZoom=true}}});if(runZoom)fireEvent(chart,"selection",selectionData,function(args){chart.zoom(args)})}mouseTracker.selectionMarker=mouseTracker.selectionMarker.destroy()}if(chart){css(container,{cursor:"auto"});chart.cancelClick=
hasDragged;chart.mouseIsDown=hasDragged=false}removeEvent(doc,hasTouch?"touchend":"mouseup",drop)}var lastWasOutsidePlot=true;var mouseTracker=this;var chart=mouseTracker.chart;var container=chart.container;var hasDragged;var zoomHor=mouseTracker.zoomX&&!chart.inverted||mouseTracker.zoomY&&chart.inverted;var zoomVert=mouseTracker.zoomY&&!chart.inverted||mouseTracker.zoomX&&chart.inverted;mouseTracker.hideTooltipOnMouseMove=function $mouseTracker$hideTooltipOnMouseMove$(e){e=washMouseEvent(e);if(mouseTracker.chartPosition&&
chart.hoverSeries&&chart.hoverSeries.isCartesian&&!chart.isInsidePlot(e.pageX-mouseTracker.chartPosition.left-chart.plotLeft,e.pageY-mouseTracker.chartPosition.top-chart.plotTop))mouseTracker.resetTracker()};mouseTracker.hideTooltipOnMouseLeave=function $mouseTracker$hideTooltipOnMouseLeave$(){mouseTracker.resetTracker();mouseTracker.chartPosition=null};container.onmousedown=function $container$onmousedown$(e){e=mouseTracker.normalizeMouseEvent(e);if(!hasTouch&&e.preventDefault)e.preventDefault();
chart.mouseIsDown=true;chart.cancelClick=false;chart.mouseDownX=mouseTracker.mouseDownX=e.chartX;mouseTracker.mouseDownY=e.chartY;addEvent(doc,hasTouch?"touchend":"mouseup",drop)};var mouseMove=function $mouseMove$(e){if(e&&e.touches&&e.touches.length>1)return;e=mouseTracker.normalizeMouseEvent(e);if(!hasTouch)e.returnValue=false;var chartX=e.chartX;var chartY=e.chartY;var isOutsidePlot=!chart.isInsidePlot(chartX-chart.plotLeft,chartY-chart.plotTop);if(hasTouch&&e.type==="touchstart")if(attr$$0(e.target,
"isTracker")){if(!chart.runTrackerClick)e.preventDefault()}else if(!chart.runChartClick&&!isOutsidePlot)e.preventDefault();if(isOutsidePlot){if(chartX<chart.plotLeft)chartX=chart.plotLeft;else if(chartX>chart.plotLeft+chart.plotWidth)chartX=chart.plotLeft+chart.plotWidth;if(chartY<chart.plotTop)chartY=chart.plotTop;else if(chartY>chart.plotTop+chart.plotHeight)chartY=chart.plotTop+chart.plotHeight}if(chart.mouseIsDown&&e.type!=="touchstart"){hasDragged=Math.sqrt(Math.pow(mouseTracker.mouseDownX-chartX,
2)+Math.pow(mouseTracker.mouseDownY-chartY,2));if(hasDragged>10){var clickedInside=chart.isInsidePlot(mouseTracker.mouseDownX-chart.plotLeft,mouseTracker.mouseDownY-chart.plotTop);if(chart.hasCartesianSeries&&(mouseTracker.zoomX||mouseTracker.zoomY)&&clickedInside)if(!mouseTracker.selectionMarker)mouseTracker.selectionMarker=chart.renderer.rect(chart.plotLeft,chart.plotTop,zoomHor?1:chart.plotWidth,zoomVert?1:chart.plotHeight,0).attr({fill:mouseTracker.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",
zIndex:7}).add();if(mouseTracker.selectionMarker&&zoomHor){var xSize=chartX-mouseTracker.mouseDownX;mouseTracker.selectionMarker.attr({width:mathAbs(xSize),x:(xSize>0?0:xSize)+mouseTracker.mouseDownX})}if(mouseTracker.selectionMarker&&zoomVert){var ySize=chartY-mouseTracker.mouseDownY;mouseTracker.selectionMarker.attr({height:mathAbs(ySize),y:(ySize>0?0:ySize)+mouseTracker.mouseDownY})}if(clickedInside&&!mouseTracker.selectionMarker&&mouseTracker.options.chart.panning)chart.pan(chartX)}}if(!isOutsidePlot)mouseTracker.onmousemove(e);
lastWasOutsidePlot=isOutsidePlot;return isOutsidePlot||!chart.hasCartesianSeries};container.onmousemove=mouseMove;addEvent(container,"mouseleave",mouseTracker.hideTooltipOnMouseLeave);addEvent(doc,"mousemove",mouseTracker.hideTooltipOnMouseMove);container.ontouchstart=function $container$ontouchstart$(e){if(mouseTracker.zoomX||mouseTracker.zoomY)container.onmousedown(e);mouseMove(e)};container.ontouchmove=mouseMove;container.ontouchend=function $container$ontouchend$(){if(hasDragged)mouseTracker.resetTracker()};
container.onclick=function $container$onclick$(e){var hoverPoint=chart.hoverPoint;var plotX;var plotY;e=mouseTracker.normalizeMouseEvent(e);e.cancelBubble=true;if(!chart.cancelClick)if(hoverPoint&&(attr$$0(e.target,"isTracker")||attr$$0(e.target.parentNode,"isTracker"))){plotX=hoverPoint.plotX;plotY=hoverPoint.plotY;extend(hoverPoint,{pageX:mouseTracker.chartPosition.left+chart.plotLeft+(chart.inverted?chart.plotWidth-plotY:plotX),pageY:mouseTracker.chartPosition.top+chart.plotTop+(chart.inverted?
chart.plotHeight-plotX:plotY)});fireEvent(hoverPoint.series,"click",extend(e,{point:hoverPoint}));hoverPoint.firePointEvent("click",e)}else{extend(e,mouseTracker.getMouseCoordinates(e));if(chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop))fireEvent(chart,"click",e)}}},destroy:function $MouseTracker$$destroy$(){var mouseTracker=this;var chart=mouseTracker.chart;var container=chart.container;if(chart.trackerGroup)chart.trackerGroup=chart.trackerGroup.destroy();removeEvent(container,
"mouseleave",mouseTracker.hideTooltipOnMouseLeave);removeEvent(doc,"mousemove",mouseTracker.hideTooltipOnMouseMove);container.onclick=container.onmousedown=container.onmousemove=container.ontouchstart=container.ontouchend=container.ontouchmove=null;clearInterval(this.tooltipInterval)},init:function $MouseTracker$$init$(chart,options){if(!chart.trackerGroup)chart.trackerGroup=chart.renderer.g("tracker").attr({zIndex:9}).add();if(options.enabled){chart.tooltip=new Tooltip(chart,options);this.tooltipInterval=
setInterval(function(){if(chart&&chart.tooltip)chart.tooltip.tick()},32)}this.setDOMEvents()}};Legend.prototype={init:function $Legend$$init$(chart){var legend=this;var options=legend.options=chart.options.legend;if(!options.enabled)return;var itemStyle=options.itemStyle;var padding=pick(options.padding,8);var itemMarginTop=options.itemMarginTop||0;legend.baseline=pInt(itemStyle.fontSize)+3+itemMarginTop;legend.itemStyle=itemStyle;legend.itemHiddenStyle=merge(itemStyle,options.itemHiddenStyle);legend.itemMarginTop=
itemMarginTop;legend.padding=padding;legend.initialItemX=padding;legend.initialItemY=padding-5;legend.maxItemWidth=0;legend.chart=chart;legend.itemHeight=0;legend.lastLineHeight=0;legend.render();addEvent(legend.chart,"endResize",function(){legend.positionCheckboxes()})},colorizeItem:function $Legend$$colorizeItem$(item,visible){var legend=this;var options=legend.options;var legendItem=item.legendItem;var legendLine=item.legendLine;var legendSymbol=item.legendSymbol;var hiddenColor=legend.itemHiddenStyle.color;
var textColor=visible?options.itemStyle.color:hiddenColor;var symbolColor=visible?item.color:hiddenColor;if(legendItem)legendItem.css({fill:textColor});if(legendLine)legendLine.attr({stroke:symbolColor});if(legendSymbol)legendSymbol.attr({stroke:symbolColor,fill:symbolColor})},positionItem:function $Legend$$positionItem$(item){var legend=this;var options=legend.options;var symbolPadding=options.symbolPadding;var ltr=!options.rtl;var legendItemPos=item._legendItemPos;var itemX=legendItemPos[0];var itemY=
legendItemPos[1];var checkbox=item.checkbox;if(item.legendGroup)item.legendGroup.translate(ltr?itemX:legend.legendWidth-itemX-2*symbolPadding-4,itemY);if(checkbox){checkbox.x=itemX;checkbox.y=itemY}},destroyItem:function $Legend$$destroyItem$(item){var checkbox=item.checkbox;each(["legendItem","legendLine","legendSymbol","legendGroup"],function(key){if(item[key])item[key].destroy()});if(checkbox)discardElement(item.checkbox)},destroy:function $Legend$$destroy$(){var legend=this;var legendGroup=legend.group;
var box=legend.box;if(box)legend.box=box.destroy();if(legendGroup)legend.group=legendGroup.destroy()},positionCheckboxes:function $Legend$$positionCheckboxes$(){var legend=this;each(legend.allItems,function(item){var checkbox=item.checkbox;var alignAttr=legend.group.alignAttr;if(checkbox)css(checkbox,{left:alignAttr.translateX+item.legendItemWidth+checkbox.x-20+PX,top:alignAttr.translateY+checkbox.y+3+PX})})},renderItem:function $Legend$$renderItem$(item){var legend=this;var chart=legend.chart;var renderer=
chart.renderer;var options=legend.options;var horizontal=options.layout==="horizontal";var symbolWidth=options.symbolWidth;var symbolPadding=options.symbolPadding;var itemStyle=legend.itemStyle;var itemHiddenStyle=legend.itemHiddenStyle;var padding=legend.padding;var ltr=!options.rtl;var itemHeight;var widthOption=options.width;var itemMarginBottom=options.itemMarginBottom||0;var itemMarginTop=legend.itemMarginTop;var initialItemX=legend.initialItemX;var bBox;var itemWidth;var li=item.legendItem;
var series=item.series||item;var itemOptions=series.options;var showCheckbox=itemOptions.showCheckbox;if(!li){item.legendGroup=renderer.g("legend-item").attr({zIndex:1}).add(legend.scrollGroup);series.drawLegendSymbol(legend,item);item.legendItem=li=renderer.text(options.labelFormatter.call(item),ltr?symbolWidth+symbolPadding:-symbolPadding,legend.baseline,options.useHTML).css(merge(item.visible?itemStyle:itemHiddenStyle)).attr({align:ltr?"left":"right",zIndex:2}).add(item.legendGroup);item.legendGroup.on("mouseover",
function(){item.setState(HOVER_STATE);li.css(legend.options.itemHoverStyle)}).on("mouseout",function(){li.css(item.visible?itemStyle:itemHiddenStyle);item.setState()}).on("click",function(event){var strLegendItemClick="legendItemClick";var fnLegendItemClick=function $fnLegendItemClick$(){item.setVisible()};event={browserEvent:event};if(item.firePointEvent)item.firePointEvent(strLegendItemClick,event,fnLegendItemClick);else fireEvent(item,strLegendItemClick,event,fnLegendItemClick)});legend.colorizeItem(item,
item.visible);if(itemOptions&&showCheckbox){item.checkbox=createElement("input",{type:"checkbox",checked:item.selected,defaultChecked:item.selected},options.itemCheckboxStyle,chart.container);addEvent(item.checkbox,"click",function(event){var target=event.target;fireEvent(item,"checkboxClick",{checked:target.checked},function(){item.select()})})}}bBox=li.getBBox();itemWidth=item.legendItemWidth=options.itemWidth||symbolWidth+symbolPadding+bBox.width+padding+(showCheckbox?20:0);legend.itemHeight=itemHeight=
bBox.height;if(horizontal&&legend.itemX-initialItemX+itemWidth>(widthOption||chart.chartWidth-2*padding-initialItemX)){legend.itemX=initialItemX;legend.itemY+=itemMarginTop+legend.lastLineHeight+itemMarginBottom;legend.lastLineHeight=0}legend.maxItemWidth=mathMax(legend.maxItemWidth,itemWidth);legend.lastItemY=itemMarginTop+legend.itemY+itemMarginBottom;legend.lastLineHeight=mathMax(itemHeight,legend.lastLineHeight);item._legendItemPos=[legend.itemX,legend.itemY];if(horizontal)legend.itemX+=itemWidth;
else{legend.itemY+=itemMarginTop+itemHeight+itemMarginBottom;legend.lastLineHeight=itemHeight}legend.offsetWidth=widthOption||mathMax(horizontal?legend.itemX-initialItemX:itemWidth,legend.offsetWidth)},render:function $Legend$$render$(){var legend=this;var chart=legend.chart;var renderer=chart.renderer;var legendGroup=legend.group;var allItems;var display;var legendWidth;var legendHeight;var box=legend.box;var options=legend.options;var padding=legend.padding;var legendBorderWidth=options.borderWidth;
var legendBackgroundColor=options.backgroundColor;legend.itemX=legend.initialItemX;legend.itemY=legend.initialItemY;legend.offsetWidth=0;legend.lastItemY=0;if(!legendGroup){legend.group=legendGroup=renderer.g("legend").attr({zIndex:7}).add();legend.contentGroup=renderer.g().attr({zIndex:1}).add(legendGroup);legend.scrollGroup=renderer.g().add(legend.contentGroup);legend.clipRect=renderer.clipRect(0,0,9999,chart.chartHeight);legend.contentGroup.clip(legend.clipRect)}allItems=[];each(chart.series,function(serie){var seriesOptions=
serie.options;if(!seriesOptions.showInLegend)return;allItems=allItems.concat(serie.legendItems||(seriesOptions.legendType==="point"?serie.data:serie))});stableSort(allItems,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)});if(options.reversed)allItems.reverse();legend.allItems=allItems;legend.display=display=!!allItems.length;each(allItems,function(item){legend.renderItem(item)});legendWidth=options.width||legend.offsetWidth;legendHeight=legend.lastItemY+
legend.lastLineHeight;legendHeight=legend.handleOverflow(legendHeight);if(legendBorderWidth||legendBackgroundColor){legendWidth+=padding;legendHeight+=padding;if(!box){legend.box=box=renderer.rect(0,0,legendWidth,legendHeight,options.borderRadius,legendBorderWidth||0).attr({stroke:options.borderColor,"stroke-width":legendBorderWidth||0,fill:legendBackgroundColor||NONE}).add(legendGroup).shadow(options.shadow);box.isNew=true}else if(legendWidth>0&&legendHeight>0){box[box.isNew?"attr":"animate"](box.crisp(null,
null,null,legendWidth,legendHeight));box.isNew=false}box[display?"show":"hide"]()}legend.legendWidth=legendWidth;legend.legendHeight=legendHeight;each(allItems,function(item){legend.positionItem(item)});if(display)legendGroup.align(extend({width:legendWidth,height:legendHeight},options),true,chart.spacingBox);if(!chart.isResizing)this.positionCheckboxes()},handleOverflow:function $Legend$$handleOverflow$(legendHeight){var legend=this;var chart=this.chart;var renderer=chart.renderer;var pageCount;
var options=this.options;var optionsY=options.y;var alignTop=options.verticalAlign==="top";var spaceHeight=chart.spacingBox.height+(alignTop?-optionsY:optionsY)-this.padding;var maxHeight=options.maxHeight;var clipHeight;var clipRect=this.clipRect;var navOptions=options.navigation;var animation=pick(navOptions.animation,true);var arrowSize=navOptions.arrowSize||12;var nav=this.nav;if(options.layout==="horizontal")spaceHeight/=2;if(maxHeight)spaceHeight=mathMin(spaceHeight,maxHeight);if(legendHeight>
spaceHeight){this.clipHeight=clipHeight=spaceHeight-20;this.pageCount=pageCount=mathCeil(legendHeight/clipHeight);this.currentPage=pick(this.currentPage,1);this.fullHeight=legendHeight;clipRect.attr({height:clipHeight});if(!nav){this.nav=nav=renderer.g().attr({zIndex:1}).add(this.group);this.up=renderer.symbol("triangle",0,0,arrowSize,arrowSize).on("click",function(){legend.scroll(-1,animation)}).add(nav);this.pager=renderer.text("",15,10).css(navOptions.style).add(nav);this.down=renderer.symbol("triangle-down",
0,0,arrowSize,arrowSize).on("click",function(){legend.scroll(1,animation)}).add(nav)}legend.scroll(0);legendHeight=spaceHeight}else if(nav){clipRect.attr({height:chart.chartHeight});nav.hide();this.scrollGroup.attr({translateY:1})}return legendHeight},scroll:function $Legend$$scroll$(scrollBy,animation){var pageCount=this.pageCount;var currentPage=this.currentPage+scrollBy;var clipHeight=this.clipHeight;var navOptions=this.options.navigation;var activeColor=navOptions.activeColor;var inactiveColor=
navOptions.inactiveColor;var pager=this.pager;var padding=this.padding;if(currentPage>pageCount)currentPage=pageCount;if(currentPage>0){if(animation!==UNDEFINED)setAnimation(animation,this.chart);this.nav.attr({translateX:padding,translateY:clipHeight+7,visibility:VISIBLE});this.up.attr({fill:currentPage===1?inactiveColor:activeColor}).css({cursor:currentPage===1?"default":"pointer"});pager.attr({text:currentPage+"/"+this.pageCount});this.down.attr({x:18+this.pager.getBBox().width,fill:currentPage===
pageCount?inactiveColor:activeColor}).css({cursor:currentPage===pageCount?"default":"pointer"});this.scrollGroup.animate({translateY:-mathMin(clipHeight*(currentPage-1),this.fullHeight-clipHeight+padding)+1});pager.attr({text:currentPage+"/"+pageCount});this.currentPage=currentPage}}};Chart.prototype={initSeries:function $Chart$$initSeries$(options){var chart=this;var optionsChart=chart.options.chart;var type=options.type||optionsChart.type||optionsChart.defaultSeriesType;var series=new seriesTypes[type];
series.init(this,options);return series},addSeries:function $Chart$$addSeries$(options,redraw,animation){var series;var chart=this;if(options){setAnimation(animation,chart);redraw=pick(redraw,true);fireEvent(chart,"addSeries",{options:options},function(){series=chart.initSeries(options);chart.isDirtyLegend=true;if(redraw)chart.redraw()})}return series},isInsidePlot:function $Chart$$isInsidePlot$(plotX,plotY,inverted){var x=inverted?plotY:plotX;var y=inverted?plotX:plotY;return x>=0&&x<=this.plotWidth&&
y>=0&&y<=this.plotHeight},adjustTickAmounts:function $Chart$$adjustTickAmounts$(){if(this.options.chart.alignTicks!==false)each(this.axes,function(axis){axis.adjustTickAmount()});this.maxTicks=null},redraw:function $Chart$$redraw$(animation){var chart=this;var axes=chart.axes;var series=chart.series;var tracker=chart.tracker;var legend=chart.legend;var redrawLegend=chart.isDirtyLegend;var hasStackedSeries;var isDirtyBox=chart.isDirtyBox;var seriesLength=series.length;var i=seriesLength;var serie$$0;
var renderer=chart.renderer;var isHiddenChart=renderer.isHidden();setAnimation(animation,chart);if(isHiddenChart)chart.cloneRenderTo();for(;i--;){serie$$0=series[i];if(serie$$0.isDirty&&serie$$0.options.stacking){hasStackedSeries=true;break}}if(hasStackedSeries)for(i=seriesLength;i--;){serie$$0=series[i];if(serie$$0.options.stacking)serie$$0.isDirty=true}each(series,function(serie){if(serie.isDirty)if(serie.options.legendType==="point")redrawLegend=true});if(redrawLegend&&legend.options.enabled){legend.render();
chart.isDirtyLegend=false}if(chart.hasCartesianSeries){if(!chart.isResizing){chart.maxTicks=null;each(axes,function(axis){axis.setScale()})}chart.adjustTickAmounts();chart.getMargins();each(axes,function(axis){if(axis.isDirtyExtremes){axis.isDirtyExtremes=false;fireEvent(axis,"afterSetExtremes",axis.getExtremes())}if(axis.isDirty||isDirtyBox||hasStackedSeries){axis.redraw();isDirtyBox=true}})}if(isDirtyBox)chart.drawChartBox();each(series,function(serie){if(serie.isDirty&&serie.visible&&(!serie.isCartesian||
serie.xAxis))serie.redraw()});if(tracker&&tracker.resetTracker)tracker.resetTracker(true);renderer.draw();fireEvent(chart,"redraw");if(isHiddenChart)chart.cloneRenderTo(true)},showLoading:function $Chart$$showLoading$(str){var chart=this;var options=chart.options;var loadingDiv=chart.loadingDiv;var loadingOptions=options.loading;if(!loadingDiv){chart.loadingDiv=loadingDiv=createElement(DIV,{className:PREFIX+"loading"},extend(loadingOptions.style,{left:chart.plotLeft+PX,top:chart.plotTop+PX,width:chart.plotWidth+
PX,height:chart.plotHeight+PX,zIndex:10,display:NONE}),chart.container);chart.loadingSpan=createElement("span",null,loadingOptions.labelStyle,loadingDiv)}chart.loadingSpan.innerHTML=str||options.lang.loading;if(!chart.loadingShown){css(loadingDiv,{opacity:0,display:""});animate(loadingDiv,{opacity:loadingOptions.style.opacity},{duration:loadingOptions.showDuration||0});chart.loadingShown=true}},hideLoading:function $Chart$$hideLoading$(){var options=this.options;var loadingDiv=this.loadingDiv;if(loadingDiv)animate(loadingDiv,
{opacity:0},{duration:options.loading.hideDuration||100,complete:function(){css(loadingDiv,{display:NONE})}});this.loadingShown=false},get:function $Chart$$get$(id){var chart=this;var axes=chart.axes;var series=chart.series;var i;var j;var points;for(i=0;i<axes.length;i++)if(axes[i].options.id===id)return axes[i];for(i=0;i<series.length;i++)if(series[i].options.id===id)return series[i];for(i=0;i<series.length;i++){points=series[i].points||[];for(j=0;j<points.length;j++)if(points[j].id===id)return points[j]}return null},
getAxes:function $Chart$$getAxes$(){var chart=this;var options=this.options;var xAxisOptions=options.xAxis||{};var yAxisOptions=options.yAxis||{};var optionsArray;var axis$$0;xAxisOptions=splat(xAxisOptions);each(xAxisOptions,function(axis,i){axis.index=i;axis.isX=true});yAxisOptions=splat(yAxisOptions);each(yAxisOptions,function(axis,i){axis.index=i});optionsArray=xAxisOptions.concat(yAxisOptions);each(optionsArray,function(axisOptions){axis$$0=new Axis(chart,axisOptions)});chart.adjustTickAmounts()},
getSelectedPoints:function $Chart$$getSelectedPoints$(){var points=[];each(this.series,function(serie){points=points.concat(grep(serie.points,function(point){return point.selected}))});return points},getSelectedSeries:function $Chart$$getSelectedSeries$(){return grep(this.series,function(serie){return serie.selected})},showResetZoom:function $Chart$$showResetZoom$(){var chart=this;var lang=defaultOptions.lang;var btnOptions=chart.options.chart.resetZoomButton;var theme=btnOptions.theme;var states=
theme.states;var alignTo=btnOptions.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=chart.renderer.button(lang.resetZoom,null,null,function(){chart.zoomOut()},theme,states&&states.hover).attr({align:btnOptions.position.align,title:lang.resetZoomTitle}).add().align(btnOptions.position,false,chart[alignTo]);this.resetZoomButton.alignTo=alignTo},zoomOut:function $Chart$$zoomOut$(){var chart=this;var resetZoomButton=chart.resetZoomButton;fireEvent(chart,"selection",{resetSelection:true},function(){chart.zoom()});
if(resetZoomButton)chart.resetZoomButton=resetZoomButton.destroy()},zoom:function $Chart$$zoom$(event){var chart=this;var hasZoomed;if(!event||event.resetSelection)each(chart.axes,function(axis){hasZoomed=axis.zoom()});else each(event.xAxis.concat(event.yAxis),function(axisData){var axis=axisData.axis;if(chart.tracker[axis.isXAxis?"zoomX":"zoomY"])hasZoomed=axis.zoom(axisData.min,axisData.max)});if(!chart.resetZoomButton)chart.showResetZoom();if(hasZoomed)chart.redraw(pick(chart.options.chart.animation,
chart.pointCount<100))},pan:function $Chart$$pan$(chartX){var chart=this;var xAxis=chart.xAxis[0];var mouseDownX=chart.mouseDownX;var halfPointRange=xAxis.pointRange/2;var extremes=xAxis.getExtremes();var newMin=xAxis.translate(mouseDownX-chartX,true)+halfPointRange;var newMax=xAxis.translate(mouseDownX+chart.plotWidth-chartX,true)-halfPointRange;var hoverPoints=chart.hoverPoints;if(hoverPoints)each(hoverPoints,function(point){point.setState()});if(xAxis.series.length&&newMin>mathMin(extremes.dataMin,
extremes.min)&&newMax<mathMax(extremes.dataMax,extremes.max))xAxis.setExtremes(newMin,newMax,true,false,{trigger:"pan"});chart.mouseDownX=chartX;css(chart.container,{cursor:"move"})},setTitle:function $Chart$$setTitle$(titleOptions,subtitleOptions){var chart=this;var options=chart.options;var chartTitleOptions;var chartSubtitleOptions;chart.chartTitleOptions=chartTitleOptions=merge(options.title,titleOptions);chart.chartSubtitleOptions=chartSubtitleOptions=merge(options.subtitle,subtitleOptions);
each([["title",titleOptions,chartTitleOptions],["subtitle",subtitleOptions,chartSubtitleOptions]],function(arr){var name=arr[0];var title=chart[name];var titleOptions=arr[1];var chartTitleOptions=arr[2];if(title&&titleOptions)chart[name]=title=title.destroy();if(chartTitleOptions&&chartTitleOptions.text&&!title)chart[name]=chart.renderer.text(chartTitleOptions.text,0,0,chartTitleOptions.useHTML).attr({align:chartTitleOptions.align,"class":PREFIX+name,zIndex:chartTitleOptions.zIndex||4}).css(chartTitleOptions.style).add().align(chartTitleOptions,
false,chart.spacingBox)})},getChartSize:function $Chart$$getChartSize$(){var chart=this;var optionsChart=chart.options.chart;var renderTo=chart.renderToClone||chart.renderTo;chart.containerWidth=adapterRun(renderTo,"width");chart.containerHeight=adapterRun(renderTo,"height");chart.chartWidth=optionsChart.width||chart.containerWidth||600;chart.chartHeight=optionsChart.height||(chart.containerHeight>19?chart.containerHeight:400)},cloneRenderTo:function $Chart$$cloneRenderTo$(revert){var clone=this.renderToClone;
var container=this.container;if(revert){if(clone){this.renderTo.appendChild(container);discardElement(clone);delete this.renderToClone}}else{if(container)this.renderTo.removeChild(container);this.renderToClone=clone=this.renderTo.cloneNode(0);css(clone,{position:ABSOLUTE,top:"-9999px",display:"block"});doc.body.appendChild(clone);if(container)clone.appendChild(container)}},getContainer:function $Chart$$getContainer$(){var chart=this;var container;var optionsChart=chart.options.chart;var chartWidth;
var chartHeight;var renderTo;var containerId;chart.renderTo=renderTo=optionsChart.renderTo;containerId=PREFIX+idCounter++;if(isString(renderTo))chart.renderTo=renderTo=doc.getElementById(renderTo);if(!renderTo)error(13,true);renderTo.innerHTML="";if(!renderTo.offsetWidth)chart.cloneRenderTo();chart.getChartSize();chartWidth=chart.chartWidth;chartHeight=chart.chartHeight;chart.container=container=createElement(DIV,{className:PREFIX+"container"+(optionsChart.className?" "+optionsChart.className:""),
id:containerId},extend({position:RELATIVE,overflow:HIDDEN,width:chartWidth+PX,height:chartHeight+PX,textAlign:"left",lineHeight:"normal",zIndex:0},optionsChart.style),chart.renderToClone||renderTo);chart.renderer=optionsChart.forExport?new SVGRenderer(container,chartWidth,chartHeight,true):new Renderer(container,chartWidth,chartHeight);if(useCanVG)chart.renderer.create(chart,container,chartWidth,chartHeight)},getMargins:function $Chart$$getMargins$(){var chart=this;var optionsChart=chart.options.chart;
var spacingTop=optionsChart.spacingTop;var spacingRight=optionsChart.spacingRight;var spacingBottom=optionsChart.spacingBottom;var spacingLeft=optionsChart.spacingLeft;var axisOffset;var legend=chart.legend;var optionsMarginTop=chart.optionsMarginTop;var optionsMarginLeft=chart.optionsMarginLeft;var optionsMarginRight=chart.optionsMarginRight;var optionsMarginBottom=chart.optionsMarginBottom;var chartTitleOptions=chart.chartTitleOptions;var chartSubtitleOptions=chart.chartSubtitleOptions;var legendOptions=
chart.options.legend;var legendMargin=pick(legendOptions.margin,10);var legendX=legendOptions.x;var legendY=legendOptions.y;var align=legendOptions.align;var verticalAlign=legendOptions.verticalAlign;var titleOffset;chart.resetMargins();axisOffset=chart.axisOffset;if((chart.title||chart.subtitle)&&!defined(chart.optionsMarginTop)){titleOffset=mathMax(chart.title&&!chartTitleOptions.floating&&!chartTitleOptions.verticalAlign&&chartTitleOptions.y||0,chart.subtitle&&!chartSubtitleOptions.floating&&!chartSubtitleOptions.verticalAlign&&
chartSubtitleOptions.y||0);if(titleOffset)chart.plotTop=mathMax(chart.plotTop,titleOffset+pick(chartTitleOptions.margin,15)+spacingTop)}if(legend.display&&!legendOptions.floating)if(align==="right"){if(!defined(optionsMarginRight))chart.marginRight=mathMax(chart.marginRight,legend.legendWidth-legendX+legendMargin+spacingRight)}else if(align==="left"){if(!defined(optionsMarginLeft))chart.plotLeft=mathMax(chart.plotLeft,legend.legendWidth+legendX+legendMargin+spacingLeft)}else if(verticalAlign==="top"){if(!defined(optionsMarginTop))chart.plotTop=
mathMax(chart.plotTop,legend.legendHeight+legendY+legendMargin+spacingTop)}else if(verticalAlign==="bottom")if(!defined(optionsMarginBottom))chart.marginBottom=mathMax(chart.marginBottom,legend.legendHeight-legendY+legendMargin+spacingBottom);if(chart.extraBottomMargin)chart.marginBottom+=chart.extraBottomMargin;if(chart.extraTopMargin)chart.plotTop+=chart.extraTopMargin;if(chart.hasCartesianSeries)each(chart.axes,function(axis){axis.getOffset()});if(!defined(optionsMarginLeft))chart.plotLeft+=axisOffset[3];
if(!defined(optionsMarginTop))chart.plotTop+=axisOffset[0];if(!defined(optionsMarginBottom))chart.marginBottom+=axisOffset[2];if(!defined(optionsMarginRight))chart.marginRight+=axisOffset[1];chart.setChartSize()},initReflow:function $Chart$$initReflow$(){function reflow(e){var width=optionsChart.width||adapterRun(renderTo,"width");var height=optionsChart.height||adapterRun(renderTo,"height");var target=e?e.target:win;if(width&&height&&(target===win||target===doc)){if(width!==chart.containerWidth||
height!==chart.containerHeight){clearTimeout(reflowTimeout);reflowTimeout=setTimeout(function(){chart.resize(width,height,false)},100)}chart.containerWidth=width;chart.containerHeight=height}}var chart=this;var optionsChart=chart.options.chart;var renderTo=chart.renderTo;var reflowTimeout;addEvent(win,"resize",reflow);addEvent(chart,"destroy",function(){removeEvent(win,"resize",reflow)})},resize:function $Chart$$resize$(width,height,animation){var chart=this;var chartWidth;var chartHeight;var spacingBox;
var resetZoomButton=chart.resetZoomButton;var chartTitle=chart.title;var chartSubtitle=chart.subtitle;var fireEndResize;chart.isResizing+=1;fireEndResize=function $fireEndResize$(){if(chart)fireEvent(chart,"endResize",null,function(){chart.isResizing-=1})};setAnimation(animation,chart);chart.oldChartHeight=chart.chartHeight;chart.oldChartWidth=chart.chartWidth;if(defined(width))chart.chartWidth=chartWidth=mathRound(width);if(defined(height))chart.chartHeight=chartHeight=mathRound(height);css(chart.container,
{width:chartWidth+PX,height:chartHeight+PX});chart.renderer.setSize(chartWidth,chartHeight,animation);chart.plotWidth=chartWidth-chart.plotLeft-chart.marginRight;chart.plotHeight=chartHeight-chart.plotTop-chart.marginBottom;chart.maxTicks=null;each(chart.axes,function(axis){axis.isDirty=true;axis.setScale()});each(chart.series,function(serie){serie.isDirty=true});chart.isDirtyLegend=true;chart.isDirtyBox=true;chart.getMargins();spacingBox=chart.spacingBox;if(chartTitle)chartTitle.align(null,null,
spacingBox);if(chartSubtitle)chartSubtitle.align(null,null,spacingBox);if(resetZoomButton)resetZoomButton.align(null,null,chart[resetZoomButton.alignTo]);chart.redraw(animation);chart.oldChartHeight=null;fireEvent(chart,"resize");if(globalAnimation===false)fireEndResize();else setTimeout(fireEndResize,globalAnimation&&globalAnimation.duration||500)},setChartSize:function $Chart$$setChartSize$(){var chart=this;var inverted=chart.inverted;var chartWidth=chart.chartWidth;var chartHeight=chart.chartHeight;
var optionsChart=chart.options.chart;var spacingTop=optionsChart.spacingTop;var spacingRight=optionsChart.spacingRight;var spacingBottom=optionsChart.spacingBottom;var spacingLeft=optionsChart.spacingLeft;var plotLeft;var plotTop;var plotWidth;var plotHeight;var plotBorderWidth;chart.plotLeft=plotLeft=mathRound(chart.plotLeft);chart.plotTop=plotTop=mathRound(chart.plotTop);chart.plotWidth=plotWidth=mathRound(chartWidth-plotLeft-chart.marginRight);chart.plotHeight=plotHeight=mathRound(chartHeight-
plotTop-chart.marginBottom);chart.plotSizeX=inverted?plotHeight:plotWidth;chart.plotSizeY=inverted?plotWidth:plotHeight;chart.plotBorderWidth=plotBorderWidth=optionsChart.plotBorderWidth||0;chart.spacingBox={x:spacingLeft,y:spacingTop,width:chartWidth-spacingLeft-spacingRight,height:chartHeight-spacingTop-spacingBottom};chart.plotBox={x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight};chart.clipBox={x:plotBorderWidth/2,y:plotBorderWidth/2,width:chart.plotSizeX-plotBorderWidth,height:chart.plotSizeY-
plotBorderWidth};each(chart.axes,function(axis){axis.setAxisSize();axis.setAxisTranslation()})},resetMargins:function $Chart$$resetMargins$(){var chart=this;var optionsChart=chart.options.chart;var spacingTop=optionsChart.spacingTop;var spacingRight=optionsChart.spacingRight;var spacingBottom=optionsChart.spacingBottom;var spacingLeft=optionsChart.spacingLeft;chart.plotTop=pick(chart.optionsMarginTop,spacingTop);chart.marginRight=pick(chart.optionsMarginRight,spacingRight);chart.marginBottom=pick(chart.optionsMarginBottom,
spacingBottom);chart.plotLeft=pick(chart.optionsMarginLeft,spacingLeft);chart.axisOffset=[0,0,0,0]},drawChartBox:function $Chart$$drawChartBox$(){var chart=this;var optionsChart=chart.options.chart;var renderer=chart.renderer;var chartWidth=chart.chartWidth;var chartHeight=chart.chartHeight;var chartBackground=chart.chartBackground;var plotBackground=chart.plotBackground;var plotBorder=chart.plotBorder;var plotBGImage=chart.plotBGImage;var chartBorderWidth=optionsChart.borderWidth||0;var chartBackgroundColor=
optionsChart.backgroundColor;var plotBackgroundColor=optionsChart.plotBackgroundColor;var plotBackgroundImage=optionsChart.plotBackgroundImage;var plotBorderWidth=optionsChart.plotBorderWidth||0;var mgn;var bgAttr;var plotLeft=chart.plotLeft;var plotTop=chart.plotTop;var plotWidth=chart.plotWidth;var plotHeight=chart.plotHeight;var plotBox=chart.plotBox;var clipRect=chart.clipRect;var clipBox=chart.clipBox;mgn=chartBorderWidth+(optionsChart.shadow?8:0);if(chartBorderWidth||chartBackgroundColor)if(!chartBackground){bgAttr=
{fill:chartBackgroundColor||NONE};if(chartBorderWidth){bgAttr.stroke=optionsChart.borderColor;bgAttr["stroke-width"]=chartBorderWidth}chart.chartBackground=renderer.rect(mgn/2,mgn/2,chartWidth-mgn,chartHeight-mgn,optionsChart.borderRadius,chartBorderWidth).attr(bgAttr).add().shadow(optionsChart.shadow)}else chartBackground.animate(chartBackground.crisp(null,null,null,chartWidth-mgn,chartHeight-mgn));if(plotBackgroundColor)if(!plotBackground)chart.plotBackground=renderer.rect(plotLeft,plotTop,plotWidth,
plotHeight,0).attr({fill:plotBackgroundColor}).add().shadow(optionsChart.plotShadow);else plotBackground.animate(plotBox);if(plotBackgroundImage)if(!plotBGImage)chart.plotBGImage=renderer.image(plotBackgroundImage,plotLeft,plotTop,plotWidth,plotHeight).add();else plotBGImage.animate(plotBox);if(!clipRect)chart.clipRect=renderer.clipRect(clipBox);else clipRect.animate({width:clipBox.width,height:clipBox.height});if(plotBorderWidth)if(!plotBorder)chart.plotBorder=renderer.rect(plotLeft,plotTop,plotWidth,
plotHeight,0,plotBorderWidth).attr({stroke:optionsChart.plotBorderColor,"stroke-width":plotBorderWidth,zIndex:1}).add();else plotBorder.animate(plotBorder.crisp(null,plotLeft,plotTop,plotWidth,plotHeight));chart.isDirtyBox=false},propFromSeries:function $Chart$$propFromSeries$(){var chart=this;var optionsChart=chart.options.chart;var klass;var seriesOptions=chart.options.series;var i;var value;each(["inverted","angular","polar"],function(key){klass=seriesTypes[optionsChart.type||optionsChart.defaultSeriesType];
value=chart[key]||optionsChart[key]||klass&&klass.prototype[key];for(i=seriesOptions&&seriesOptions.length;!value&&i--;){klass=seriesTypes[seriesOptions[i].type];if(klass&&klass.prototype[key])value=true}chart[key]=value})},render:function $Chart$$render$(){var chart=this;var axes=chart.axes;var renderer=chart.renderer;var options=chart.options;var labels=options.labels;var credits=options.credits;var creditsHref;chart.setTitle();chart.legend=new Legend(chart);each(axes,function(axis){axis.setScale()});
chart.getMargins();chart.maxTicks=null;each(axes,function(axis){axis.setTickPositions(true);axis.setMaxTicks()});chart.adjustTickAmounts();chart.getMargins();chart.drawChartBox();if(chart.hasCartesianSeries)each(axes,function(axis){axis.render()});if(!chart.seriesGroup)chart.seriesGroup=renderer.g("series-group").attr({zIndex:3}).add();each(chart.series,function(serie){serie.translate();serie.setTooltipPoints();serie.render()});if(labels.items)each(labels.items,function(label){var style=extend(labels.style,
label.style);var x=pInt(style.left)+chart.plotLeft;var y=pInt(style.top)+chart.plotTop+12;delete style.left;delete style.top;renderer.text(label.html,x,y).attr({zIndex:2}).css(style).add()});if(credits.enabled&&!chart.credits){creditsHref=credits.href;chart.credits=renderer.text(credits.text,0,0).on("click",function(){if(creditsHref)location.href=creditsHref}).attr({align:credits.position.align,zIndex:8}).css(credits.style).add().align(credits.position)}chart.hasRendered=true},destroy:function $Chart$$destroy$(){var chart=
this;var axes=chart.axes;var series=chart.series;var container=chart.container;var i;var parentNode=container&&container.parentNode;if(chart===null)return;fireEvent(chart,"destroy");removeEvent(chart);for(i=axes.length;i--;)axes[i]=axes[i].destroy();for(i=series.length;i--;)series[i]=series[i].destroy();each(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip",
"renderer"],function(name){var prop=chart[name];if(prop)chart[name]=prop.destroy()});if(container){container.innerHTML="";removeEvent(container);if(parentNode)discardElement(container);container=null}for(i in chart)delete chart[i];chart.options=null;chart=null},firstRender:function $Chart$$firstRender$(){var chart=this;var options=chart.options;var callback=chart.callback;var ONREADYSTATECHANGE="onreadystatechange";var COMPLETE="complete";if(!hasSVG&&win==win.top&&doc.readyState!==COMPLETE||useCanVG&&
!win.canvg){if(useCanVG)CanVGController.push(function(){chart.firstRender()},options.global.canvasToolsURL);else doc.attachEvent(ONREADYSTATECHANGE,function(){doc.detachEvent(ONREADYSTATECHANGE,chart.firstRender);if(doc.readyState===COMPLETE)chart.firstRender()});return}chart.getContainer();fireEvent(chart,"init");if(Highcharts.RangeSelector&&options.rangeSelector.enabled)chart.rangeSelector=new Highcharts.RangeSelector(chart);chart.resetMargins();chart.setChartSize();chart.propFromSeries();chart.getAxes();
each(options.series||[],function(serieOptions){chart.initSeries(serieOptions)});if(Highcharts.Scroller&&(options.navigator.enabled||options.scrollbar.enabled))chart.scroller=new Highcharts.Scroller(chart);chart.tracker=new MouseTracker(chart,options);chart.render();chart.renderer.draw();if(callback)callback.apply(chart,[chart]);each(chart.callbacks,function(fn){fn.apply(chart,[chart])});chart.cloneRenderTo(true);fireEvent(chart,"load")},init:function $Chart$$init$(chartEvents){var chart=this;var optionsChart=
chart.options.chart;var eventType;if(optionsChart.reflow!==false)addEvent(chart,"load",chart.initReflow);if(chartEvents)for(eventType in chartEvents)addEvent(chart,eventType,chartEvents[eventType]);chart.xAxis=[];chart.yAxis=[];chart.animation=useCanVG?false:pick(optionsChart.animation,true);chart.setSize=chart.resize;chart.pointCount=0;chart.counters=new ChartCounters;chart.firstRender()}};Chart.prototype.callbacks=[];var Point=function $Point$(){};Point.prototype={init:function $Point$$init$(series,
options,x){var point=this;var counters=series.chart.counters;var defaultColors;point.series=series;point.applyOptions(options,x);point.pointAttr={};if(series.options.colorByPoint){defaultColors=series.chart.options.colors;point.color=point.color||defaultColors[counters.color++];counters.wrapColor(defaultColors.length)}series.chart.pointCount++;return point},applyOptions:function $Point$$applyOptions$(options,x){var point=this;var series=point.series;var optionsType=typeof options;point.config=options;
if(optionsType==="number"||options===null)point.y=options;else if(typeof options[0]==="number"){point.x=options[0];point.y=options[1]}else if(optionsType==="object"&&typeof options.length!=="number"){extend(point,options);point.options=options;if(options.dataLabels)series._hasPointLabels=true;if(options.marker)series._hasPointMarkers=true}else if(typeof options[0]==="string"){point.name=options[0];point.y=options[1]}if(point.x===UNDEFINED)point.x=x===UNDEFINED?series.autoIncrement():x},destroy:function $Point$$destroy$(){var point=
this;var series=point.series;var chart=series.chart;var hoverPoints=chart.hoverPoints;var prop;chart.pointCount--;if(hoverPoints){point.setState();erase(hoverPoints,point);if(!hoverPoints.length)chart.hoverPoints=null}if(point===chart.hoverPoint)point.onMouseOut();if(point.graphic||point.dataLabel){removeEvent(point);point.destroyElements()}if(point.legendItem)chart.legend.destroyItem(point);for(prop in point)point[prop]=null},destroyElements:function $Point$$destroyElements$(){var point=this;var props=
["graphic","tracker","dataLabel","group","connector","shadowGroup"];var prop;for(var i=6;i--;){prop=props[i];if(point[prop])point[prop]=point[prop].destroy()}},getLabelConfig:function $Point$$getLabelConfig$(){var point=this;return{x:point.category,y:point.y,key:point.name||point.category,series:point.series,point:point,percentage:point.percentage,total:point.total||point.stackTotal}},select:function $Point$$select$(selected,accumulate){var point=this;var series=point.series;var chart=series.chart;
selected=pick(selected,!point.selected);point.firePointEvent(selected?"select":"unselect",{accumulate:accumulate},function(){point.selected=selected;point.setState(selected&&SELECT_STATE);if(!accumulate)each(chart.getSelectedPoints(),function(loopPoint){if(loopPoint.selected&&loopPoint!==point){loopPoint.selected=false;loopPoint.setState(NORMAL_STATE);loopPoint.firePointEvent("unselect")}})})},onMouseOver:function $Point$$onMouseOver$(){var point=this;var series=point.series;var chart=series.chart;
var tooltip=chart.tooltip;var hoverPoint=chart.hoverPoint;if(hoverPoint&&hoverPoint!==point)hoverPoint.onMouseOut();point.firePointEvent("mouseOver");if(tooltip&&(!tooltip.shared||series.noSharedTooltip))tooltip.refresh(point);point.setState(HOVER_STATE);chart.hoverPoint=point},onMouseOut:function $Point$$onMouseOut$(){var chart=this.series.chart;var hoverPoints=chart.hoverPoints;if(!hoverPoints||inArray(this,hoverPoints)===-1){this.firePointEvent("mouseOut");this.setState();chart.hoverPoint=null}},
tooltipFormatter:function $Point$$tooltipFormatter$(pointFormat){var point=this;var series=point.series;var seriesTooltipOptions=series.tooltipOptions;var match=pointFormat.match(/\{(series|point)\.[a-zA-Z]+\}/g);var splitter=/[{\.}]/;var obj;var key;var replacement;var repOptionKey;var parts;var prop;var i;var cfg={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};seriesTooltipOptions.valuePrefix=seriesTooltipOptions.valuePrefix||seriesTooltipOptions.yPrefix;seriesTooltipOptions.valueDecimals=
seriesTooltipOptions.valueDecimals||seriesTooltipOptions.yDecimals;seriesTooltipOptions.valueSuffix=seriesTooltipOptions.valueSuffix||seriesTooltipOptions.ySuffix;for(i in match){key=match[i];if(isString(key)&&key!==pointFormat){parts=(" "+key).split(splitter);obj={point:point,series:series}[parts[1]];prop=parts[2];if(obj===point&&cfg.hasOwnProperty(prop)){repOptionKey=cfg[prop]?prop:"value";replacement=(seriesTooltipOptions[repOptionKey+"Prefix"]||"")+numberFormat(point[prop],pick(seriesTooltipOptions[repOptionKey+
"Decimals"],-1))+(seriesTooltipOptions[repOptionKey+"Suffix"]||"")}else replacement=obj[prop];pointFormat=pointFormat.replace(key,replacement)}}return pointFormat},update:function $Point$$update$(options,redraw,animation){var point=this;var series=point.series;var graphic=point.graphic;var i;var data=series.data;var dataLength=data.length;var chart=series.chart;redraw=pick(redraw,true);point.firePointEvent("update",{options:options},function(){point.applyOptions(options);if(isObject(options)){series.getAttribs();
if(graphic)graphic.attr(point.pointAttr[series.state])}for(i=0;i<dataLength;i++)if(data[i]===point){series.xData[i]=point.x;series.yData[i]=point.y;series.options.data[i]=options;break}series.isDirty=true;series.isDirtyData=true;if(redraw)chart.redraw(animation)})},remove:function $Point$$remove$(redraw,animation){var point=this;var series=point.series;var chart=series.chart;var i;var data=series.data;var dataLength=data.length;setAnimation(animation,chart);redraw=pick(redraw,true);point.firePointEvent("remove",
null,function(){for(i=0;i<dataLength;i++)if(data[i]===point){data.splice(i,1);series.options.data.splice(i,1);series.xData.splice(i,1);series.yData.splice(i,1);break}point.destroy();series.isDirty=true;series.isDirtyData=true;if(redraw)chart.redraw()})},firePointEvent:function $Point$$firePointEvent$(eventType,eventArgs,defaultFunction){var point=this;var series=this.series;var seriesOptions=series.options;if(seriesOptions.point.events[eventType]||point.options&&point.options.events&&point.options.events[eventType])this.importEvents();
if(eventType==="click"&&seriesOptions.allowPointSelect)defaultFunction=function $defaultFunction$(event){point.select(null,event.ctrlKey||event.metaKey||event.shiftKey)};fireEvent(this,eventType,eventArgs,defaultFunction)},importEvents:function $Point$$importEvents$(){if(!this.hasImportedEvents){var point=this;var options=merge(point.series.options.point,point.options);var events=options.events;var eventType;point.events=events;for(eventType in events)addEvent(point,eventType,events[eventType]);this.hasImportedEvents=
true}},setState:function $Point$$setState$(state){var point=this;var plotX=point.plotX;var plotY=point.plotY;var series=point.series;var stateOptions=series.options.states;var markerOptions=defaultPlotOptions[series.type].marker&&series.options.marker;var normalDisabled=markerOptions&&!markerOptions.enabled;var markerStateOptions=markerOptions&&markerOptions.states[state];var stateDisabled=markerStateOptions&&markerStateOptions.enabled===false;var stateMarkerGraphic=series.stateMarkerGraphic;var chart=
series.chart;var radius;var pointAttr=point.pointAttr;state=state||NORMAL_STATE;if(state===point.state||point.selected&&state!==SELECT_STATE||stateOptions[state]&&stateOptions[state].enabled===false||state&&(stateDisabled||normalDisabled&&!markerStateOptions.enabled))return;if(point.graphic){radius=markerOptions&&point.graphic.symbolName&&pointAttr[state].r;point.graphic.attr(merge(pointAttr[state],radius?{x:plotX-radius,y:plotY-radius,width:2*radius,height:2*radius}:{}))}else{if(state&&markerStateOptions){radius=
markerStateOptions.radius;if(!stateMarkerGraphic)series.stateMarkerGraphic=stateMarkerGraphic=chart.renderer.symbol(series.symbol,plotX-radius,plotY-radius,2*radius,2*radius).attr(pointAttr[state]).add(series.markerGroup);else stateMarkerGraphic.attr({x:plotX-radius,y:plotY-radius})}if(stateMarkerGraphic)stateMarkerGraphic[state&&chart.isInsidePlot(plotX,plotY)?"show":"hide"]()}point.state=state}};var Series=function $Series$(){};Series.prototype={isCartesian:true,type:"line",pointClass:Point,sorted:true,
pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function $Series$$init$(chart,options){var series$$0=this;var eventType;var events;series$$0.chart=chart;series$$0.options=options=series$$0.setOptions(options);series$$0.bindAxes();extend(series$$0,{name:options.name,state:NORMAL_STATE,pointAttr:{},visible:options.visible!==false,selected:options.selected===true});if(useCanVG)options.animation=false;events=options.events;for(eventType in events)addEvent(series$$0,
eventType,events[eventType]);if(events&&events.click||options.point&&options.point.events&&options.point.events.click||options.allowPointSelect)chart.runTrackerClick=true;series$$0.getColor();series$$0.getSymbol();series$$0.setData(options.data,false);if(series$$0.isCartesian)chart.hasCartesianSeries=true;chart.series.push(series$$0);stableSort(chart.series,function(a,b){return(a.options.index||0)-(b.options.index||0)});each(chart.series,function(series,i){series.index=i;series.name=series.name||
"Series "+(i+1)})},bindAxes:function $Series$$bindAxes$(){var series=this;var seriesOptions=series.options;var chart=series.chart;var axisOptions;if(series.isCartesian)each(["xAxis","yAxis"],function(AXIS){each(chart[AXIS],function(axis){axisOptions=axis.options;if(seriesOptions[AXIS]===axisOptions.index||seriesOptions[AXIS]===UNDEFINED&&axisOptions.index===0){axis.series.push(series);series[AXIS]=axis;axis.isDirty=true}})})},autoIncrement:function $Series$$autoIncrement$(){var series=this;var options=
series.options;var xIncrement=series.xIncrement;xIncrement=pick(xIncrement,options.pointStart,0);series.pointInterval=pick(series.pointInterval,options.pointInterval,1);series.xIncrement=xIncrement+series.pointInterval;return xIncrement},getSegments:function $Series$$getSegments$(){var series=this;var lastNull=-1;var segments=[];var i$$0;var points=series.points;var pointsLength=points.length;if(pointsLength)if(series.options.connectNulls){for(i$$0=pointsLength;i$$0--;)if(points[i$$0].y===null)points.splice(i$$0,
1);if(points.length)segments=[points]}else each(points,function(point,i){if(point.y===null){if(i>lastNull+1)segments.push(points.slice(lastNull+1,i));lastNull=i}else if(i===pointsLength-1)segments.push(points.slice(lastNull+1,i+1))});series.segments=segments},setOptions:function $Series$$setOptions$(itemOptions){var chart=this.chart;var chartOptions=chart.options;var plotOptions=chartOptions.plotOptions;var typeOptions=plotOptions[this.type];var data=itemOptions.data;var options;itemOptions.data=
null;options=merge(typeOptions,plotOptions.series,itemOptions);options.data=itemOptions.data=data;this.tooltipOptions=merge(chartOptions.tooltip,options.tooltip);if(typeOptions.marker===null)delete options.marker;return options},getColor:function $Series$$getColor$(){var options=this.options;var defaultColors=this.chart.options.colors;var counters=this.chart.counters;this.color=options.color||!options.colorByPoint&&defaultColors[counters.color++]||"gray";counters.wrapColor(defaultColors.length)},
getSymbol:function $Series$$getSymbol$(){var series=this;var seriesMarkerOption=series.options.marker;var chart=series.chart;var defaultSymbols=chart.options.symbols;var counters=chart.counters;series.symbol=seriesMarkerOption.symbol||defaultSymbols[counters.symbol++];if(/^url/.test(series.symbol))seriesMarkerOption.radius=0;counters.wrapSymbol(defaultSymbols.length)},drawLegendSymbol:function $Series$$drawLegendSymbol$(legend){var options=this.options;var markerOptions=options.marker;var radius;
var legendOptions=legend.options;var legendSymbol;var symbolWidth=legendOptions.symbolWidth;var renderer=this.chart.renderer;var legendItemGroup=this.legendGroup;var baseline=legend.baseline;var attr;if(options.lineWidth){attr={"stroke-width":options.lineWidth};if(options.dashStyle)attr.dashstyle=options.dashStyle;this.legendLine=renderer.path([M,0,baseline-4,L,symbolWidth,baseline-4]).attr(attr).add(legendItemGroup)}if(markerOptions&&markerOptions.enabled){radius=markerOptions.radius;this.legendSymbol=
legendSymbol=renderer.symbol(this.symbol,symbolWidth/2-radius,baseline-4-radius,2*radius,2*radius).attr(this.pointAttr[NORMAL_STATE]).add(legendItemGroup)}},addPoint:function $Series$$addPoint$(options,redraw,shift,animation){var series=this;var data=series.data;var graph=series.graph;var area=series.area;var chart=series.chart;var xData=series.xData;var yData=series.yData;var currentShift=graph&&graph.shift||0;var dataOptions=series.options.data;var point;var proto=series.pointClass.prototype;setAnimation(animation,
chart);if(graph&&shift)graph.shift=currentShift+1;if(area){if(shift)area.shift=currentShift+1;area.isArea=true}redraw=pick(redraw,true);point={series:series};proto.applyOptions.apply(point,[options]);xData.push(point.x);yData.push(proto.toYData?proto.toYData.call(point):point.y);dataOptions.push(options);if(shift)if(data[0]&&data[0].remove)data[0].remove(false);else{data.shift();xData.shift();yData.shift();dataOptions.shift()}series.getAttribs();series.isDirty=true;series.isDirtyData=true;if(redraw)chart.redraw()},
setData:function $Series$$setData$(data,redraw){var series=this;var oldData=series.points;var options=series.options;var initialColor=series.initialColor;var chart=series.chart;var firstPoint=null;var xAxis=series.xAxis;var i;var pointProto=series.pointClass.prototype;series.xIncrement=null;series.pointRange=xAxis&&xAxis.categories?1:options.pointRange;if(defined(initialColor))chart.counters.color=initialColor;var xData=[];var yData=[];var dataLength=data?data.length:[];var turboThreshold=options.turboThreshold||
1E3;var pt;var pointArrayMap=series.pointArrayMap;var valueCount=pointArrayMap&&pointArrayMap.length;if(dataLength>turboThreshold){for(i=0;firstPoint===null&&i<dataLength;){firstPoint=data[i];i++}if(isNumber(firstPoint)){var x=pick(options.pointStart,0);var pointInterval=pick(options.pointInterval,1);for(i=0;i<dataLength;i++){xData[i]=x;yData[i]=data[i];x+=pointInterval}series.xIncrement=x}else if(isArray(firstPoint))if(valueCount)for(i=0;i<dataLength;i++){pt=data[i];xData[i]=pt[0];yData[i]=pt.slice(1,
valueCount+1)}else for(i=0;i<dataLength;i++){pt=data[i];xData[i]=pt[0];yData[i]=pt[1]}}else for(i=0;i<dataLength;i++){pt={series:series};pointProto.applyOptions.apply(pt,[data[i]]);xData[i]=pt.x;yData[i]=pointProto.toYData?pointProto.toYData.call(pt):pt.y}if(isString(yData[0]))error(14,true);series.data=[];series.options.data=data;series.xData=xData;series.yData=yData;for(i=oldData&&oldData.length||0;i--;)if(oldData[i]&&oldData[i].destroy)oldData[i].destroy();if(xAxis)xAxis.minRange=xAxis.userMinRange;
series.isDirty=series.isDirtyData=chart.isDirtyBox=true;if(pick(redraw,true))chart.redraw(false)},remove:function $Series$$remove$(redraw,animation){var series=this;var chart=series.chart;redraw=pick(redraw,true);if(!series.isRemoving){series.isRemoving=true;fireEvent(series,"remove",null,function(){series.destroy();chart.isDirtyLegend=chart.isDirtyBox=true;if(redraw)chart.redraw(animation)})}series.isRemoving=false},processData:function $Series$$processData$(force){var series=this;var processedXData=
series.xData;var processedYData=series.yData;var dataLength=processedXData.length;var cropStart=0;var cropEnd=dataLength;var cropped;var distance;var closestPointRange;var xAxis=series.xAxis;var i;var options=series.options;var cropThreshold=options.cropThreshold;var isCartesian=series.isCartesian;if(isCartesian&&!series.isDirty&&!xAxis.isDirty&&!series.yAxis.isDirty&&!force)return false;if(isCartesian&&series.sorted&&(!cropThreshold||dataLength>cropThreshold||series.forceCrop)){var extremes=xAxis.getExtremes();
var min=extremes.min;var max=extremes.max;if(processedXData[dataLength-1]<min||processedXData[0]>max){processedXData=[];processedYData=[]}else if(processedXData[0]<min||processedXData[dataLength-1]>max){for(i=0;i<dataLength;i++)if(processedXData[i]>=min){cropStart=mathMax(0,i-1);break}for(;i<dataLength;i++)if(processedXData[i]>max){cropEnd=i+1;break}processedXData=processedXData.slice(cropStart,cropEnd);processedYData=processedYData.slice(cropStart,cropEnd);cropped=true}}for(i=processedXData.length-
1;i>0;i--){distance=processedXData[i]-processedXData[i-1];if(distance>0&&(closestPointRange===UNDEFINED||distance<closestPointRange))closestPointRange=distance}series.cropped=cropped;series.cropStart=cropStart;series.processedXData=processedXData;series.processedYData=processedYData;if(options.pointRange===null)series.pointRange=closestPointRange||1;series.closestPointRange=closestPointRange},generatePoints:function $Series$$generatePoints$(){var series=this;var options=series.options;var dataOptions=
options.data;var data=series.data;var dataLength;var processedXData=series.processedXData;var processedYData=series.processedYData;var pointClass=series.pointClass;var processedDataLength=processedXData.length;var cropStart=series.cropStart||0;var cursor;var hasGroupedData=series.hasGroupedData;var point;var points=[];var i;if(!data&&!hasGroupedData){var arr=[];arr.length=dataOptions.length;data=series.data=arr}for(i=0;i<processedDataLength;i++){cursor=cropStart+i;if(!hasGroupedData){if(data[cursor])point=
data[cursor];else if(dataOptions[cursor]!==UNDEFINED)data[cursor]=point=(new pointClass).init(series,dataOptions[cursor],processedXData[i]);points[i]=point}else points[i]=(new pointClass).init(series,[processedXData[i]].concat(splat(processedYData[i])))}if(data&&(processedDataLength!==(dataLength=data.length)||hasGroupedData))for(i=0;i<dataLength;i++){if(i===cropStart&&!hasGroupedData)i+=processedDataLength;if(data[i]){data[i].destroyElements();data[i].plotX=UNDEFINED}}series.data=data;series.points=
points},translate:function $Series$$translate$(){if(!this.processedXData)this.processData();this.generatePoints();var series=this;var chart=series.chart;var options=series.options;var stacking=options.stacking;var xAxis=series.xAxis;var categories=xAxis.categories;var yAxis=series.yAxis;var points=series.points;var dataLength=points.length;var hasModifyValue=!!series.modifyValue;var isBottomSeries;var allStackSeries=yAxis.series;var i=allStackSeries.length;for(var placeBetween=options.pointPlacement===
"between";i--;)if(allStackSeries[i].visible){if(allStackSeries[i]===series)isBottomSeries=true;break}for(i=0;i<dataLength;i++){var point=points[i];var xValue=point.x;var yValue=point.y;var yBottom=point.low;var stack=yAxis.stacks[(yValue<options.threshold?"-":"")+series.stackKey];var pointStack;var pointStackTotal;point.plotX=xAxis.translate(xValue,0,0,0,1,placeBetween);if(stacking&&series.visible&&stack&&stack[xValue]){pointStack=stack[xValue];pointStackTotal=pointStack.total;pointStack.cum=yBottom=
pointStack.cum-yValue;yValue=yBottom+yValue;if(isBottomSeries)yBottom=pick(options.threshold,yAxis.isLog?null:yAxis.min);if(stacking==="percent"){yBottom=pointStackTotal?yBottom*100/pointStackTotal:0;yValue=pointStackTotal?yValue*100/pointStackTotal:0}point.percentage=pointStackTotal?point.y*100/pointStackTotal:0;point.total=point.stackTotal=pointStackTotal;point.stackY=yValue}point.yBottom=defined(yBottom)?yAxis.translate(yBottom,0,1,0,1):null;if(hasModifyValue)yValue=series.modifyValue(yValue,point);
point.plotY=typeof yValue==="number"?mathRound(yAxis.translate(yValue,0,1,0,1)*10)/10:UNDEFINED;point.clientX=chart.inverted?chart.plotHeight-point.plotX:point.plotX;point.category=categories&&categories[point.x]!==UNDEFINED?categories[point.x]:point.x}series.getSegments()},setTooltipPoints:function $Series$$setTooltipPoints$(renew){var series=this;var points=[];var pointsLength;var low;var high;var xAxis=series.xAxis;var axisLength=xAxis?xAxis.tooltipLen||xAxis.len:series.chart.plotSizeX;var plotX=
xAxis&&xAxis.tooltipPosName||"plotX";var point;var i;var tooltipPoints=[];if(series.options.enableMouseTracking===false)return;if(renew)series.tooltipPoints=null;each(series.segments||series.points,function(segment){points=points.concat(segment)});if(xAxis&&xAxis.reversed)points=points.reverse();pointsLength=points.length;for(i=0;i<pointsLength;i++){point=points[i];low=points[i-1]?high+1:0;for(high=points[i+1]?mathMax(0,mathFloor((point[plotX]+(points[i+1]?points[i+1][plotX]:axisLength))/2)):axisLength;low>=
0&&low<=high;)tooltipPoints[low++]=point}series.tooltipPoints=tooltipPoints},tooltipHeaderFormatter:function $Series$$tooltipHeaderFormatter$(key){var series=this;var tooltipOptions=series.tooltipOptions;var xDateFormat=tooltipOptions.xDateFormat;var xAxis=series.xAxis;var isDateTime=xAxis&&xAxis.options.type==="datetime";var n;if(isDateTime&&!xDateFormat)for(n in timeUnits)if(timeUnits[n]>=xAxis.closestPointRange){xDateFormat=tooltipOptions.dateTimeLabelFormats[n];break}return tooltipOptions.headerFormat.replace("{point.key}",
isDateTime?dateFormat(xDateFormat,key):key).replace("{series.name}",series.name).replace("{series.color}",series.color)},onMouseOver:function $Series$$onMouseOver$(){var series=this;var chart=series.chart;var hoverSeries=chart.hoverSeries;if(hoverSeries&&hoverSeries!==series)hoverSeries.onMouseOut();if(series.options.events.mouseOver)fireEvent(series,"mouseOver");series.setState(HOVER_STATE);chart.hoverSeries=series},onMouseOut:function $Series$$onMouseOut$(){var series=this;var options=series.options;
var chart=series.chart;var tooltip=chart.tooltip;var hoverPoint=chart.hoverPoint;if(hoverPoint)hoverPoint.onMouseOut();if(series&&options.events.mouseOut)fireEvent(series,"mouseOut");if(tooltip&&!options.stickyTracking&&!tooltip.shared)tooltip.hide();series.setState();chart.hoverSeries=null},animate:function $Series$$animate$(init){var series=this;var chart=series.chart;var renderer=chart.renderer;var clipRect;var markerClipRect;var animation=series.options.animation;var clipBox=chart.clipBox;var inverted=
chart.inverted;var sharedClipKey;if(animation&&!isObject(animation))animation=defaultPlotOptions[series.type].animation;sharedClipKey="_sharedClip"+animation.duration+animation.easing;if(init){clipRect=chart[sharedClipKey];markerClipRect=chart[sharedClipKey+"m"];if(!clipRect){chart[sharedClipKey]=clipRect=renderer.clipRect(extend(clipBox,{width:0}));chart[sharedClipKey+"m"]=markerClipRect=renderer.clipRect(-99,inverted?-chart.plotLeft:-chart.plotTop,99,inverted?chart.chartWidth:chart.chartHeight)}series.group.clip(clipRect);
series.markerGroup.clip(markerClipRect);series.sharedClipKey=sharedClipKey}else{clipRect=chart[sharedClipKey];if(clipRect){clipRect.animate({width:chart.plotSizeX},animation);chart[sharedClipKey+"m"].animate({width:chart.plotSizeX+99},animation)}series.animate=null;series.animationTimeout=setTimeout(function(){series.afterAnimate()},animation.duration)}},afterAnimate:function $Series$$afterAnimate$(){var chart=this.chart;var sharedClipKey=this.sharedClipKey;var group=this.group;if(group&&this.options.clip!==
false){group.clip(chart.clipRect);this.markerGroup.clip()}setTimeout(function(){if(sharedClipKey&&chart[sharedClipKey]){chart[sharedClipKey]=chart[sharedClipKey].destroy();chart[sharedClipKey+"m"]=chart[sharedClipKey+"m"].destroy()}},100)},drawPoints:function $Series$$drawPoints$(){var series=this;var pointAttr;var points=series.points;var chart=series.chart;var plotX;var plotY;var i;var point;var radius;var symbol;var isImage;var graphic;var options=series.options;var seriesMarkerOptions=options.marker;
var pointMarkerOptions;var enabled;var isInside;var markerGroup=series.markerGroup;if(seriesMarkerOptions.enabled||series._hasPointMarkers)for(i=points.length;i--;){point=points[i];plotX=point.plotX;plotY=point.plotY;graphic=point.graphic;pointMarkerOptions=point.marker||{};enabled=seriesMarkerOptions.enabled&&pointMarkerOptions.enabled===UNDEFINED||pointMarkerOptions.enabled;isInside=chart.isInsidePlot(plotX,plotY,chart.inverted);if(enabled&&plotY!==UNDEFINED&&!isNaN(plotY)){pointAttr=point.pointAttr[point.selected?
SELECT_STATE:NORMAL_STATE];radius=pointAttr.r;symbol=pick(pointMarkerOptions.symbol,series.symbol);isImage=symbol.indexOf("url")===0;if(graphic)graphic.attr({visibility:isInside?hasSVG?"inherit":VISIBLE:HIDDEN}).animate(extend({x:plotX-radius,y:plotY-radius},graphic.symbolName?{width:2*radius,height:2*radius}:{}));else if(isInside&&(radius>0||isImage))point.graphic=graphic=chart.renderer.symbol(symbol,plotX-radius,plotY-radius,2*radius,2*radius).attr(pointAttr).add(markerGroup)}}},convertAttribs:function $Series$$convertAttribs$(options,
base1,base2,base3){var conversion=this.pointAttrToOptions;var attr;var option;var obj={};options=options||{};base1=base1||{};base2=base2||{};base3=base3||{};for(attr in conversion){option=conversion[attr];obj[attr]=pick(options[option],base1[attr],base2[attr],base3[attr])}return obj},getAttribs:function $Series$$getAttribs$(){var series=this;var normalOptions=defaultPlotOptions[series.type].marker?series.options.marker:series.options;var stateOptions=normalOptions.states;var stateOptionsHover=stateOptions[HOVER_STATE];
var pointStateOptionsHover;var seriesColor=series.color;var normalDefaults={stroke:seriesColor,fill:seriesColor};var points=series.points||[];var i;var point;var seriesPointAttr=[];var pointAttr;var pointAttrToOptions=series.pointAttrToOptions;var hasPointSpecificOptions;var key;if(series.options.marker){stateOptionsHover.radius=stateOptionsHover.radius||normalOptions.radius+2;stateOptionsHover.lineWidth=stateOptionsHover.lineWidth||normalOptions.lineWidth+1}else stateOptionsHover.color=stateOptionsHover.color||
Color(stateOptionsHover.color||seriesColor).brighten(stateOptionsHover.brightness).get();seriesPointAttr[NORMAL_STATE]=series.convertAttribs(normalOptions,normalDefaults);each([HOVER_STATE,SELECT_STATE],function(state){seriesPointAttr[state]=series.convertAttribs(stateOptions[state],seriesPointAttr[NORMAL_STATE])});series.pointAttr=seriesPointAttr;for(i=points.length;i--;){point=points[i];normalOptions=point.options&&point.options.marker||point.options;if(normalOptions&&normalOptions.enabled===false)normalOptions.radius=
0;hasPointSpecificOptions=series.options.colorByPoint;if(point.options)for(key in pointAttrToOptions)if(defined(normalOptions[pointAttrToOptions[key]]))hasPointSpecificOptions=true;if(hasPointSpecificOptions){normalOptions=normalOptions||{};pointAttr=[];stateOptions=normalOptions.states||{};pointStateOptionsHover=stateOptions[HOVER_STATE]=stateOptions[HOVER_STATE]||{};if(!series.options.marker)pointStateOptionsHover.color=Color(pointStateOptionsHover.color||point.color).brighten(pointStateOptionsHover.brightness||
stateOptionsHover.brightness).get();pointAttr[NORMAL_STATE]=series.convertAttribs(extend({color:point.color},normalOptions),seriesPointAttr[NORMAL_STATE]);pointAttr[HOVER_STATE]=series.convertAttribs(stateOptions[HOVER_STATE],seriesPointAttr[HOVER_STATE],pointAttr[NORMAL_STATE]);pointAttr[SELECT_STATE]=series.convertAttribs(stateOptions[SELECT_STATE],seriesPointAttr[SELECT_STATE],pointAttr[NORMAL_STATE])}else pointAttr=seriesPointAttr;point.pointAttr=pointAttr}},destroy:function $Series$$destroy$(){var series=
this;var chart=series.chart;var issue134=/AppleWebKit\/533/.test(userAgent);var destroy;var i;var data=series.data||[];var point;var prop$$0;var axis;fireEvent(series,"destroy");removeEvent(series);each(["xAxis","yAxis"],function(AXIS){axis=series[AXIS];if(axis){erase(axis.series,series);axis.isDirty=true}});if(series.legendItem)series.chart.legend.destroyItem(series);for(i=data.length;i--;){point=data[i];if(point&&point.destroy)point.destroy()}series.points=null;clearTimeout(series.animationTimeout);
each(["area","graph","dataLabelsGroup","group","markerGroup","tracker","trackerGroup"],function(prop){if(series[prop]){destroy=issue134&&prop==="group"?"hide":"destroy";series[prop][destroy]()}});if(chart.hoverSeries===series)chart.hoverSeries=null;erase(chart.series,series);for(prop$$0 in series)delete series[prop$$0]},drawDataLabels:function $Series$$drawDataLabels$(){var series=this;var seriesOptions=series.options;var options=seriesOptions.dataLabels;if(options.enabled||series._hasPointLabels){var x;
var y;var points=series.points;var pointOptions;var generalOptions;var str;var dataLabelsGroup;var chart=series.chart;var renderer=chart.renderer;var inverted=chart.inverted;var seriesType=series.type;var stacking=seriesOptions.stacking;var isBarLike=seriesType==="column"||seriesType==="bar";var vAlignIsNull=options.verticalAlign===null;var yIsNull=options.y===null;var fontMetrics=renderer.fontMetrics(options.style.fontSize);var fontLineHeight=fontMetrics.h;var fontBaseline=fontMetrics.b;if(isBarLike){var defaultYs=
{top:fontBaseline,middle:fontBaseline-fontLineHeight/2,bottom:-fontLineHeight+fontBaseline};if(stacking){if(vAlignIsNull)options=merge(options,{verticalAlign:"middle"});if(yIsNull)options=merge(options,{y:defaultYs[options.verticalAlign]})}else if(vAlignIsNull)options=merge(options,{verticalAlign:"top"});else if(yIsNull)options=merge(options,{y:defaultYs[options.verticalAlign]})}dataLabelsGroup=series.plotGroup("dataLabelsGroup","data-labels",series.visible?VISIBLE:HIDDEN,6);generalOptions=options;
each(points,function(point){var plotX;var plotY;var individualYDelta;var enabled;var dataLabel=point.dataLabel;options=generalOptions;pointOptions=point.options;if(pointOptions&&pointOptions.dataLabels)options=merge(options,pointOptions.dataLabels);enabled=options.enabled;if(enabled){plotX=point.barX&&point.barX+point.barW/2||pick(point.plotX,-999);plotY=pick(point.plotY,-999);individualYDelta=options.y===null?point.y>=seriesOptions.threshold?-fontLineHeight+fontBaseline:fontBaseline:options.y;x=
(inverted?chart.plotWidth-plotY:plotX)+options.x;y=mathRound((inverted?chart.plotHeight-plotX:plotY)+individualYDelta)}if(series.isCartesian&&!chart.isInsidePlot(x-options.x,y))enabled=false;if(dataLabel&&!enabled)point.dataLabel=dataLabel.destroy();else if(enabled){var align=options.align;var attr;var name;str=options.formatter.call(point.getLabelConfig(),options);if(seriesType==="column")x+={left:-1,right:1}[align]*point.barW/2||0;if(!stacking&&inverted&&point.y<0){align="right";x-=10}options.style.color=
pick(options.color,options.style.color,series.color,"black");if(dataLabel)dataLabel.attr({text:str}).animate({x:x,y:y});else if(defined(str)){attr={align:align,fill:options.backgroundColor,stroke:options.borderColor,"stroke-width":options.borderWidth,r:options.borderRadius||0,rotation:options.rotation,padding:options.padding,zIndex:1};for(name in attr)if(attr[name]===UNDEFINED)delete attr[name];dataLabel=point.dataLabel=renderer[options.rotation?"text":"label"](str,x,y,null,null,null,options.useHTML,
true).attr(attr).css(options.style).add(dataLabelsGroup).shadow(options.shadow)}if(isBarLike&&seriesOptions.stacking&&dataLabel){var barX=point.barX;var barY=point.barY;var barW=point.barW;var barH=point.barH;dataLabel.align(options,null,{x:inverted?chart.plotWidth-barY-barH:barX,y:inverted?chart.plotHeight-barX-barW:barY,width:inverted?barH:barW,height:inverted?barW:barH})}}})}},getSegmentPath:function $Series$$getSegmentPath$(segment){var series=this;var segmentPath=[];each(segment,function(point,
i){if(series.getPointSpline)segmentPath.push.apply(segmentPath,series.getPointSpline(segment,point,i));else{segmentPath.push(i?L:M);if(i&&series.options.step){var lastPoint=segment[i-1];segmentPath.push(point.plotX,lastPoint.plotY)}segmentPath.push(point.plotX,point.plotY)}});return segmentPath},getGraphPath:function $Series$$getGraphPath$(){var series=this;var graphPath=[];var segmentPath;var singlePoints=[];each(series.segments,function(segment){segmentPath=series.getSegmentPath(segment);if(segment.length>
1)graphPath=graphPath.concat(segmentPath);else singlePoints.push(segment[0])});series.singlePoints=singlePoints;series.graphPath=graphPath;return graphPath},drawGraph:function $Series$$drawGraph$(){var options=this.options;var graph=this.graph;var group=this.group;var color=options.lineColor||this.color;var lineWidth=options.lineWidth;var dashStyle=options.dashStyle;var attribs;var graphPath=this.getGraphPath();if(graph){stop$$0(graph);graph.animate({d:graphPath})}else if(lineWidth){attribs={stroke:color,
"stroke-width":lineWidth,zIndex:1};if(dashStyle)attribs.dashstyle=dashStyle;this.graph=this.chart.renderer.path(graphPath).attr(attribs).add(group).shadow(options.shadow)}},invertGroups:function $Series$$invertGroups$(){function setInvert(){var size={width:series.yAxis.len,height:series.xAxis.len};each(["group","trackerGroup","markerGroup"],function(groupName){if(series[groupName])series[groupName].attr(size).invert()})}var series=this;var chart=series.chart;addEvent(chart,"resize",setInvert);addEvent(series,
"destroy",function(){removeEvent(chart,"resize",setInvert)});setInvert();series.invertGroups=setInvert},plotGroup:function $Series$$plotGroup$(prop,name,visibility,zIndex,parent){var group=this[prop];var chart=this.chart;var xAxis=this.xAxis;var yAxis=this.yAxis;if(!group)this[prop]=group=chart.renderer.g(name).attr({visibility:visibility,zIndex:zIndex||0.1}).add(parent);group.translate(xAxis?xAxis.left:chart.plotLeft,yAxis?yAxis.top:chart.plotTop);return group},render:function $Series$$render$(){var series=
this;var chart=series.chart;var group;var options=series.options;var animation=options.animation;var doAnimation=animation&&!!series.animate;var visibility=series.visible?VISIBLE:HIDDEN;var zIndex=options.zIndex;var hasRendered=series.hasRendered;var chartSeriesGroup=chart.seriesGroup;group=series.plotGroup("group","series",visibility,zIndex,chartSeriesGroup);series.markerGroup=series.plotGroup("markerGroup","markers",visibility,zIndex,chartSeriesGroup);series.drawDataLabels();if(doAnimation)series.animate(true);
series.getAttribs();group.inverted=chart.inverted;if(series.drawGraph)series.drawGraph();series.drawPoints();if(series.options.enableMouseTracking!==false)series.drawTracker();if(chart.inverted)series.invertGroups();if(options.clip!==false&&!series.sharedClipKey&&!hasRendered){group.clip(chart.clipRect);if(this.trackerGroup)this.trackerGroup.clip(chart.clipRect)}if(doAnimation)series.animate();else if(!hasRendered)series.afterAnimate();series.isDirty=series.isDirtyData=false;series.hasRendered=true},
redraw:function $Series$$redraw$(){var series=this;var chart=series.chart;var wasDirtyData=series.isDirtyData;var group=series.group;if(group){if(chart.inverted)group.attr({width:chart.plotWidth,height:chart.plotHeight});group.animate({translateX:series.xAxis.left,translateY:series.yAxis.top})}series.translate();series.setTooltipPoints(true);series.render();if(wasDirtyData)fireEvent(series,"updatedData")},setState:function $Series$$setState$(state){var series=this;var options=series.options;var graph=
series.graph;var stateOptions=options.states;var lineWidth=options.lineWidth;state=state||NORMAL_STATE;if(series.state!==state){series.state=state;if(stateOptions[state]&&stateOptions[state].enabled===false)return;if(state)lineWidth=stateOptions[state].lineWidth||lineWidth+1;if(graph&&!graph.dashstyle)graph.attr({"stroke-width":lineWidth},state?0:500)}},setVisible:function $Series$$setVisible$(vis,redraw){var series=this;var chart=series.chart;var legendItem=series.legendItem;var seriesGroup=series.group;
var seriesTracker=series.tracker;var dataLabelsGroup=series.dataLabelsGroup;var markerGroup=series.markerGroup;var showOrHide;var i;var points=series.points;var point;var ignoreHiddenSeries=chart.options.chart.ignoreHiddenSeries;var oldVisibility=series.visible;series.visible=vis=vis===UNDEFINED?!oldVisibility:vis;showOrHide=vis?"show":"hide";if(seriesGroup)seriesGroup[showOrHide]();if(markerGroup)markerGroup[showOrHide]();if(seriesTracker)seriesTracker[showOrHide]();else if(points)for(i=points.length;i--;){point=
points[i];if(point.tracker)point.tracker[showOrHide]()}if(dataLabelsGroup)dataLabelsGroup[showOrHide]();if(legendItem)chart.legend.colorizeItem(series,vis);series.isDirty=true;if(series.options.stacking)each(chart.series,function(otherSeries){if(otherSeries.options.stacking&&otherSeries.visible)otherSeries.isDirty=true});if(ignoreHiddenSeries)chart.isDirtyBox=true;if(redraw!==false)chart.redraw();fireEvent(series,showOrHide)},show:function $Series$$show$(){this.setVisible(true)},hide:function $Series$$hide$(){this.setVisible(false)},
select:function $Series$$select$(selected){var series=this;series.selected=selected=selected===UNDEFINED?!series.selected:selected;if(series.checkbox)series.checkbox.checked=selected;fireEvent(series,selected?"select":"unselect")},drawTracker:function $Series$$drawTracker$(){var series=this;var options=series.options;var trackByArea=options.trackByArea;var trackerPath=[].concat(trackByArea?series.areaPath:series.graphPath);var trackerPathLength=trackerPath.length;var chart=series.chart;var renderer=
chart.renderer;var snap=chart.options.tooltip.snap;var tracker=series.tracker;var cursor=options.cursor;var css=cursor&&{cursor:cursor};var singlePoints=series.singlePoints;var trackerGroup=this.isCartesian&&this.plotGroup("trackerGroup",null,VISIBLE,options.zIndex||1,chart.trackerGroup);var singlePoint;var i;if(trackerPathLength&&!trackByArea)for(i=trackerPathLength+1;i--;){if(trackerPath[i]===M)trackerPath.splice(i+1,0,trackerPath[i+1]-snap,trackerPath[i+2],L);if(i&&trackerPath[i]===M||i===trackerPathLength)trackerPath.splice(i,
0,L,trackerPath[i-2]+snap,trackerPath[i-1])}for(i=0;i<singlePoints.length;i++){singlePoint=singlePoints[i];trackerPath.push(M,singlePoint.plotX-snap,singlePoint.plotY,L,singlePoint.plotX+snap,singlePoint.plotY)}if(tracker)tracker.attr({d:trackerPath});else series.tracker=renderer.path(trackerPath).attr({isTracker:true,"stroke-linejoin":"bevel",visibility:series.visible?VISIBLE:HIDDEN,stroke:TRACKER_FILL,fill:trackByArea?TRACKER_FILL:NONE,"stroke-width":options.lineWidth+(trackByArea?0:2*snap)}).on(hasTouch?
"touchstart":"mouseover",function(){if(chart.hoverSeries!==series)series.onMouseOver()}).on("mouseout",function(){if(!options.stickyTracking)series.onMouseOut()}).css(css).add(trackerGroup)}};var LineSeries=extendClass(Series);seriesTypes.line=LineSeries;defaultPlotOptions.area=merge(defaultSeriesOptions,{threshold:0});var AreaSeries=extendClass(Series,{type:"area",getSegmentPath:function(segment){var segmentPath=Series.prototype.getSegmentPath.call(this,segment);var areaSegmentPath=[].concat(segmentPath);
var i;var options=this.options;var segLength=segmentPath.length;if(segLength===3)areaSegmentPath.push(L,segmentPath[1],segmentPath[2]);if(options.stacking&&!this.closedStacks)for(i=segment.length-1;i>=0;i--){if(i<segment.length-1&&options.step)areaSegmentPath.push(segment[i+1].plotX,segment[i].yBottom);areaSegmentPath.push(segment[i].plotX,segment[i].yBottom)}else this.closeSegment(areaSegmentPath,segment);this.areaPath=this.areaPath.concat(areaSegmentPath);return segmentPath},closeSegment:function(path,
segment){var translatedThreshold=this.yAxis.getThreshold(this.options.threshold);path.push(L,segment[segment.length-1].plotX,translatedThreshold,L,segment[0].plotX,translatedThreshold)},drawGraph:function(){this.areaPath=[];Series.prototype.drawGraph.apply(this);var areaPath=this.areaPath;var options=this.options;var area=this.area;if(area)area.animate({d:areaPath});else this.area=this.chart.renderer.path(areaPath).attr({fill:pick(options.fillColor,Color(this.color).setOpacity(options.fillOpacity||
0.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(legend,item){item.legendSymbol=this.chart.renderer.rect(0,legend.baseline-11,legend.options.symbolWidth,12,2).attr({zIndex:3}).add(item.legendGroup)}});seriesTypes.area=AreaSeries;defaultPlotOptions.spline=merge(defaultSeriesOptions);var SplineSeries=extendClass(Series,{type:"spline",getPointSpline:function(segment,point,i){var smoothing=1.5;var denom=smoothing+1;var plotX=point.plotX;var plotY=point.plotY;var lastPoint=segment[i-
1];var nextPoint=segment[i+1];var leftContX;var leftContY;var rightContX;var rightContY;var ret;if(lastPoint&&nextPoint){var lastX=lastPoint.plotX;var lastY=lastPoint.plotY;var nextX=nextPoint.plotX;var nextY=nextPoint.plotY;var correction;leftContX=(smoothing*plotX+lastX)/denom;leftContY=(smoothing*plotY+lastY)/denom;rightContX=(smoothing*plotX+nextX)/denom;rightContY=(smoothing*plotY+nextY)/denom;correction=(rightContY-leftContY)*(rightContX-plotX)/(rightContX-leftContX)+plotY-rightContY;leftContY+=
correction;rightContY+=correction;if(leftContY>lastY&&leftContY>plotY){leftContY=mathMax(lastY,plotY);rightContY=2*plotY-leftContY}else if(leftContY<lastY&&leftContY<plotY){leftContY=mathMin(lastY,plotY);rightContY=2*plotY-leftContY}if(rightContY>nextY&&rightContY>plotY){rightContY=mathMax(nextY,plotY);leftContY=2*plotY-rightContY}else if(rightContY<nextY&&rightContY<plotY){rightContY=mathMin(nextY,plotY);leftContY=2*plotY-rightContY}point.rightContX=rightContX;point.rightContY=rightContY}if(!i)ret=
[M,plotX,plotY];else{ret=["C",lastPoint.rightContX||lastPoint.plotX,lastPoint.rightContY||lastPoint.plotY,leftContX||plotX,leftContY||plotY,plotX,plotY];lastPoint.rightContX=lastPoint.rightContY=null}return ret}});seriesTypes.spline=SplineSeries;defaultPlotOptions.areaspline=merge(defaultPlotOptions.area);var areaProto=AreaSeries.prototype;var AreaSplineSeries=extendClass(SplineSeries,{type:"areaspline",closedStacks:true,getSegmentPath:areaProto.getSegmentPath,closeSegment:areaProto.closeSegment,
drawGraph:areaProto.drawGraph});seriesTypes.areaspline=AreaSplineSeries;defaultPlotOptions.column=merge(defaultSeriesOptions,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}},dataLabels:{y:null,verticalAlign:null},threshold:0});var ColumnSeries=extendClass(Series,{type:"column",tooltipOutsidePlot:true,
pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){Series.prototype.init.apply(this,arguments);var series=this;var chart=series.chart;if(chart.hasRendered)each(chart.series,function(otherSeries){if(otherSeries.type===series.type)otherSeries.isDirty=true})},translate:function(){var series=this;var chart=series.chart;var options=series.options;var stacking=options.stacking;var borderWidth=options.borderWidth;var columnCount=0;var xAxis=
series.xAxis;var reversedXAxis=xAxis.reversed;var stackGroups={};var stackKey;var columnIndex;Series.prototype.translate.apply(series);if(options.grouping===false)columnCount=1;else each(chart.series,function(otherSeries){var otherOptions=otherSeries.options;if(otherSeries.type===series.type&&otherSeries.visible&&series.options.group===otherOptions.group){if(otherOptions.stacking){stackKey=otherSeries.stackKey;if(stackGroups[stackKey]===UNDEFINED)stackGroups[stackKey]=columnCount++;columnIndex=stackGroups[stackKey]}else if(otherOptions.grouping!==
false)columnIndex=columnCount++;otherSeries.columnIndex=columnIndex}});var points=series.points;var categoryWidth=mathAbs(xAxis.transA)*(xAxis.ordinalSlope||options.pointRange||xAxis.closestPointRange||1);var groupPadding=categoryWidth*options.groupPadding;var groupWidth=categoryWidth-2*groupPadding;var pointOffsetWidth=groupWidth/columnCount;var optionPointWidth=options.pointWidth;var pointPadding=defined(optionPointWidth)?(pointOffsetWidth-optionPointWidth)/2:pointOffsetWidth*options.pointPadding;
var pointWidth=pick(optionPointWidth,pointOffsetWidth-2*pointPadding);var barW=mathCeil(mathMax(pointWidth,1+2*borderWidth));var colIndex=(reversedXAxis?columnCount-series.columnIndex:series.columnIndex)||0;var pointXOffset=pointPadding+(groupPadding+colIndex*pointOffsetWidth-categoryWidth/2)*(reversedXAxis?-1:1);var threshold=options.threshold;var translatedThreshold=series.yAxis.getThreshold(threshold);var minPointLength=pick(options.minPointLength,5);each(points,function(point){var plotY=point.plotY;
var yBottom=pick(point.yBottom,translatedThreshold);var barX=point.plotX+pointXOffset;var barY=mathCeil(mathMin(plotY,yBottom));var barH=mathCeil(mathMax(plotY,yBottom)-barY);var stack=series.yAxis.stacks[(point.y<0?"-":"")+series.stackKey];var shapeArgs;if(stacking&&series.visible&&stack&&stack[point.x])stack[point.x].setOffset(pointXOffset,barW);if(mathAbs(barH)<minPointLength)if(minPointLength){barH=minPointLength;barY=mathAbs(barY-translatedThreshold)>minPointLength?yBottom-minPointLength:translatedThreshold-
(plotY<=translatedThreshold?minPointLength:0)}extend(point,{barX:barX,barY:barY,barW:barW,barH:barH,pointWidth:pointWidth});point.shapeType="rect";point.shapeArgs=shapeArgs=chart.renderer.Element.prototype.crisp.call(0,borderWidth,barX,barY,barW,barH);if(borderWidth%2){shapeArgs.y-=1;shapeArgs.height+=1}point.trackerArgs=mathAbs(barH)<3&&merge(point.shapeArgs,{height:6,y:barY-3})})},getSymbol:noop,drawLegendSymbol:AreaSeries.prototype.drawLegendSymbol,drawGraph:noop,drawPoints:function(){var series=
this;var options=series.options;var renderer=series.chart.renderer;var graphic;var shapeArgs;each(series.points,function(point){var plotY=point.plotY;if(plotY!==UNDEFINED&&!isNaN(plotY)&&point.y!==null){graphic=point.graphic;shapeArgs=point.shapeArgs;if(graphic){stop$$0(graphic);graphic.animate(merge(shapeArgs))}else point.graphic=graphic=renderer[point.shapeType](shapeArgs).attr(point.pointAttr[point.selected?SELECT_STATE:NORMAL_STATE]).add(series.group).shadow(options.shadow,null,options.stacking&&
!options.borderRadius)}})},drawTracker:function(){var series=this;var chart=series.chart;var renderer=chart.renderer;var shapeArgs;var tracker;var trackerLabel=+new Date;var options=series.options;var cursor=options.cursor;var css=cursor&&{cursor:cursor};var trackerGroup=series.isCartesian&&series.plotGroup("trackerGroup",null,VISIBLE,options.zIndex||1,chart.trackerGroup);var rel;var plotY;var validPlotY;each(series.points,function(point){tracker=point.tracker;shapeArgs=point.trackerArgs||point.shapeArgs;
plotY=point.plotY;validPlotY=!series.isCartesian||plotY!==UNDEFINED&&!isNaN(plotY);delete shapeArgs.strokeWidth;if(point.y!==null&&validPlotY)if(tracker)tracker.attr(shapeArgs);else point.tracker=renderer[point.shapeType](shapeArgs).attr({isTracker:trackerLabel,fill:TRACKER_FILL,visibility:series.visible?VISIBLE:HIDDEN}).on(hasTouch?"touchstart":"mouseover",function(event){rel=event.relatedTarget||event.fromElement;if(chart.hoverSeries!==series&&attr$$0(rel,"isTracker")!==trackerLabel)series.onMouseOver();
point.onMouseOver()}).on("mouseout",function(event){if(!options.stickyTracking){rel=event.relatedTarget||event.toElement;if(attr$$0(rel,"isTracker")!==trackerLabel)series.onMouseOut()}}).css(css).add(point.group||trackerGroup)})},animate:function(init){var series=this;var points=series.points;var options=series.options;if(!init){each(points,function(point){var graphic=point.graphic;var shapeArgs=point.shapeArgs;var yAxis=series.yAxis;var threshold=options.threshold;if(graphic){graphic.attr({height:0,
y:defined(threshold)?yAxis.getThreshold(threshold):yAxis.translate(yAxis.getExtremes().min,0,1,0,1)});graphic.animate({height:shapeArgs.height,y:shapeArgs.y},options.animation)}});series.animate=null}},remove:function(){var series=this;var chart=series.chart;if(chart.hasRendered)each(chart.series,function(otherSeries){if(otherSeries.type===series.type)otherSeries.isDirty=true});Series.prototype.remove.apply(series,arguments)}});seriesTypes.column=ColumnSeries;defaultPlotOptions.bar=merge(defaultPlotOptions.column,
{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}});var BarSeries=extendClass(ColumnSeries,{type:"bar",inverted:true});seriesTypes.bar=BarSeries;defaultPlotOptions.scatter=merge(defaultSeriesOptions,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var ScatterSeries=extendClass(Series,{type:"scatter",sorted:false,translate:function(){var series=
this;Series.prototype.translate.apply(series);each(series.points,function(point){point.shapeType="circle";point.shapeArgs={x:point.plotX,y:point.plotY,r:series.chart.options.tooltip.snap}})},drawTracker:function(){var series=this;var cursor=series.options.cursor;var css=cursor&&{cursor:cursor};var points=series.points;var i=points.length;for(var graphic;i--;){graphic=points[i].graphic;if(graphic)graphic.element._i=i}if(!series._hasTracking)series.markerGroup.attr({isTracker:true}).on(hasTouch?"touchstart":
"mouseover",function(e){series.onMouseOver();if(e.target._i!==UNDEFINED)points[e.target._i].onMouseOver()}).on("mouseout",function(){if(!series.options.stickyTracking)series.onMouseOut()}).css(css);else series._hasTracking=true}});seriesTypes.scatter=ScatterSeries;defaultPlotOptions.pie=merge(defaultSeriesOptions,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,
size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:0.1,shadow:false}}});var PiePoint=extendClass(Point,{init:function(){Point.prototype.init.apply(this,arguments);var point=this;var toggleSlice;extend(point,{visible:point.visible!==false,name:pick(point.name,"Slice")});toggleSlice=function $toggleSlice$(){point.slice()};addEvent(point,"select",toggleSlice);addEvent(point,"unselect",toggleSlice);return point},setVisible:function(vis){var point=this;var series=point.series;var chart=
series.chart;var tracker=point.tracker;var dataLabel=point.dataLabel;var connector=point.connector;var shadowGroup=point.shadowGroup;var method;point.visible=vis=vis===UNDEFINED?!point.visible:vis;method=vis?"show":"hide";point.group[method]();if(tracker)tracker[method]();if(dataLabel)dataLabel[method]();if(connector)connector[method]();if(shadowGroup)shadowGroup[method]();if(point.legendItem)chart.legend.colorizeItem(point,vis);if(!series.isDirty&&series.options.ignoreHiddenPoint){series.isDirty=
true;chart.redraw()}},slice:function(sliced,redraw,animation){var point=this;var series=point.series;var chart=series.chart;var slicedTranslation=point.slicedTranslation;var translation;setAnimation(animation,chart);redraw=pick(redraw,true);sliced=point.sliced=defined(sliced)?sliced:!point.sliced;translation={translateX:sliced?slicedTranslation[0]:chart.plotLeft,translateY:sliced?slicedTranslation[1]:chart.plotTop};point.group.animate(translation);if(point.shadowGroup)point.shadowGroup.animate(translation)}});
var PieSeries={type:"pie",isCartesian:false,pointClass:PiePoint,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var series=this;var points=series.points;each(points,function(point){var graphic=point.graphic;var args=point.shapeArgs;var up=-mathPI/2;if(graphic){graphic.attr({r:0,start:up,end:up});graphic.animate({r:args.r,start:args.start,end:args.end},series.options.animation)}});
series.animate=null},setData:function(data,redraw){Series.prototype.setData.call(this,data,false);this.processData();this.generatePoints();if(pick(redraw,true))this.chart.redraw()},getCenter:function(){var options=this.options;var chart=this.chart;var plotWidth=chart.plotWidth;var plotHeight=chart.plotHeight;var positions=options.center.concat([options.size,options.innerSize||0]);var smallestSize=mathMin(plotWidth,plotHeight);var isPercent;return map(positions,function(length,i){isPercent=/%$/.test(length);
return isPercent?[plotWidth,plotHeight,smallestSize,smallestSize][i]*pInt(length)/100:length})},translate:function(){this.generatePoints();var total=0;var series=this;var cumulative=-0.25;var precision=1E3;var options=series.options;var slicedOffset=options.slicedOffset;var connectorOffset=slicedOffset+options.borderWidth;var positions;var chart=series.chart;var start;var end;var angle;var points=series.points;var circ=2*mathPI;var fraction;var radiusX;var radiusY;var labelDistance=options.dataLabels.distance;
var ignoreHiddenPoint=options.ignoreHiddenPoint;series.center=positions=series.getCenter();series.getX=function $series$getX$(y,left){angle=math.asin((y-positions[1])/(positions[2]/2+labelDistance));return positions[0]+(left?-1:1)*mathCos(angle)*(positions[2]/2+labelDistance)};each(points,function(point){total+=ignoreHiddenPoint&&!point.visible?0:point.y});each(points,function(point){fraction=total?point.y/total:0;start=mathRound(cumulative*circ*precision)/precision;if(!ignoreHiddenPoint||point.visible)cumulative+=
fraction;end=mathRound(cumulative*circ*precision)/precision;point.shapeType="arc";point.shapeArgs={x:positions[0],y:positions[1],r:positions[2]/2,innerR:positions[3]/2,start:start,end:end};angle=(end+start)/2;point.slicedTranslation=map([mathCos(angle)*slicedOffset+chart.plotLeft,mathSin(angle)*slicedOffset+chart.plotTop],mathRound);radiusX=mathCos(angle)*positions[2]/2;radiusY=mathSin(angle)*positions[2]/2;point.tooltipPos=[positions[0]+radiusX*0.7,positions[1]+radiusY*0.7];point.labelPos=[positions[0]+
radiusX+mathCos(angle)*labelDistance,positions[1]+radiusY+mathSin(angle)*labelDistance,positions[0]+radiusX+mathCos(angle)*connectorOffset,positions[1]+radiusY+mathSin(angle)*connectorOffset,positions[0]+radiusX,positions[1]+radiusY,labelDistance<0?"center":angle<circ/4?"left":"right",angle];point.percentage=fraction*100;point.total=total});this.setTooltipPoints()},render:function(){var series=this;series.getAttribs();this.drawPoints();if(series.options.enableMouseTracking!==false)series.drawTracker();
this.drawDataLabels();if(series.options.animation&&series.animate)series.animate();series.isDirty=false},drawPoints:function(){var series=this;var chart=series.chart;var renderer=chart.renderer;var groupTranslation;var graphic;var group;var shadow=series.options.shadow;var shadowGroup;var shapeArgs;each(series.points,function(point){graphic=point.graphic;shapeArgs=point.shapeArgs;group=point.group;shadowGroup=point.shadowGroup;if(shadow&&!shadowGroup)shadowGroup=point.shadowGroup=renderer.g("shadow").attr({zIndex:4}).add();
if(!group)group=point.group=renderer.g("point").attr({zIndex:5}).add();groupTranslation=point.sliced?point.slicedTranslation:[chart.plotLeft,chart.plotTop];group.translate(groupTranslation[0],groupTranslation[1]);if(shadowGroup)shadowGroup.translate(groupTranslation[0],groupTranslation[1]);if(graphic)graphic.animate(shapeArgs);else point.graphic=graphic=renderer.arc(shapeArgs).setRadialReference(series.center).attr(extend(point.pointAttr[NORMAL_STATE],{"stroke-linejoin":"round"})).add(point.group).shadow(shadow,
shadowGroup);if(point.visible===false)point.setVisible(false)})},drawDataLabels:function(){var series=this;var data=series.data;var point$$0;var chart=series.chart;var options=series.options.dataLabels;var connectorPadding=pick(options.connectorPadding,10);var connectorWidth=pick(options.connectorWidth,1);var connector;var connectorPath;var softConnector=pick(options.softConnector,true);var distanceOption=options.distance;var seriesCenter=series.center;var radius=seriesCenter[2]/2;var centerY=seriesCenter[1];
var outside=distanceOption>0;var dataLabel;var labelPos;var labelHeight;var halves=[[],[]];var x;var y;var visibility;var rankArr;var sort;var i=2;var j;if(!options.enabled&&!series._hasPointLabels)return;Series.prototype.drawDataLabels.apply(series);each(data,function(point){if(point.dataLabel)halves[point.labelPos[7]<mathPI/2?0:1].push(point)});halves[1].reverse();sort=function $sort$(a,b){return b.y-a.y};for(labelHeight=halves[0][0]&&halves[0][0].dataLabel&&(halves[0][0].dataLabel.getBBox().height||
21);i--;){var slots=[];var slotsLength;var usedSlots=[];var points=halves[i];var pos;var length=points.length;var slotIndex;if(distanceOption>0){for(pos=centerY-radius-distanceOption;pos<=centerY+radius+distanceOption;pos+=labelHeight)slots.push(pos);slotsLength=slots.length;if(length>slotsLength){rankArr=[].concat(points);rankArr.sort(sort);for(j=length;j--;)rankArr[j].rank=j;for(j=length;j--;)if(points[j].rank>=slotsLength)points.splice(j,1);length=points.length}for(j=0;j<length;j++){point$$0=points[j];
labelPos=point$$0.labelPos;var closest=9999;var distance;var slotI;for(slotI=0;slotI<slotsLength;slotI++){distance=mathAbs(slots[slotI]-labelPos[1]);if(distance<closest){closest=distance;slotIndex=slotI}}if(slotIndex<j&&slots[j]!==null)slotIndex=j;else if(slotsLength<length-j+slotIndex&&slots[j]!==null)for(slotIndex=slotsLength-length+j;slots[slotIndex]===null;)slotIndex++;else for(;slots[slotIndex]===null;)slotIndex++;usedSlots.push({i:slotIndex,y:slots[slotIndex]});slots[slotIndex]=null}usedSlots.sort(sort)}for(j=
0;j<length;j++){var slot;var naturalY;point$$0=points[j];labelPos=point$$0.labelPos;dataLabel=point$$0.dataLabel;visibility=point$$0.visible===false?HIDDEN:VISIBLE;naturalY=labelPos[1];if(distanceOption>0){slot=usedSlots.pop();slotIndex=slot.i;y=slot.y;if(naturalY>y&&slots[slotIndex+1]!==null||naturalY<y&&slots[slotIndex-1]!==null)y=naturalY}else y=naturalY;x=options.justify?seriesCenter[0]+(i?-1:1)*(radius+distanceOption):series.getX(slotIndex===0||slotIndex===slots.length-1?naturalY:y,i);dataLabel.attr({visibility:visibility,
align:labelPos[6]})[dataLabel.moved?"animate":"attr"]({x:x+options.x+({left:connectorPadding,right:-connectorPadding}[labelPos[6]]||0),y:y+options.y});dataLabel.moved=true;if(outside&&connectorWidth){connector=point$$0.connector;connectorPath=softConnector?[M,x+(labelPos[6]==="left"?5:-5),y,"C",x,y,2*labelPos[2]-labelPos[4],2*labelPos[3]-labelPos[5],labelPos[2],labelPos[3],L,labelPos[4],labelPos[5]]:[M,x+(labelPos[6]==="left"?5:-5),y,L,labelPos[2],labelPos[3],L,labelPos[4],labelPos[5]];if(connector){connector.animate({d:connectorPath});
connector.attr("visibility",visibility)}else point$$0.connector=connector=series.chart.renderer.path(connectorPath).attr({"stroke-width":connectorWidth,stroke:options.connectorColor||point$$0.color||"#606060",visibility:visibility,zIndex:3}).translate(chart.plotLeft,chart.plotTop).add()}}}},drawTracker:ColumnSeries.prototype.drawTracker,drawLegendSymbol:AreaSeries.prototype.drawLegendSymbol,getSymbol:function(){}};PieSeries=extendClass(Series,PieSeries);seriesTypes.pie=PieSeries;extend(Highcharts,
{Axis:Axis,CanVGRenderer:CanVGRenderer,Chart:Chart,Color:Color,Legend:Legend,MouseTracker:MouseTracker,Point:Point,Tick:Tick,Tooltip:Tooltip,Renderer:Renderer,Series:Series,SVGRenderer:SVGRenderer,VMLRenderer:VMLRenderer,dateFormat:dateFormat,pathAnim:pathAnim,getOptions:getOptions,hasBidiBug:hasBidiBug,numberFormat:numberFormat,seriesTypes:seriesTypes,setOptions:setOptions,addEvent:addEvent,removeEvent:removeEvent,createElement:createElement,discardElement:discardElement,css:css,each:each,extend:extend,
map:map,merge:merge,pick:pick,splat:splat,extendClass:extendClass,pInt:pInt,wrap:wrap,svg:hasSVG,canvas:useCanVG,vml:!hasSVG&&!useCanVG,product:"Highcharts",version:"2.3.2"})})();jQuery.fn.clickMenu=function $jQuery$fn$clickMenu$(){this.each(function(){function show(){self.addClass("menu-open");container.show();jQuery(document).bind("mousedown",checkClick)}function hide(){container.hide();self.removeClass("menu-open");jQuery(document).unbind("mousedown",checkClick)}var self=jQuery(this);var container=jQuery(this).find("ul");self.click(show);var checkClick=function $checkClick$(e){timeout=setTimeout(hide,400)}})};jQuery.fn.compactFields=function $jQuery$fn$compactFields$(){this.each(function(){function hide(){$label.css("text-indent","-1000px")}function show(){if(!input.value)$label.css("text-indent","0px")}var $label=jQuery(this);var input=document.getElementById($label.attr("for"));if(!input)return;jQuery(input).focus(hide).blur(show);if(input.value)hide();else show();return})};jQuery.fn.dateInput=function $jQuery$fn$dateInput$(options){this.each(function(){var input=jQuery(this);var dateFormat=options.dateFormat;input.parent().find(".calendar-icon").click(function(){input.focus()});input.attr("placeholder",dateFormat);input.attr("autocomplete","off");input.datepicker({duration:0,showOtherMonths:true,selectOtherMonths:true,dateFormat:dateFormat.replace("yyyy","yy"),firstDay:1,dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]})})};jQuery.fn.liveSearch=function $jQuery$fn$liveSearch$(wrapper,helpText){function moveActive(step){if(!$entries.length)return;var $active=$entries.filter(".active");var activeIndex=0;if($active.length){activeIndex=$entries.index($active)+step;if(activeIndex<0)activeIndex=$entries.length-1;else if(activeIndex>=$entries.length)activeIndex=0}else if(step>=0)activeIndex=0;else activeIndex=$entries.length-1;$entries.removeClass("active");$entries.eq(activeIndex).addClass("active")}function show(){wrapper.show();
if(input.val()=="Search..."){input.val("");input.addClass("active");resultdiv.html(helpText)}jQuery("#search-close").fadeIn(800);jQuery("#search-close").click(hide);jQuery(document).bind("mousedown",checkClick)}function hide(){wrapper.hide();input.val("Search...");input.removeClass("active");input.blur();jQuery("#search-close").fadeOut(500);jQuery(document).unbind("mousedown",checkClick)}function checkClick(e){var node=e.target;var searchInputId=input.parent().attr("id");var searchWrapperId=wrapper.attr("id");
for(var clickedInside=false;node;node=node.parentNode)if(node.nodeType==1&&node.id==searchInputId|node.id==searchWrapperId){clickedInside=true;break}if(!clickedInside)hide()}function search(){if(search_timeout!=undefined)clearTimeout(search_timeout);var term=jQuery.trim(input.val().toLowerCase());if(term.length==0)resultdiv.html(helpText);else search_timeout=setTimeout(function(){search_timeout=undefined;input.parent().addClass("search-busy");jQuery.ajaxq("searchq",{url:"/servlets/globalsearch",data:{term:term},
cache:false,success:function(html){if(html=="session expired")window.location.reload(true);else{input.parent().removeClass("search-busy");resultdiv.html(html);$entries=resultdiv.find("a")}}})},150)}var search_timeout=undefined;wrapper=jQuery(wrapper);var input=jQuery(this);var resultdiv=wrapper.find("div");input.val("Search...");var $entries=$();this.keyup(function(e){switch(e.keyCode){case 38:e.preventDefault();moveActive(-1);break;case 40:e.preventDefault();moveActive(1);break;case 27:hide();break;
case 13:if($entries.length){var $activeEntry=$entries.filter(".active");if($activeEntry.length)window.location=$activeEntry.attr("href");else window.location=$entries.eq(0).attr("href")}break;default:search();break}});resultdiv.delegate("a",{mouseenter:function(){$entries.removeClass("active");$(this).addClass("active")},mouseleave:function(){$(this).removeClass("active")}});this.focus(show);return this};jQuery.ajaxq=function $jQuery$ajaxq$(queue,options){if(typeof document.ajaxq=="undefined")document.ajaxq={q:{},r:null};if(typeof document.ajaxq.q[queue]=="undefined")document.ajaxq.q[queue]=[];if(typeof options!="undefined"){var optionsCopy={};for(var o in options)optionsCopy[o]=options[o];options=optionsCopy;var originalCompleteCallback=options.complete;options.complete=function $options$complete$(request,status){document.ajaxq.q[queue].shift();document.ajaxq.r=null;if(originalCompleteCallback)originalCompleteCallback(request,
status);if(document.ajaxq.q[queue].length>0)document.ajaxq.r=jQuery.ajax(document.ajaxq.q[queue][0])};document.ajaxq.q[queue].push(options);if(document.ajaxq.q[queue].length==1)document.ajaxq.r=jQuery.ajax(options)}else{if(document.ajaxq.r){document.ajaxq.r.abort();document.ajaxq.r=null}document.ajaxq.q[queue]=[]}};jQuery.remoteAutocomplete=function $jQuery$remoteAutocomplete$(input,options){function flushCache(){cache={};cache.data={};cache.length=0}function onChange(){if(lastKeyPressCode==46||lastKeyPressCode>8&&lastKeyPressCode<32)return $results.hide();var v=$input.val();if(v==prev)return;prev=v;if(v.length>=options.minChars){$input.addClass(options.loadingClass);requestData(v)}else{$input.removeClass(options.loadingClass);$results.hide()}}function moveSelect(step){var lis=jQuery("li",results);if(!lis)return;
active+=step;if(active<0)active=lis.size()-1;else if(active>=lis.size())active=0;lis.removeClass("ac_over");jQuery(lis[active]).addClass("ac_over")}function selectCurrent(){var li=jQuery("li.ac_over",results)[0];if(!li){var $li=jQuery("li",results);if(options.selectOnly){if($li.length==1)li=$li[0]}else if(options.selectFirst)li=$li[0]}if(li){selectItem(li);return true}else return false}function selectItem(li){if(!li){li=document.createElement("li");li.extra=[];li.selectValue=""}var v=jQuery.trim(li.selectValue?
li.selectValue:li.innerHTML);input.lastSelected=v;prev=v;$results.html("");$input.val(v);hideResultsNow();if(options.onItemSelect)setTimeout(function(){options.onItemSelect(li)},1)}function createSelection(start,end){var field=$input.get(0);if(field.createTextRange){var selRange=field.createTextRange();selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select()}else if(field.setSelectionRange)field.setSelectionRange(start,end);else if(field.selectionStart){field.selectionStart=
start;field.selectionEnd=end}field.focus()}function autoFill(sValue){if(lastKeyPressCode!=8){$input.val($input.val()+sValue.substring(prev.length));createSelection(prev.length,sValue.length)}}function showResults(){var pos=$input.offset();var iWidth=options.width>0?options.width:$input.width();$results.css({width:parseInt(iWidth,10)+"px",top:pos.top+$input.outerHeight()+"px",left:pos.left+"px"}).show()}function hideResults(){if(timeout)clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200)}
function hideResultsNow(){if(timeout)clearTimeout(timeout);$input.removeClass(options.loadingClass);if($results.is(":visible"))$results.hide();if(options.mustMatch){var v=$input.val();if(v!=input.lastSelected)selectItem(null)}}function receiveData(q,data){if(data){$input.removeClass(options.loadingClass);results.innerHTML="";if(!hasFocus)return hideResultsNow();if(data.length==0){if(!options.noMatchContent)return hideResultsNow();$results.append(options.noMatchContent(q))}else{results.appendChild(dataToDom(data));
if(options.autoFill&&$input.val().toLowerCase()==q.toLowerCase())autoFill(data[0][0])}showResults()}else hideResultsNow()}function parseData(data){if(!data)return null;var parsed=[];var rows=data.split(options.lineSeparator);for(var i=0;i<rows.length;i++){var row=jQuery.trim(rows[i]);if(row)parsed[parsed.length]=row.split(options.cellSeparator)}return parsed}function parseJsonData(data){if(!data)return null;var parsed=[];for(var i=0;i<data.length;i++){var row=data[i];if(row&&options.parseItem)parsed[i]=
options.parseItem(row);else if(row&&typeof row=="string")parsed[i]=row.split(options.cellSeparator);else if(row&&typeof row!="object")parsed[i]=escape(row);else if(row)parsed[i]=[row]}return parsed}function dataToDom(data){var ul=document.createElement("ul");var num=data.length;if(options.maxItemsToShow>0&&options.maxItemsToShow<num)num=options.maxItemsToShow;for(var i=0;i<num;i++){var row=data[i];if(!row)continue;var li=document.createElement("li");if(options.formatItem){var liContent=options.formatItem(row,
i,num);if(!liContent)continue;li.innerHTML=liContent;li.selectValue=row[0]}else{li.innerHTML=row[0];li.selectValue=row[0]}var extra=null;if(row.length>1){extra=[];for(var j=1;j<row.length;j++)extra[extra.length]=row[j]}li.extra=extra;ul.appendChild(li);jQuery(li).hover(function(){jQuery("li",ul).removeClass("ac_over");jQuery(this).addClass("ac_over");active=jQuery("li",ul).indexOf(jQuery(this).get(0))},function(){jQuery(this).removeClass("ac_over")}).click(function(e){e.preventDefault();e.stopPropagation();
selectItem(this)})}if(!jQuery(ul).children().length)return jQuery(options.noMatchContent()).get(0);return ul}function requestData(q){if(!options.matchCase)q=q.toLowerCase();var data$$0=options.cacheLength?loadFromCache(q):null;if(data$$0)receiveData(q,data$$0);else if(options.json!=false&&typeof options.url=="string")jQuery.getJSON(makeUrl(q),function(data){data=parseJsonData(data);addToCache(q,data);receiveData(q,data)});else if(typeof options.url=="string"&&options.url.length>0)jQuery.get(makeUrl(q),
function(data){data=parseData(data);addToCache(q,data);receiveData(q,data)});else $input.removeClass(options.loadingClass)}function makeUrl(q){var url=options.url+"?q="+encodeURIComponent(q);for(var i in options.extraParams)url+="&"+i+"="+encodeURIComponent(options.extraParams[i]);return url}function loadFromCache(q){if(!q)return null;if(cache.data[q])return cache.data[q];if(options.matchSubset)for(var i=q.length-1;i>=options.minChars;i--){var qs=q.substr(0,i);var c=cache.data[qs];if(c){var csub=
[];for(var j=0;j<c.length;j++){var x=c[j];var x0=x[0];if(matchSubset(x0,q))csub[csub.length]=x}return csub}}return null}function matchSubset(s,sub){if(!options.matchCase)s=s.toLowerCase();var i=s.indexOf(sub);if(i==-1)return false;return i==0||options.matchContains}function findValueCallback(q,data){if(data)$input.removeClass(options.loadingClass);var num=data?data.length:0;var li=null;for(var i=0;i<num;i++){var row=data[i];if(row[0].toLowerCase()==q.toLowerCase()){li=document.createElement("li");
if(options.formatItem){li.innerHTML=options.formatItem(row,i,num);li.selectValue=row[0]}else{li.innerHTML=row[0];li.selectValue=row[0]}var extra=null;if(row.length>1){extra=[];for(var j=1;j<row.length;j++)extra[extra.length]=row[j]}li.extra=extra}}if(options.onFindValue)setTimeout(function(){options.onFindValue(li)},1)}function addToCache(q,data){if(!data||!q||!options.cacheLength)return;if(!cache.length||cache.length>options.cacheLength){flushCache();cache.length++}else if(!cache[q])cache.length++;
cache.data[q]=data}function findPos(obj){var curleft=obj.offsetLeft||0;for(var curtop=obj.offsetTop||0;obj=obj.offsetParent;){curleft+=obj.offsetLeft;curtop+=obj.offsetTop}return{x:curleft,y:curtop}}var me=this;var $input=jQuery(input).attr("autocomplete","off");if(options.inputClass)$input.addClass(options.inputClass);var results=document.createElement("div");var $results=jQuery(results);$results.hide().addClass(options.resultsClass).css("position","absolute");if(options.width>0)$results.css("width",
options.width);jQuery("body").append(results);input.autocompleter=me;var timeout=null;var prev="";var active=-1;var cache={};var keyb=false;var hasFocus=false;var lastKeyPressCode=null;flushCache();if(options.data!=null){var sFirstChar="";var stMatchSets={};var row=[];if(typeof options.url!="string")options.cacheLength=1;for(var i$$0=0;i$$0<options.data.length;i$$0++){row=typeof options.data[i$$0]=="string"?[options.data[i$$0]]:options.data[i$$0];if(row[0].length>0){sFirstChar=row[0].substring(0,
1).toLowerCase();if(!stMatchSets[sFirstChar])stMatchSets[sFirstChar]=[];stMatchSets[sFirstChar].push(row)}}for(var k in stMatchSets){options.cacheLength++;addToCache(k,stMatchSets[k])}}$input.keydown(function(e){lastKeyPressCode=e.keyCode;switch(e.keyCode){case 38:e.preventDefault();moveSelect(-1);break;case 40:e.preventDefault();moveSelect(1);break;case 9:case 13:if(selectCurrent()){$input.get(0).blur();e.preventDefault()}break;default:active=-1;if(timeout)clearTimeout(timeout);timeout=setTimeout(function(){onChange()},
options.delay);break}}).focus(function(){hasFocus=true;if($input.val())$input.keydown()}).blur(function(){hasFocus=false;hideResults()});hideResultsNow();this.flushCache=function $this$flushCache$(){flushCache()};this.setExtraParams=function $this$setExtraParams$(p){options.extraParams=p};this.findValue=function $this$findValue$(){var q=$input.val();if(!options.matchCase)q=q.toLowerCase();var data$$0=options.cacheLength?loadFromCache(q):null;if(data$$0)findValueCallback(q,data$$0);else if(options.json!=
false&&typeof options.url=="string")jQuery.getJSON(makeUrl(q),function(data){data=parseJsonData(data);addToCache(q,data);findValueCallback(q,data)});else if(typeof options.url=="string"&&options.url.length>0)jQuery.get(makeUrl(q),function(data){data=parseData(data);addToCache(q,data);findValueCallback(q,data)});else findValueCallback(q,null)}};
jQuery.fn.remoteAutocomplete=function $jQuery$fn$remoteAutocomplete$(url,options,data){options=options||{};options.url=url;options.data=typeof data=="object"&&data.constructor==Array?data:null;options.inputClass=options.inputClass||"ac_input";options.resultsClass=options.resultsClass||"ac_results";options.lineSeparator=options.lineSeparator||"\n";options.cellSeparator=options.cellSeparator||"|";options.minChars=options.minChars||1;options.delay=options.delay||400;options.matchCase=options.matchCase||
0;options.matchSubset=options.matchSubset||1;options.matchContains=options.matchContains||0;options.cacheLength=typeof options.cacheLength=="undefined"?1:options.cacheLength;options.mustMatch=options.mustMatch||0;options.extraParams=options.extraParams||{};options.loadingClass=options.loadingClass||"ac_loading";options.selectFirst=options.selectFirst||false;options.selectOnly=options.selectOnly||false;options.maxItemsToShow=options.maxItemsToShow||-1;options.autoFill=options.autoFill||false;options.json=
options.json||false;options.width=parseInt(options.width,10)||0;this.each(function(){var input=this;new jQuery.remoteAutocomplete(input,options)});return this};jQuery.fn.autocompleteArray=function $jQuery$fn$autocompleteArray$(data,options){return this.remoteAutocomplete(null,options,data)};jQuery.fn.indexOf=function $jQuery$fn$indexOf$(e){for(var i=0;i<this.length;i++)if(this[i]==e)return i;return-1};(function(jQuery){jQuery.fn.tipsy=function $jQuery$fn$tipsy$(options){options=jQuery.extend({},jQuery.fn.tipsy.defaults,options);return this.each(function(){var opts=jQuery.fn.tipsy.elementOptions(this,options);jQuery(this).hover(function(){jQuery.data(this,"cancel.tipsy",true);var tip=jQuery.data(this,"active.tipsy");if(!tip){tip=jQuery('<div class="tipsy"><div class="tipsy-inner"/></div>');tip.css({position:"absolute",zIndex:1E5});jQuery.data(this,"active.tipsy",tip)}if(jQuery(this).attr("title")||
typeof jQuery(this).attr("original-title")!="string")jQuery(this).attr("original-title",jQuery(this).attr("title")||"").removeAttr("title");var title;if(typeof opts.title=="string")title=jQuery(this).attr(opts.title=="title"?"original-title":opts.title);else if(typeof opts.title=="function")title=opts.title.call(this);tip.find(".tipsy-inner")[opts.html?"html":"text"](title||opts.fallback);var pos=jQuery.extend({},jQuery(this).offset(),{width:this.offsetWidth,height:this.offsetHeight});tip.get(0).className=
"tipsy";tip.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var actualWidth=tip[0].offsetWidth;var actualHeight=tip[0].offsetHeight;var gravity=typeof opts.gravity=="function"?opts.gravity.call(this):opts.gravity;switch(gravity.charAt(0)){case "n":tip.css({top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}).addClass("tipsy-north");break;case "s":tip.css({top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}).addClass("tipsy-south");
break;case "e":tip.css({top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}).addClass("tipsy-east");break;case "w":tip.css({top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}).addClass("tipsy-west");break}if(opts.fade)tip.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:0.8});else tip.css({visibility:"visible"})},function(){jQuery.data(this,"cancel.tipsy",false);var self=this;setTimeout(function(){if(jQuery.data(this,"cancel.tipsy"))return;var tip=
jQuery.data(self,"active.tipsy");if(opts.fade)tip.stop().fadeOut(function(){jQuery(this).remove()});else tip.remove()},100)})})};jQuery.fn.tipsy.elementOptions=function $jQuery$fn$tipsy$elementOptions$(ele,options){return jQuery.metadata?jQuery.extend({},options,jQuery(ele).metadata()):options};jQuery.fn.tipsy.defaults={fade:false,fallback:"",gravity:"n",html:false,title:"title"};jQuery.fn.tipsy.autoNS=function $jQuery$fn$tipsy$autoNS$(){return jQuery(this).offset().top>jQuery(document).scrollTop()+
jQuery(window).height()/2?"s":"n"};jQuery.fn.tipsy.autoWE=function $jQuery$fn$tipsy$autoWE$(){return jQuery(this).offset().left>jQuery(document).scrollLeft()+jQuery(window).width()/2?"e":"w"}})(jQuery);jQuery.fn.busyButton=function $jQuery$fn$busyButton$(){labelWhenBusy=function $labelWhenBusy$(label){if(label=="Save")return"Saving ...";if(label=="Delete"||label=="Delete task")return"Deleting ...";if(label=="Show Me")return"Retrieving";return"Please wait"};makeBusy=function $makeBusy$(){var $this=jQuery(this);var label=labelWhenBusy($this.is("a")?jQuery.trim($this.text()):$this.attr("value"));var styleClass=$this.attr("class")==null?"":$this.attr("class").replace("singlesubmit","").trim();var replacement=
'<a class="'+styleClass+'" href="javascript:;">'+label+"</a>";$this.hide();$this.after(replacement)};this.live("click",makeBusy)};jQuery.fn.partySearch=function $jQuery$fn$partySearch$(options){options=options||{};this.each(function(){var input=jQuery(this);var onPartySelect=input.data("on-party-select");var onPartySelectUrl=input.data("on-party-select-url");var excludePartyId=input.data("exclude-party-id");if(excludePartyId)excludePartyId=parseInt(excludePartyId,10);input.remoteAutocomplete("/servlets/party/search",{json:true,delay:150,minChars:2,maxItemsToShow:10,autoFill:false,matchSubset:1,matchContains:1,cacheLength:0,
width:300,parseItem:function(data){return[data.name,data]},formatItem:function(data){var party=data[1];if(options.excludePartyId===party.id||excludePartyId===party.id)return"";return party.name+(party.organisation!=""?"<small>at "+party.organisation+"</small>":"")},onItemSelect:function(li){var partyId=li.extra[0].id;if(onPartySelectUrl)window.location=onPartySelectUrl.replace(/{{partyId}}/,partyId);else if(onPartySelect){if(window[onPartySelect])window[onPartySelect](partyId)}else if(options.onPartySelect)options.onPartySelect(partyId)},
noMatchContent:function(q){return'<ul><li class="info">No matches found.</li></ul>'},resultsClass:"searchresult"})})};(function($){$.fn.shortPass="Too short";$.fn.badPass="Weak";$.fn.goodPass="Good";$.fn.strongPass="Strong";$.fn.samePassword="Username and Password identical.";$.fn.resultStyle="";$.fn.passStrength=function $$$fn$passStrength$(options){var defaults={shortPass:"shortPass",badPass:"badPass",goodPass:"goodPass",strongPass:"strongPass",baseStyle:"testresult",userid:"",messageloc:1};var opts=$.extend(defaults,options);return this.each(function(){var obj=$(this);$(obj).unbind().keyup(function(){var results=
$.fn.teststrength($(this).val(),$(opts.userid).val(),opts);if(opts.messageloc===1){$(this).next("."+opts.baseStyle).remove();$(this).after('<span class="'+opts.baseStyle+'"><span></span></span>');$(this).next("."+opts.baseStyle).addClass($(this).resultStyle).find("span").text(results)}else{$(this).prev("."+opts.baseStyle).remove();$(this).before('<span class="'+opts.baseStyle+'"><span></span></span>');$(this).prev("."+opts.baseStyle).addClass($(this).resultStyle).find("span").text(results)}});$.fn.teststrength=
function $$$fn$teststrength$(password,username,option){var score=0;if(password.length<4){this.resultStyle=option.shortPass;return $(this).shortPass}if(password.toLowerCase()==username.toLowerCase()){this.resultStyle=option.badPass;return $(this).samePassword}score+=password.length*4;score+=($.fn.checkRepetition(1,password).length-password.length)*1;score+=($.fn.checkRepetition(2,password).length-password.length)*1;score+=($.fn.checkRepetition(3,password).length-password.length)*1;score+=($.fn.checkRepetition(4,
password).length-password.length)*1;if(password.match(/(.*[0-9].*[0-9].*[0-9])/))score+=5;if(password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/))score+=5;if(password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/))score+=10;if(password.match(/([a-zA-Z])/)&&password.match(/([0-9])/))score+=15;if(password.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&password.match(/([0-9])/))score+=15;if(password.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&password.match(/([a-zA-Z])/))score+=15;if(password.match(/^\w+$/)||
password.match(/^\d+$/))score-=10;if(score<0)score=0;if(score>100)score=100;if(score<34){this.resultStyle=option.badPass;return $(this).badPass}if(score<68){this.resultStyle=option.goodPass;return $(this).goodPass}this.resultStyle=option.strongPass;return $(this).strongPass}})}})(jQuery);
jQuery.fn.checkRepetition=function $jQuery$fn$checkRepetition$(pLen,str){var res="";for(var i=0;i<str.length;i++){var repeated=true;for(var j=0;j<pLen&&j+i+pLen<str.length;j++)repeated=repeated&&str.charAt(j+i)==str.charAt(j+i+pLen);if(j<pLen)repeated=false;if(repeated){i+=pLen-1;repeated=false}else res+=str.charAt(i)}return res};!function($){function hideModal(that){if(this.$element.hasClass("animated pulse"))this.$element.removeClass("animated pulse");$("body").removeClass("stop-scrolling");this.$element.removeClass("in").trigger("hidden");backdrop.call(this)}function position(){var maxHeight=window.innerHeight-(this.$element.outerHeight()-this.$element.height())-30;if(this.$element.height()>maxHeight)this.$element.height(maxHeight);else this.$element.height("auto");var outerHeight=this.$element.outerHeight();var outerWidth=
this.$element.outerWidth();this.$element.css({position:"fixed","margin-left":-(outerWidth/2)+"px","margin-top":-(outerHeight/2)+"px",left:"50%",top:"50%"})}function backdrop(){var that=this;if(this.isShown&&this.options.backdrop){if(!this.$backdrop){this.$backdrop=$('<div class="modal-backdrop"></div>').appendTo(document.body);if(this.options.backdrop!="static")this.$backdrop.click($.proxy(this.hide,this))}this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");this.$backdrop.show();this.$backdrop[0].offsetWidth}else if(!this.isShown&&
this.$backdrop){this.$backdrop.removeClass("in");this.$element[0].offsetWidth}}function escape(){var that=this}var Modal=function $Modal$(content,options){this.options=$.extend({},$.fn.modal.defaults,options);this.$element=$(content).delegate('[data-dismiss="modal"]',"click",$.proxy(this.hide,this));this.$element.bind("shown unbusy",$.proxy(this.focus,this))};Modal.prototype={constructor:Modal,toggle:function $Modal$$toggle$(){return this[!this.isShown?"show":"hide"]()},show:function $Modal$$show$(){var that=
this;if(this.isShown)return;this.isShown=true;this.$element.trigger("show");escape.call(this);backdrop.call(this);position.call(this);this.$element[0].offsetWidth;this.$element.addClass("in");this.$element[0].offsetWidth;this.$element.trigger("shown");$("body").addClass("stop-scrolling");this.$backdrop.click($.proxy(function(){this.$element.addClass("animated pulse");this.$element.bind("animationend oanimationend MSAnimationend webkitAnimationEnd",function(){$(this).removeClass("animated pulse")})},
this))},hide:function $Modal$$hide$(e){e&&e.preventDefault();if(!this.isShown)return;var that=this;this.isShown=false;escape.call(this);this.$element.trigger("hide");hideModal.call(this)},busy:function $Modal$$busy$(){var isShow=this.params!==false;if(isShow){jQuery(document.activeElement).blur();this.$element.addClass("busy");this.$element.trigger("busy")}else{this.$element.removeClass("busy");this.$element.trigger("unbusy")}},width:function $Modal$$width$(o){var modal=this.$element;if(o.skipAnimation===
true)modal.css({"margin-left":o.width/2*-1,width:o.width+"px"});else modal.animate({"margin-left":o.width/2*-1,width:o.width+"px"},o.duration||"fast",o.complete||$.noop);return this},focus:function $Modal$$focus$(){if(this.$element.is(".busy"))return;var $el=this.$element.find(".primary-focus").first();if(!$el.length)$el=this.$element.find("input, textarea, select, button").filter(":visible").first();if($el.length)$el.focus()}};$.fn.modal=function $$$fn$modal$(option,params){return this.each(function(){var $this=
$(this);var data=$this.data("modal");var options=typeof option=="object"&&option;if(!data)$this.data("modal",data=new Modal(this,options));data.params=params;if(typeof option=="string")data[option](params);else data.show()})};$.fn.modal.defaults={backdrop:"static",keyboard:false};$.fn.modal.Constructor=Modal;$(function(){$("body").delegate('[data-toggle="modal"]',"click",function(e){var $this=$(this);var $target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,
""));var option=$target.data("modal")?"toggle":$.extend({},$target.data(),$this.data());e.preventDefault();$target.modal(option)})})}(window.jQuery);(function($){$.widget("ui.combobox",{_create:function(){this.parseSuggestions();this.buildWrapper();this.buildInput();this.buildToggle()},parseSuggestions:function(){var suggestionsStr=$.trim(this.element.data("suggestions"));var suggestions=[];if(suggestionsStr){suggestionsStr=$.trim(suggestionsStr);if(suggestionsStr!=="")suggestions=_.map(suggestionsStr.split("\\,"),$.trim)}this.suggestions=suggestions},buildWrapper:function(){this.wrapper=$("<span>").addClass("ui-combobox");this.element.wrap(this.wrapper)},
buildInput:function(value){this.element.addClass("ui-combobox-input").autocomplete({delay:0,minLength:0,source:this.suggestions})},buildToggle:function(){this.toggle=$("<a>").attr("tabIndex",-1).button({text:false,icons:{primary:"header-dropmenu-down"}}).removeClass("ui-corner-all").addClass("ui-combobox-toggle").click($.proxy(this.toggleClick,this));this.element.after(this.toggle)},toggleClick:function(){if(this.element.autocomplete("widget").is(":visible")){this.element.autocomplete("close");return}$(this).blur();
this.element.autocomplete("search","");this.element.focus()},destroy:function(){this.wrapper.remove();$.Widget.prototype.destroy.call(this)}})})(jQuery);(function(){var template=Handlebars.template;var templates=Handlebars.templates=Handlebars.templates||{};templates["parties/info"]=template(function(Handlebars,depth0,helpers,partials,data$$0){function program1(depth0,data,depth1){var buffer="";var stack1;buffer+='\n  <div class="invite new-info-card">\n    <div class="arrow"></div>\n    <div class="text">\n      ';stack1=depth0.addParty;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.programWithDepth(program7,data,depth1),fn:self.programWithDepth(program2,
data,depth1)});if(stack1||stack1===0)buffer+=stack1;buffer+='\n    </div>\n    <div class="border">\n      ';stack1=depth0.addParty;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.program(34,program34,data),fn:self.program(32,program32,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n    </div>\n  </div>\n";return buffer}function program2(depth0,data,depth2){var buffer="";var stack1;var foundHelper;buffer+='\n        <div class="top-bar">\n          <div class="avatar">\n            <img class="picture-normal" src="';
foundHelper=helpers.pictureURL;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.pictureURL;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'"/>\n          </div>\n          <div class="party-details">\n            <h1>Unknown contact</h1>\n            ';stack1=depth0.name;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(3,program3,data)});if(stack1||stack1===0)buffer+=stack1;buffer+='\n          </div>\n        </div>\n\n        <ul class="contact-details">\n          ';
stack1=depth0.emailAddress;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.programWithDepth(program5,data,depth2)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n        </ul>\n      ";return buffer}function program3(depth0,data){var buffer="";var stack1;var foundHelper;buffer+="\n              <h2>";foundHelper=helpers.name;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.name;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+
"</h2>\n            ";return buffer}function program5(depth0,data,depth3){var buffer="";var stack1;var stack2;var foundHelper;buffer+='\n            <li class="email">\n              <a target="';stack1=depth3.userPrefs;stack1=stack1==null||stack1===false?stack1:stack1.emailTarget;stack1=typeof stack1===functionType?stack1():stack1;buffer+=escapeExpression(stack1)+'" href="';stack1=depth3.userPrefs;stack2=depth0.emailAddress;foundHelper=helpers.email_to;stack1=foundHelper?foundHelper.call(depth0,
stack2,"",stack1,{hash:{}}):helperMissing.call(depth0,"email_to",stack2,"",stack1,{hash:{}});buffer+=escapeExpression(stack1)+'">';foundHelper=helpers.emailAddress;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.emailAddress;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</a>\n            </li>\n          ";return buffer}function program7(depth0,data,depth2){var buffer="";var stack1;var foundHelper;buffer+='\n        <div class="top-bar">\n          <div class="avatar">\n            <img class="picture-normal" src="';
foundHelper=helpers.pictureURL;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.pictureURL;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'"/>\n          </div>\n          <div class="party-details">\n            <h1><a href="/party/';foundHelper=helpers.id;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.id;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'">';foundHelper=
helpers.displayName;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.displayName;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</a></h1>\n            ";stack1=depth0.organisationName;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.program(10,program10,data),fn:self.program(8,program8,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n\n            ";foundHelper=helpers.contacts;if(foundHelper)stack1=foundHelper.call(depth0,
{hash:{},inverse:self.noop,fn:self.program(13,program13,data)});else{stack1=depth0.contacts;stack1=typeof stack1===functionType?stack1():stack1}if(!helpers.contacts)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(13,program13,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n          </div>\n        </div>\n\n        ";stack1=depth0.isContactDetails;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.program(30,program30,data),fn:self.programWithDepth(program16,
data,depth2)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n      ";return buffer}function program8(depth0,data){var buffer="";var stack1;var foundHelper;buffer+="\n              <h2>";foundHelper=helpers.jobTitle;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.jobTitle;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+' at <a href="/party/';foundHelper=helpers.organisationId;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});
else{stack1=depth0.organisationId;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'">';foundHelper=helpers.organisationName;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.organisationName;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</a></h2>\n            ";return buffer}function program10(depth0,data){var buffer="";var stack1;buffer+="\n              ";stack1=depth0.jobTitle;stack1=helpers["if"].call(depth0,
stack1,{hash:{},inverse:self.noop,fn:self.program(11,program11,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n            ";return buffer}function program11(depth0,data){var buffer="";var stack1;var foundHelper;buffer+="\n                <h2>";foundHelper=helpers.jobTitle;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.jobTitle;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</h2>\n              ";return buffer}function program13(depth0,
data){var buffer="";var stack1;var foundHelper;buffer+='\n              <ul class="website-details">\n                ';foundHelper=helpers.websiteNonUrl;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{},inverse:self.noop,fn:self.program(14,program14,data)});else{stack1=depth0.websiteNonUrl;stack1=typeof stack1===functionType?stack1():stack1}if(!helpers.websiteNonUrl)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(14,program14,data)});if(stack1||stack1===
0)buffer+=stack1;buffer+="\n              </ul>\n            ";return buffer}function program14(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='\n                  <li><a class="small-icon ';foundHelper=helpers.formattedWebService;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.formattedWebService;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'" href="';foundHelper=helpers.url;if(foundHelper)stack1=foundHelper.call(depth0,
{hash:{}});else{stack1=depth0.url;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'" target="_blank" title="';foundHelper=helpers.webAddress;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.webAddress;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'"></a></li>\n                ';return buffer}function program16(depth0,data,depth3){var buffer="";var stack1;var foundHelper;buffer+="\n          ";foundHelper=
helpers.contacts;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{},inverse:self.noop,fn:self.programWithDepth(program17,data,depth3)});else{stack1=depth0.contacts;stack1=typeof stack1===functionType?stack1():stack1}if(!helpers.contacts)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.programWithDepth(program17,data,depth3)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n        ";return buffer}function program17(depth0,data,depth4){var buffer="";var stack1;var foundHelper;
buffer+='\n            <ul class="contact-details">\n              ';foundHelper=helpers.phone;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{},inverse:self.noop,fn:self.program(18,program18,data)});else{stack1=depth0.phone;stack1=typeof stack1===functionType?stack1():stack1}if(!helpers.phone)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(18,program18,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n              ";foundHelper=helpers.email;if(foundHelper)stack1=
foundHelper.call(depth0,{hash:{},inverse:self.noop,fn:self.programWithDepth(program21,data,depth4)});else{stack1=depth0.email;stack1=typeof stack1===functionType?stack1():stack1}if(!helpers.email)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.programWithDepth(program21,data,depth4)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n              ";foundHelper=helpers.websiteUrl;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{},inverse:self.noop,fn:self.program(24,
program24,data)});else{stack1=depth0.websiteUrl;stack1=typeof stack1===functionType?stack1():stack1}if(!helpers.websiteUrl)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(24,program24,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n              ";foundHelper=helpers.address;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{},inverse:self.noop,fn:self.program(27,program27,data)});else{stack1=depth0.address;stack1=typeof stack1===functionType?stack1():
stack1}if(!helpers.address)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(27,program27,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n            </ul>\n          ";return buffer}function program18(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='\n                <li class="phone">\n                  ';foundHelper=helpers.phoneNumber;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.phoneNumber;stack1=typeof stack1===
functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"\n                  ";stack1=depth0.type;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(19,program19,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n                </li>\n              ";return buffer}function program19(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='<span class="type">';foundHelper=helpers.type;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=
depth0.type;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</span>";return buffer}function program21(depth0,data,depth5){var buffer="";var stack1;var stack2;var stack3;var foundHelper;buffer+='\n                <li class="email">\n                  <a target="';stack1=depth5.userPrefs;stack1=stack1==null||stack1===false?stack1:stack1.emailTarget;stack1=typeof stack1===functionType?stack1():stack1;buffer+=escapeExpression(stack1)+'" href="';stack1=depth5.userPrefs;
stack2=depth5.dropboxAddress;stack3=depth0.emailAddress;foundHelper=helpers.email_to;stack1=foundHelper?foundHelper.call(depth0,stack3,stack2,stack1,{hash:{}}):helperMissing.call(depth0,"email_to",stack3,stack2,stack1,{hash:{}});buffer+=escapeExpression(stack1)+'">';foundHelper=helpers.emailAddress;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.emailAddress;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</a>\n                  ";
stack1=depth0.type;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(22,program22,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n                </li>\n              ";return buffer}function program22(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='<span class="type">';foundHelper=helpers.type;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.type;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+
"</span>";return buffer}function program24(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='\n                <li class="url">\n                  <a target="_" href="';foundHelper=helpers.url;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.url;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'">';foundHelper=helpers.url;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.url;stack1=typeof stack1===
functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</a>\n                  ";stack1=depth0.type;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(25,program25,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n                </li>\n              ";return buffer}function program25(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='<span class="type">';foundHelper=helpers.type;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=
depth0.type;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</span>";return buffer}function program27(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='\n                <li class="address">\n                  ';foundHelper=helpers.formatAddress;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.formatAddress;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"\n                  ";stack1=
depth0.type;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(28,program28,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n                </li>\n              ";return buffer}function program28(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='<span class="type">';foundHelper=helpers.type;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.type;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+
"</span>";return buffer}function program30(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='\n          <p class="no-contact-details">No contact details have been recorded for ';foundHelper=helpers.displayName;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.displayName;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+"</p>\n        ";return buffer}function program32(depth0,data){var buffer="";var stack1;var foundHelper;
buffer+='\n        <a class="btn icon-add-contact" href="/parties/add_person?newPartyEmailId=';foundHelper=helpers.emailId;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.emailId;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'">Add Person</a>\n        <a class="btn icon-add-organisation" href="/parties/add_organisation?newPartyEmailId=';foundHelper=helpers.emailId;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=
depth0.emailId;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'">Add Organisation</a>\n      ';return buffer}function program34(depth0,data){var buffer="";var stack1;var foundHelper;buffer+='\n        <a class="btn icon-edit" href="/party/';foundHelper=helpers.id;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{}});else{stack1=depth0.id;stack1=typeof stack1===functionType?stack1():stack1}buffer+=escapeExpression(stack1)+'/edit">Edit</a>\n      ';return buffer}
helpers=helpers||Handlebars.helpers;var stack1;var foundHelper;var functionType="function";var escapeExpression=this.escapeExpression;var helperMissing=helpers.helperMissing;var self=this;var blockHelperMissing=helpers.blockHelperMissing;foundHelper=helpers.party;if(foundHelper)stack1=foundHelper.call(depth0,{hash:{},inverse:self.noop,fn:self.programWithDepth(program1,data$$0,depth0)});else{stack1=depth0.party;stack1=typeof stack1===functionType?stack1():stack1}if(!helpers.party)stack1=blockHelperMissing.call(depth0,
stack1,{hash:{},inverse:self.noop,fn:self.programWithDepth(program1,data$$0,depth0)});if(stack1||stack1===0)return stack1;else return""});templates["welcome/welcome"]=template(function(Handlebars,depth0$$0,helpers,partials,data$$0){function program1(depth0,data){return'\n          <a href="/settings/users">your team</a>\n        '}function program3(depth0,data){return"\n          your team\n        "}function program5(depth0,data){return'\n      <h2>Try the Gmail gadget</h2>\n      <p>Store emails and view contact details via the <a href="http://capsulecrm.com/blog/comments/capsule_contextual_gadget_for_gmail" target="_blank">Capsule gadget for Gmail</a></p>\n      '}
function program7(depth0,data){var buffer="";var stack1;buffer+="\n      <h2>Attach emails</h2>\n      <p>Attach emails via the\n        ";stack1=depth0.isAccountAdmin;stack1=helpers["if"].call(depth0,stack1,{hash:{},inverse:self.program(10,program10,data),fn:self.program(8,program8,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n      </p>\n      ";return buffer}function program8(depth0,data){return'\n          <a href="/settings/dropbox">Capsule dropbox</a>\n        '}function program10(depth0,
data){return'\n          <a href="/users/dropbox">Capsule dropbox</a>\n        '}function program12(depth0,data){return'\n      <li class="configure">\n        <h2>Configure Capsule</h2>\n        <p>\n          <a href="/settings/customfields/party">Add custom fields</a>, <a href="/settings/users">invite users</a> and <a href="/settings">configure other settings</a>\n        </p>\n      </li>\n    '}helpers=helpers||Handlebars.helpers;var buffer$$0="";var stack1$$0;var self=this;buffer$$0+='<div id="welcomeModalPanel" class="modal">\n  <header>Getting started with Capsule CRM</header>\n  <ul>\n    <li class="add-contacts">\n      <h2>Add contacts</h2>\n      <p>Start <a href="/parties/add_person">adding contacts</a> or <a href="/parties/import">importing them</a></p>\n    </li>\n    <li class="add-tasks">\n      <h2>Manage tasks</h2>\n      <p><a href="/tasks">Add tasks</a> and share with\n        ';
stack1$$0=depth0$$0.isAccountAdmin;stack1$$0=helpers["if"].call(depth0$$0,stack1$$0,{hash:{},inverse:self.program(3,program3,data$$0),fn:self.program(1,program1,data$$0)});if(stack1$$0||stack1$$0===0)buffer$$0+=stack1$$0;buffer$$0+='\n        </p>\n    </li>\n    <li class="start-tracking">\n      <h2>Track your sales pipeline</h2>\n      <p><a href="/pipeline">Add and track opportunities</a> in your sales pipeline</p>\n    </li>\n    <li class="add-email">\n      ';stack1$$0=depth0$$0.isGoogleApps;
stack1$$0=helpers["if"].call(depth0$$0,stack1$$0,{hash:{},inverse:self.program(7,program7,data$$0),fn:self.program(5,program5,data$$0)});if(stack1$$0||stack1$$0===0)buffer$$0+=stack1$$0;buffer$$0+="\n    </li>\n    ";stack1$$0=depth0$$0.isAccountAdmin;stack1$$0=helpers["if"].call(depth0$$0,stack1$$0,{hash:{},inverse:self.noop,fn:self.program(12,program12,data$$0)});if(stack1$$0||stack1$$0===0)buffer$$0+=stack1$$0;buffer$$0+='\n    <li class="install-mobile">\n      <h2>Get mobile!</h2>\n      <p><a href="/users/mobile">Install Capsule mobile</a> on your phone</p>\n    </li>\n  </ul>\n\n  <footer>\n    <a class="btn primary" href="#" data-dismiss="modal">Close</a>\n    <div class="tip">\n      <p>You can learn more about using Capsule by visiting our <a target="_help" href="http://support.capsulecrm.com/">support page</a>.</p>\n    </div>\n  </footer>\n</div>';
return buffer$$0})})();(function(){var $;var $welcomeModal;var App;var userPreferencesReq;var userPrefs;$=jQuery;userPreferencesReq=null;userPrefs=null;$welcomeModal=null;App=function(){function App(){}App.prototype.Assets={_assetsPath:"",path:function $App$$Assets$path$(resource){return this._assetsPath+resource},setPath:function $App$$Assets$setPath$(assetsPath){return this._assetsPath=assetsPath}};App.prototype.Theme={images:""};App.prototype.dropboxAddress="";App.prototype.postContentRender=function $App$$postContentRender$(dateFormat){$(".compact").compactFields();
$(".menu").clickMenu();$(".datepicker").dateInput({dateFormat:dateFormat});$('form[enctype="multipart/form-data" ]').submit(function(){if($.browser.safari&&!/Chrome/.test(navigator.userAgent))return $.ajax({url:"/seam/resource/rest/connection/close",async:false})});$(".combobox").combobox();return $(".partySearchInput").partySearch()};App.prototype.postPageLoad=function $App$$postPageLoad$(){$(".tipped").tipsy({live:true});$(".singlesubmit").busyButton();$("#globalSearchInput input").liveSearch("#globalSearchWrapper",
"Find a contact, case or opportunity by typing a name, phone, email or searchable custom field");Z.setupPartyInfo();return $("#getting-started-link, #getting-started-menu").click(function(e){e.preventDefault();return app.showWelcomeModal()})};App.prototype.getUserPreferences=function $App$$getUserPreferences$(){var dfd;var _this=this;if(userPreferencesReq!=null)return userPreferencesReq;dfd=$.Deferred();if(!(userPrefs!=null))$.ajax({url:"/api/preferences",dataType:"json",context:this,cache:false,
success:function(data){userPrefs=data.preferences;return dfd.resolve(userPrefs)},error:dfd.reject});else dfd.resolve(userPrefs);return userPreferencesReq=dfd.promise()};App.prototype.showWelcomeModal=function $App$$showWelcomeModal$(){if($welcomeModal!=null)return $welcomeModal.modal();else return this.getUserPreferences().then(function(userPrefs){var html;var template;template=Handlebars.templates["welcome/welcome"];html=template({isGoogleApps:userPrefs.isGoogleApps==="true",isAccountAdmin:userPrefs.isAccountAdmin===
"true"});$welcomeModal=$(html);jQuery("body").append($welcomeModal);return $welcomeModal.modal()})};App.prototype.buildUsagePiecharts=function $App$$buildUsagePiecharts$(){return $(".piechart").each(function(){var $chart;var chart;var data;var options;$chart=$(this);data=$chart.data("chart");options={credits:{enabled:false},colors:["#4db5df","#afe1f6"],chart:{renderTo:this,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false,spacingTop:0,spacingRight:0,spacingBottom:0,spacingLeft:0},tooltip:{enabled:false},
title:{text:null},plotOptions:{pie:{shadow:false,animation:false,allowPointSelect:false,cursor:"",borderWidth:0,size:"100%",states:{hover:{brightness:0}},dataLabels:{enabled:false},marker:{enabled:false}}},legend:{enabled:false},series:[{type:"pie",data:[]}]};options.series[0].data=data;return chart=new Highcharts.Chart(options)})};return App}();window.app=new App}).call(this);
(function(){Handlebars.registerHelper("formatAddress",function(){var charLimit;var str;var street;var streetLength;var _ref;charLimit=1E4;str=_.filter([this.city,this.state,this.zip,this.country],function(num){return num}).join(", ");if(str.length>=charLimit)return str.substring(0,charLimit);street=(_ref=this.street)!=null?_ref.replace(/\r\n|\r|\n/,", "):void 0;if(street){if(!str)if(street.length>=charLimit)return street.substring(0,charLimit);else return street;if(street.length+str.length+1>charLimit){streetLength=
charLimit-str.length-4;if(streetLength<3)return str;else return""+street.substring(0,streetLength)+"..., "+str}else return""+street+", "+str}return str});Handlebars.registerHelper("email_to",function(emailAddress,dropboxAddress,userPrefs,options){if(!dropboxAddress)dropboxAddress=userPrefs.dropboxAddress;return Z.emailComposeUrl(emailAddress,dropboxAddress,userPrefs.emailPreference,userPrefs.emailDomain)});Handlebars.registerHelper("email_to_without_dropbox",function(emailAddress,userPrefs,options){return Z.emailComposeUrl(emailAddress,
"",userPrefs.emailPreference,userPrefs.emailDomain)})}).call(this);
(function(){var $;var partyCache;var partyModelMethods;$=jQuery;partyCache={};this.PartyInfo=function(){function PartyInfo(trigger){var dfd;var partyInfo;var _this=this;dfd=$.Deferred();this.$trigger=$(trigger);partyInfo=this.$trigger.data("party-info");if(partyInfo)return dfd.resolve(partyInfo);this.id=this.$trigger.data("id")||this.$trigger.attr("id");this.email=this.$trigger.data("email");this.emailId=this.$trigger.data("email-id");this.name=this.$trigger.data("email-name");if(!this.id&&!this.email)return;
$.when(this.findParty(),app.getUserPreferences()).then(function(data,userPrefs){var html;var _ref;html=_this.template({party:data,userPrefs:userPrefs,dropboxAddress:(_ref=_this.$trigger.data("dropbox"))!=null?_ref:userPrefs.dropboxAddress});_this.$el=$(html);_this.$trigger.append(_this.$el);_this.positionEl();_this.$trigger.data("party-info",_this);return dfd.resolve(_this)});return dfd.promise()}PartyInfo.prototype.template=Handlebars.templates["parties/info"];PartyInfo.prototype.findParty=function $PartyInfo$$findParty$(){var cachedParty;
var dfd;var key;var _ref;var _this=this;dfd=$.Deferred();key=(_ref=this.id)!=null?_ref:this.email;cachedParty=partyCache[key];if(cachedParty)dfd.resolve(cachedParty);else $.ajax({url:this.id?"/api/party/"+this.id:"/api/party?email="+this.email+"&limit=1",dataType:"json",context:this,cache:false,success:function(data){data=_this.prepareData(data);partyCache[key]=data;return dfd.resolve(data)},error:dfd.reject});return dfd.promise()};PartyInfo.prototype.prepareData=function $PartyInfo$$prepareData$(data){var _ref;
var _ref1;var _ref2;var _ref3;var _ref4;data=(_ref=(_ref1=(_ref2=data.person)!=null?_ref2:(_ref3=data.parties)!=null?_ref3.person:void 0)!=null?_ref1:data.organisation)!=null?_ref:(_ref4=data.parties)!=null?_ref4.organisation:void 0;if(!data)data={addParty:true,emailAddress:this.email,emailId:this.emailId,name:this.name!==this.email?this.name:"",pictureURL:""+app.Theme.images+"/unknown_avatar_70.png"};this.addModelMethods(data);return data};PartyInfo.prototype.addModelMethods=function $PartyInfo$$addModelMethods$(data){var w$$0;
var _i;var _len;var _ref;var _ref1;var _ref2;var _ref3;var _results;data.displayName=$.proxy(partyModelMethods.displayName,data);data.isContactDetails=$.proxy(partyModelMethods.isContactDetails,data);if((_ref=data.contacts)!=null)_ref.websiteUrl=$.proxy(partyModelMethods.websiteUrl,data.contacts);if((_ref1=data.contacts)!=null)_ref1.websiteNonUrl=$.proxy(partyModelMethods.websiteNonUrl,data.contacts);_ref3=Z.toArray((_ref2=data.contacts)!=null?_ref2.website:void 0);_results=[];for(_i=0,_len=_ref3.length;_i<
_len;_i++){w$$0=_ref3[_i];_results.push(function(w){return w.formattedWebService=$.proxy(partyModelMethods.formattedWebService,w)}(w$$0))}return _results};PartyInfo.prototype.positionEl=function $PartyInfo$$positionEl$(){var arrowSize;var elHeight;var elWidth;var feedbackWidth;var triggerHeight;var triggerPosition;var triggerWidth;var windowWidth;windowWidth=$(window).width();feedbackWidth=25;arrowSize=8;elHeight=this.$el.outerHeight();elWidth=this.$el.outerWidth();triggerPosition=this.$trigger.offset();
triggerHeight=this.$trigger.outerHeight();triggerWidth=this.$trigger.outerWidth();if(triggerPosition.top-elHeight>0)if(triggerPosition.left+elWidth+feedbackWidth<windowWidth){this.$el.addClass("invite-sw");return this.$el.css({top:triggerPosition.top-elHeight-arrowSize,left:triggerPosition.left})}else{this.$el.addClass("invite-se");return this.$el.css({top:triggerPosition.top-elHeight-arrowSize,left:triggerPosition.left+triggerWidth-elWidth})}else if(triggerPosition.left+elWidth+feedbackWidth<windowWidth){this.$el.addClass("invite-nw");
return this.$el.css({top:triggerPosition.top+triggerHeight+arrowSize,left:triggerPosition.left})}else{this.$el.addClass("invite-ne");return this.$el.css({top:triggerPosition.top+triggerHeight+arrowSize,left:triggerPosition.left+triggerWidth-elWidth})}};PartyInfo.prototype.show=function $PartyInfo$$show$(){this.positionEl();return this.$el.fadeIn(200)};PartyInfo.prototype.hide=function $PartyInfo$$hide$(){return this.$el.fadeOut(50)};return PartyInfo}();this.Z=this.Z||{};this.Z.setupPartyInfo=function $this$Z$setupPartyInfo$(){var $body;
var $currentTrigger;var enterBuildTimer;var enterShowTimer;var leaveTimer;$body=$("body");$currentTrigger=null;enterBuildTimer=null;enterShowTimer=null;leaveTimer=null;$body.on("mouseenter",".party-info-card",function(e){var $t;var partyInfoReq;$t=$(this);partyInfoReq=null;app.getUserPreferences();if(enterBuildTimer){clearTimeout(enterBuildTimer);enterBuildTimer=null}if(enterShowTimer){clearTimeout(enterShowTimer);enterShowTimer=null}if($t.is($currentTrigger)){clearTimeout(leaveTimer);leaveTimer=
null;return}enterBuildTimer=setTimeout(function(){return partyInfoReq=new PartyInfo($t)},50);return enterShowTimer=setTimeout(function(){$currentTrigger=$t;enterShowTimer=null;return partyInfoReq.then(function(partyInfo){if($t.is($currentTrigger)&&enterShowTimer===null)return partyInfo.show()})},400)});$body.on("mouseleave",".party-info-card",function(e){var $t;$t=$(this);if(enterBuildTimer){clearTimeout(enterBuildTimer);enterBuildTimer=null}if(enterShowTimer){clearTimeout(enterShowTimer);enterShowTimer=
null}return leaveTimer=setTimeout(function(){var partyInfo;partyInfo=$t.data("party-info");if(partyInfo!=null)partyInfo.hide();return $currentTrigger=null},400)});return $body.on("click",".party-info-card a",function(e){if(enterBuildTimer)clearTimeout(enterBuildTimer);if(enterShowTimer)clearTimeout(enterShowTimer);return $currentTrigger=null})};partyModelMethods={displayName:function $partyModelMethods$displayName$(){var _ref;var _ref1;var _ref2;return(_ref=this.name)!=null?_ref:""+((_ref1=this.firstName)!=
null?_ref1:"")+" "+((_ref2=this.lastName)!=null?_ref2:"")},formattedWebService:function $partyModelMethods$formattedWebService$(){return this.webService.toLowerCase()},websiteUrl:function $partyModelMethods$websiteUrl$(){return _.filter(Z.toArray(this.website),function(w){return w.webService==="URL"})},websiteNonUrl:function $partyModelMethods$websiteNonUrl$(){return _.filter(Z.toArray(this.website),function(w){return w.webService!=="URL"})},isContactDetails:function $partyModelMethods$isContactDetails$(){var _ref;
var _ref1;var _ref2;var _ref3;return Z.toArray((_ref=this.contacts)!=null?_ref.phone:void 0).length||Z.toArray((_ref1=this.contacts)!=null?_ref1.email:void 0).length||Z.toArray((_ref2=this.contacts)!=null?_ref2.address:void 0).length||Z.toArray((_ref3=this.contacts)!=null?typeof _ref3.websiteUrl==="function"?_ref3.websiteUrl():void 0:void 0).length}}}).call(this);
(function(){var SocialNotification;var __bind=function $__bind$(fn,me){return function(){return fn.apply(me,arguments)}};SocialNotification=function(){function SocialNotification(partyId){this.partyId=partyId;this.errorMessage=__bind(this.errorMessage,this);this.addAllErrorHandler=__bind(this.addAllErrorHandler,this);this.addSingleErrorHandler=__bind(this.addSingleErrorHandler,this);this.updateCounter=__bind(this.updateCounter,this);this.addIconToProfile=__bind(this.addIconToProfile,this);this.addAll=
__bind(this.addAll,this);this.onTimerCallbackToCheckPopupWindowClosure=__bind(this.onTimerCallbackToCheckPopupWindowClosure,this);this.addNetworkRenew=__bind(this.addNetworkRenew,this);this.addSingleNetwork=__bind(this.addSingleNetwork,this);this.hideAndShow=__bind(this.hideAndShow,this);this.handleResponse=__bind(this.handleResponse,this);this.updateCount=__bind(this.updateCount,this);if(window.Prototype)delete Array.prototype.toJSON;this.GETUrl="/api/party/"+this.partyId+"/social/search";this.POSTUrl=
"/api/party/"+this.partyId+"/social";this.$el=jQuery("#social-accounts-found");this.$notification=jQuery("#notification");this.$inviteError=jQuery("#invite-error");this.facebookRenewUrl="/users/social/connect/facebook";this.timer=null;this.findSocialNetworks();this.attachEvents()}SocialNotification.prototype.notificationCounter="#social-network-counter";SocialNotification.prototype.isVisible=false;SocialNotification.prototype.data=[];SocialNotification.prototype.findSocialNetworks=function $SocialNotification$$findSocialNetworks$(){return jQuery.ajax({url:this.GETUrl,
type:"GET",dataType:"json",cache:false,success:this.handleResponse,error:this.errorHandler})};SocialNotification.prototype.updateCount=function $SocialNotification$$updateCount$(count){var $notification;if(count!==0){$notification=jQuery(this.notificationCounter);$notification.html(count);return $notification.fadeIn()}};SocialNotification.prototype.handleResponse=function $SocialNotification$$handleResponse$(data,textStatus,jqXHR){var count;var _this=this;if(jqXHR.getResponseHeader("X-Cache")==="MISS")jQuery(this.notificationCounter).addClass("bounce");
if(jqXHR.getResponseHeader("X-Search-Scope")==="PUBLIC")jQuery("#found-accounts").append('<p class="invite-message">To help Capsule find more social networks, connect your <a href="/users/social">twitter, linked-in and facebook accounts</a></p>');count=data.length;this.count=data.length;this.data=data;if(count>0){this.updateCount(count);jQuery.each(data,function(i,item){var $button;var img;var liId;liId="network-"+i;img=new Image;img.onerror=function $img$onerror$(){return this.src=app.Assets.path(app.Theme.images+
"/person_avatar_32.png")};if(item.picture!=="")img.src=item.picture;else img.src=app.Assets.path(app.Theme.images+"/person_avatar_32.png");jQuery("#found-accounts").append('<li id="'+liId+'" class="network '+item.network.toLowerCase()+'-profile"><span></span><a class="sns-link" target="_blank" href="'+item.url+'" title="">'+item.displayName+'</a><a class="btn">Add</a></li>');jQuery("#"+liId).prepend(img);$button=jQuery("#"+liId+" .btn");$button.one("click",{dataIndex:i},_this.addSingleNetwork);return $button.bind("noMoreNetworks",
function(){if(_this.getCurrentCount()===0)return _this.$el.find("#found-accounts").html("<p>No more social networks found.</p>")})});if(jqXHR.getResponseHeader("InvalidTokens")===!null)jQuery.each(jqXHR.getResponseHeader("InvalidTokens").split(","),function(i,item){var $button;var img;var liId;liId="network-invalid-"+i;if(item==="facebook"){jQuery("#found-accounts").append('<li id="'+liId+'" class="network renew '+item+'-profile"><span/><p>Search failed as access to your account has expired</p><a class="btn btn-renew">Renew</a></li>');
img=new Image;img.src=app.Assets.path(app.Theme.images+"/person_avatar_32.png");jQuery("#"+liId).prepend(img);$button=jQuery("#"+liId+" .btn");return $button.bind("click",_this.addNetworkRenew)}});jQuery("#add-all").one("click",this.addAll);this.$notification.show();return this.positionInvite()}};SocialNotification.prototype.hideAndShow=function $SocialNotification$$hideAndShow$(){var currentCount;var _this=this;if(this.isVisible){this.isVisible=false;currentCount=jQuery(this.notificationCounter).text();
if(currentCount==="0")return this.$el.fadeOut(function(){return _this.$notification.fadeOut().parent().remove()});else return this.$el.fadeOut()}else{this.$el.fadeIn();return this.isVisible=true}};SocialNotification.prototype.addSingleNetwork=function $SocialNotification$$addSingleNetwork$(event){var $target;var dataIndex;var dataToPost;var _this=this;dataIndex=event.data.dataIndex;$target=jQuery(event.target);dataToPost=[];dataToPost.push(this.data[dataIndex]);return jQuery.ajax({type:"POST",contentType:"application/json",
url:this.POSTUrl,dataType:"json",processData:false,data:JSON.stringify(dataToPost),success:function(){_this.addIconToProfile($target,_this.data[dataIndex]);return _this.data[dataIndex]=undefined},error:function(req){_this.addSingleErrorHandler($target,req);return _this.errorMessage(req.status)}})};SocialNotification.prototype.addNetworkRenew=function $SocialNotification$$addNetworkRenew$(){var callback;var facebookPopupWindow;var popupHeight;var popupOpenerLocation;var popupWidth;var _this=this;popupWidth=
640;popupHeight=286;facebookPopupWindow=window.open(this.facebookRenewUrl,"FacebookPopupWindow","width="+popupWidth+",height="+popupHeight);popupOpenerLocation=facebookPopupWindow.opener.location;callback=function $callback$(){return _this.onTimerCallbackToCheckPopupWindowClosure(facebookPopupWindow,popupOpenerLocation)};return this.timer=setInterval(callback,1E3)};SocialNotification.prototype.onTimerCallbackToCheckPopupWindowClosure=function $SocialNotification$$onTimerCallbackToCheckPopupWindowClosure$(facebookPopupWindow,
popupOpenerLocation){if(facebookPopupWindow.closed){clearInterval(this.timer);return popupOpenerLocation.reload()}};SocialNotification.prototype.addAll=function $SocialNotification$$addAll$(event){var $target;var networksToPost;var _this=this;$target=jQuery(event.target);networksToPost=[];jQuery.each(this.data,function(index,network){if(network!==undefined)return networksToPost.push(network)});return jQuery.ajax({type:"POST",contentType:"application/json",url:this.POSTUrl,dataType:"json",processData:false,
data:JSON.stringify(networksToPost),success:function(){jQuery("#found-accounts .btn").each(function(i,addButton){if(_this.data[i]!==undefined)return _this.addIconToProfile(jQuery(addButton),_this.data[i])});jQuery("#found-accounts .btn-renew").each(function(i,renewButton){return jQuery(renewButton).addClass("disabled")});return jQuery("#add-all").addClass("disabled").text("Added")},error:function(req){_this.addAllErrorHandler($target);return _this.errorMessage(req.status)}})};SocialNotification.prototype.attachEvents=
function $SocialNotification$$attachEvents$(){return jQuery("#sns-link-icon, "+this.notificationCounter+", .invite .close").click(this.hideAndShow)};SocialNotification.prototype.addIconToProfile=function $SocialNotification$$addIconToProfile$($target,dataToPost){var _this=this;$target.text("Added");this.updateCounter();return setTimeout(function(){return $target.parent().slideUp(function(){jQuery("#social-network-links").append('<td><a class="small-icon '+dataToPost.network.toLowerCase()+'" target="_blank" title="'+
dataToPost.displayName+'" href="'+dataToPost.url+'"></a></td>');return $target.delay(800).trigger("noMoreNetworks")})},800)};SocialNotification.prototype.updateCounter=function $SocialNotification$$updateCounter$(){var $notification;var currentCount;$notification=jQuery(this.notificationCounter);currentCount=this.getCurrentCount();currentCount=currentCount-1;return $notification.text(currentCount)};SocialNotification.prototype.getCurrentCount=function $SocialNotification$$getCurrentCount$(){return parseInt(jQuery(this.notificationCounter).text(),
10)};SocialNotification.prototype.positionInvite=function $SocialNotification$$positionInvite$(){var notificationPosition;notificationPosition=this.$notification.offset();notificationPosition.left=notificationPosition.left-14;notificationPosition.top=notificationPosition.top+31;return this.$el.offset(notificationPosition)};SocialNotification.prototype.addSingleErrorHandler=function $SocialNotification$$addSingleErrorHandler$($target){$target.text("Failed");return $target.addClass("disabled")};SocialNotification.prototype.addAllErrorHandler=
function $SocialNotification$$addAllErrorHandler$($target){$target.text("Failed");$target.addClass("disabled");return jQuery("#found-accounts .btn").each(function(){return jQuery(this).text("Failed").addClass("disabled").unbind("click")})};SocialNotification.prototype.errorMessage=function $SocialNotification$$errorMessage$(errorCode){var errorCodeOutput;errorCodeOutput="[<b>"+errorCode+"</b>] ";if(errorCode===400||404||500)return this.$inviteError.html(errorCodeOutput+"Application error, if problem persists please contact support@capsulecrm.com").fadeIn();
else if(errorCode===401)return this.$inviteError.html('Your session has expired. <a href="/">Login<a>').fadeIn();else if(errorCode===403)return this.$inviteError.html(errorCodeOutput+"You aren't authorised to do this").fadeIn();else if(errorCode===504)return this.$inviteError.html(errorCodeOutput+"Request timed out, if problem persists please contact support@capsulecrm.com").fadeIn();else return this.$inviteError.html("Request failed with error code: [<b>"+errorCode+"</b>]").fadeIn()};SocialNotification.prototype.errorHandler=
function $SocialNotification$$errorHandler$(){};return SocialNotification}();window.SocialNotification=SocialNotification}).call(this);
(function(){this.Z=this.Z||{};this.Z.toArray=function $this$Z$toArray$(a){if(!(a!=null))return[];if(Object.prototype.toString.call(a)==="[object Array]")return a;else return[a]};this.Z.emailComposeUrl=function $this$Z$emailComposeUrl$(emailAddress,dropboxAddress,emailPreference,emailDomain){if(!(emailPreference!=null))return"mailto:"+emailAddress+"?bcc="+(dropboxAddress!=null?dropboxAddress:"");else if(!(emailDomain!=null))return"https://mail.google.com/mail/?view=cm&fs=1&tf=1&source=mailto&to="+
encodeURIComponent(emailAddress)+"&bcc="+encodeURIComponent(dropboxAddress!=null?dropboxAddress:"");else return"https://mail.google.com/a/"+encodeURIComponent(emailDomain)+"/?view=cm&fs=1&tf=1&source=mailto&to="+encodeURIComponent(emailAddress)+"&bcc="+encodeURIComponent(dropboxAddress!=null?dropboxAddress:"")}}).call(this);